<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2017-07-14T06:32:03Z"/><meta name="updated" content="2017-07-14T06:32:09Z"/><title>Skip List（跳跃表）原理详解与实现     本文内容框架：   §1 Skip List 介绍    §2 Skip List 定义以及构造步骤     §3 Skip List 完整实现 </title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;text-align:center;"><strong><span style="font-size:medium;">Skip List（跳跃表）原理详解与实现</span></strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;font-size:14.4px;line-height:14.4px;">本文内容框架：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;"><span style="white-space:pre;"><span style="font-size:14.4px;">          </span></span><strong style="line-height:19.0267px;white-space:pre;"><span style="line-height:25.2px;"><span style="font-size:small;">§1   Skip List 介绍</span></span></strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;"><span style="line-height:19.0267px;white-space:pre;"><strong><span style="font-size:14.4px;line-height:25.2px;">       </span><span style="font-size:small;"><span style="line-height:25.2px;">    </span><span style="line-height:25.2px;">§2   Skip List 定义以及构造步骤</span></span></strong></span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;font-size:14.4px;line-height:14.4px;"><span style="font-size:small;"><span style="font-size:medium;line-height:19.0267px;white-space:pre;"><strong><span style="font-size:small;"><span style="font-size:14.4px;line-height:25.2px;">        &nbsp;</span></span></strong></span></span><strong style="line-height:19.0133px;white-space:pre;"><span style="line-height:25.2px;"> </span><span style="font-size:small;"><span style="line-height:25.2px;">§3  Skip List 完整实现</span></span></strong><strong style="font-size:medium;line-height:19.0267px;white-space:pre;"><span style="font-size:small;"><span style="font-size:14.4px;line-height:25.2px;">   </span></span></strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;font-size:14.4px;line-height:14.4px;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;"><span style="line-height:19.0267px;white-space:pre;"><strong><span style="font-size:14.4px;line-height:25.2px;">          </span><span style="line-height:25.2px;"><span style="font-size:small;">§4  Skip List 概率分析</span></span></strong></span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;"><strong style="line-height:19.0133px;white-space:pre;"><span style="line-height:25.2px;"><span style="font-size:small;">            §5  小结</span></span></strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;"><strong style="line-height:19.0267px;white-space:pre;"><span style="line-height:25.2px;"><span style="font-size:small;">§1   Skip List 介绍</span></span></strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="white-space:pre;">	</span>Skip List是一种随机化的数据结构，基于并联的链表，其效率可比拟于二叉查找树（对于大多数操作需要O(log n)平均时间）。基本上，跳跃列表是对有序的链表增加上附加的前进链接，增加是以随机化的方式进行的，所以在列表中的查找可以快速的跳过部分列表(因此得名)。所有操作都以对数随机化的时间进行。Skip List可以很好解决有序链表查找特定值的困难。</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;"><span style="line-height:19.0267px;white-space:pre;"><strong><span style="font-size:small;"><span style="line-height:25.2px;">§2  Skip List 定义以及构造步骤</span></span></strong></span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">Skip List定义</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="white-space:pre;">	</span>像下面这样（初中物理经常这样用，这里我也盗用下）：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="font-family:Simsun;font-size:13px;line-height:20.7833px;">一个跳表，应该具有以下特征：</span></p>
<ol style="font-size:13px;line-height:20.7833px;margin:0px 0px 1em 25px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;border:0px;vertical-align:baseline;font-family:Simsun;"><li style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><span style="white-space:pre;">	</span>一个跳表应该有几个层（level）组成；</li>
<li style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><span style="white-space:pre;">	</span>跳表的第一层包含所有的元素；</li>
<li style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><span style="white-space:pre;">	</span>每一层都是一个有序的链表；</li>
<li style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><span style="white-space:pre;">	</span>如果元素x出现在第i层，则所有比i小的层都包含x；</li>
<li style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><span style="white-space:pre;">	</span>第i层的元素通过一个down指针指向下一层拥有相同值的元素；</li>
<li style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><span style="white-space:pre;">	</span>在每一层中，-1和1两个元素都出现(分别表示INT_MIN和INT_MAX)；</li>
<li style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><span style="white-space:pre;">	</span>Top指针指向最高层的第一个元素。</li>
</ol>
<p style="margin-top:0px;margin-bottom:1em;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;border:0px;font-size:13px;vertical-align:baseline;font-family:Simsun;line-height:20.7833px;"><strong style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;">构建有序链表</strong></p>
<p style="margin-top:0px;margin-bottom:1em;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;border:0px;font-size:13px;vertical-align:baseline;font-family:Simsun;line-height:20.7833px;"><span style="white-space:pre;">			</span><img src="http://www.spongeliu.com/wp-content/uploads/2010/09/1.png" alt="link list" title="点击查看原始大小图片" class="magplus" width="700" height="45" style="border:0px;cursor:url(&quot;/images/magplus.gif&quot;), pointer;" /></p>
<p style="margin-top:0px;margin-bottom:1em;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;border:0px;font-size:13px;vertical-align:baseline;font-family:Simsun;line-height:20.7833px;"><strong style="margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;">的一个跳跃表如下：</strong><br />
<a href="http://www.spongeliu.com/wp-content/uploads/2010/09/2.png" style="color:#005299;margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent;"><img src="http://www.spongeliu.com/wp-content/uploads/2010/09/2.png" class="aligncenter size-full wp-image-70" title="2" height="191" width="540" alt="" style="border:0px;margin:0px auto;padding:0px;vertical-align:baseline;background-color:transparent;display:block;" /></a></p>
<div style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><br />
</div>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">Skip List构造步骤：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="white-space:pre;">	</span>&nbsp; &nbsp; &nbsp; &nbsp;<strong style="margin:0px;padding:0px;border:0px;font-size:13px;vertical-align:baseline;font-family:Simsun;line-height:20.7833px;">1、给定一个有序的链表。</strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><strong style="margin:0px;padding:0px;border:0px;font-size:13px;vertical-align:baseline;font-family:Simsun;line-height:20.7833px;"><span style="white-space:pre;">	</span>2、选择连表中最大和最小的元素，然后从其他元素中按照一定算法（随机）随即选出一些元素，将这些元素组成有序链表。这个新的链表称为一层，原链表称为其下一层。<br />
<span style="white-space:pre;">	</span>3、为刚选出的每个元素添加一个指针域，这个指针指向下一层中值同自己相等的元素。Top指针指向该层首元素<br />
<span style="white-space:pre;">	</span>4、重复2、3步，直到不再能选择出除最大最小元素以外的元素。</strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;font-size:14.4px;line-height:14.4px;"><strong style="line-height:19.0133px;white-space:pre;"><span style="font-size:small;"><span style="line-height:25.2px;">§3  Skip List 完整实现</span></span></strong><strong style="font-size:medium;line-height:19.0267px;white-space:pre;"><span style="font-size:small;"><span style="font-size:14.4px;line-height:25.2px;">   </span></span></strong></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">下面来定义跳表的数据结构（基于C）</p>
<h3 style="font-size:20px;line-height:35px;margin:10px 0px;padding:0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#dddddd;font-family:Arial, Helvetica, sans-serif;">首先是每个节点的数据结构</h3>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"><div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:565.5px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=typedef%20%20struct%20nodeStructure%0A%7B%0A%0A%20%20%20%20int%20key%3B%0A%0A%20%20%20%20int%20value%3B%0A%0A%20%20%20%20struct%20nodeStructure%20*forward%5B1%5D%3B%0A%7DnodeStructure%3B" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">typedef</span>&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">struct</span>&nbsp;nodeStructure&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;value;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">struct</span>&nbsp;nodeStructure&nbsp;*forward[1];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}nodeStructure;&nbsp;&nbsp;</span></li>
</ol>
</div>
</div>
<div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"></div>
</div>
<h3 style="font-size:20px;line-height:35px;margin:10px 0px;padding:0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#dddddd;font-family:Arial, Helvetica, sans-serif;">跳表的结构如下</h3>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"><div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:565.5px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=typedef%20%20struct%20skiplist%0A%7B%0A%0A%20%20%20%20int%20level%3B%0A%0A%20%20%20%20nodeStructure%20*header%3B%0A%7Dskiplist%3B" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">typedef</span>&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">struct</span>&nbsp;skiplist&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}skiplist;&nbsp;&nbsp;</span></li>
</ol>
</div>
</div>
</div>
<h3 style="font-size:20px;line-height:35px;margin:10px 0px;padding:0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#dddddd;font-family:Arial, Helvetica, sans-serif;">下面是跳表的基本操作</h3>
<h4 style="font-size:18px;line-height:24px;margin:0px 0px 0.25em;padding:4px 0px 0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#f1f1f1;font-family:Arial, Helvetica, sans-serif;">首先是节点的创建</h4>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"><div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:565.5px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=nodeStructure*%20createNode(int%20level%2Cint%20key%2Cint%20value)%0A%7B%0A%0A%20%20%20%20nodeStructure%20*ns%3D(nodeStructure%20*)malloc(sizeof(nodeStructure)%2Blevel*sizeof(nodeStructure*))%3B%20%20%0A%0A%20%20%20%20ns-%3Ekey%3Dkey%3B%20%20%0A%0A%20%20%20%20ns-%3Evalue%3Dvalue%3B%20%20%0A%0A%20%20%20%20return%20ns%3B%20%20%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">nodeStructure*&nbsp;createNode(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;level,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;value)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*ns=(nodeStructure&nbsp;*)malloc(<span class="keyword" style="color:#7f0055;font-weight:bold;">sizeof</span>(nodeStructure)+level*<span class="keyword" style="color:#7f0055;font-weight:bold;">sizeof</span>(nodeStructure*));&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;ns-&gt;key=key;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;ns-&gt;value=value;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;ns;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
</div>
<div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"></div>
</div>
<h4 style="font-size:18px;line-height:24px;margin:0px 0px 0.25em;padding:4px 0px 0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#f1f1f1;font-family:Arial, Helvetica, sans-serif;">列表的初始化</h4>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">列表的初始化需要初始化头部，并使头部每层（根据事先定义的MAX_LEVEL）指向末尾（NULL）。</p>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"><div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:565.5px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=skiplist*%20createSkiplist()%0A%7B%0A%0A%20%20%20%20skiplist%20*sl%3D(skiplist%20*)malloc(sizeof(skiplist))%3B%20%20%0A%0A%20%20%20%20sl-%3Elevel%3D0%3B%20%20%0A%0A%20%20%20%20sl-%3Eheader%3DcreateNode(MAX_LEVEL-1%2C0%2C0)%3B%20%20%0A%0A%20%20%20%20for(int%20i%3D0%3Bi%3CMAX_LEVEL%3Bi%2B%2B)%20%20%0A%0A%20%20%20%20%7B%20%20%0A%0A%20%20%20%20%20%20%20%20sl-%3Eheader-%3Eforward%5Bi%5D%3DNULL%3B%20%20%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20sl%3B%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">skiplist*&nbsp;createSkiplist()&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;skiplist&nbsp;*sl=(skiplist&nbsp;*)malloc(<span class="keyword" style="color:#7f0055;font-weight:bold;">sizeof</span>(skiplist));&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;level=0;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;header=createNode(MAX_LEVEL-1,0,0);&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=0;i&lt;MAX_LEVEL;i++)&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;header-&gt;forward[i]=NULL;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;sl;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
</div>
</div>
<h4 style="font-size:18px;line-height:24px;margin:0px 0px 0.25em;padding:4px 0px 0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#f1f1f1;font-family:Arial, Helvetica, sans-serif;">插入元素</h4>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">插入元素的时候元素所占有的层数完全是随机的，通过随机算法产生</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">&nbsp;</p>
<div class="dp-highlighter" id="" style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=int%20randomLevel()%20%20%0A%7B%0A%0A%20%20%20%20int%20k%3D1%3B%0A%0A%20%20%20%20while%20(rand()%252)%20%20%0A%0A%20%20%20%20%20%20%20%20k%2B%2B%3B%20%20%0A%0A%20%20%20%20k%3D(k%3CMAX_LEVEL)%3Fk%3AMAX_LEVEL%3B%0A%0A%20%20%20%20return%20k%3B%20%20%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;randomLevel()&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=1;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>&nbsp;(rand()%2)&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k++;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;k=(k&lt;MAX_LEVEL)?k:MAX_LEVEL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;k;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</span><p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"></div>
</div>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">跳表的插入需要三个步骤，第一步需要查找到在每层待插入位置，然后需要随机产生一个层数，最后就是从高层至下插入，插入时算法和普通链表的插入完全相同。</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="white-space:pre;">						</span><img src="http://yilee.info/media/skiplist/3.jpg" alt="跳表,Skip List" style="border:0px;" /></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<div class="dp-highlighter" id="" style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=bool%20insert(skiplist%20*sl%2Cint%20key%2Cint%20value)%0A%7B%0A%0A%20%20%20%20nodeStructure%20*update%5BMAX_LEVEL%5D%3B%0A%0A%20%20%20%20nodeStructure%20*p%2C%20*q%20%3D%20NULL%3B%0A%0A%20%20%20%20p%3Dsl-%3Eheader%3B%0A%0A%20%20%20%20int%20k%3Dsl-%3Elevel%3B%0A%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BE%80%E4%B8%8B%E6%9F%A5%E6%89%BE%E9%9C%80%E8%A6%81%E6%8F%92%E5%85%A5%E7%9A%84%E4%BD%8D%E7%BD%AE%0A%0A%20%20%20%20%2F%2F%E5%A1%AB%E5%85%85update%0A%0A%20%20%20%20for(int%20i%3Dk-1%3B%20i%20%3E%3D%200%3B%20i--)%7B%0A%0A%20%20%20%20%20%20%20%20while((q%3Dp-%3Eforward%5Bi%5D)%26%26(q-%3Ekey%3Ckey))%0A%0A%20%20%20%20%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20p%3Dq%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20update%5Bi%5D%3Dp%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%E4%B8%8D%E8%83%BD%E6%8F%92%E5%85%A5%E7%9B%B8%E5%90%8C%E7%9A%84key%0A%0A%20%20%20%20if(q%26%26q-%3Ekey%3D%3Dkey)%0A%0A%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%0A%0A%20%20%20%20%2F%2F%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E9%9A%8F%E6%9C%BA%E5%B1%82%E6%95%B0K%0A%0A%20%20%20%20%2F%2F%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%BE%85%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9q%0A%0A%20%20%20%20%2F%2F%E4%B8%80%E5%B1%82%E4%B8%80%E5%B1%82%E6%8F%92%E5%85%A5%0A%0A%20%20%20%20k%3DrandomLevel()%3B%0A%0A%20%20%20%20%2F%2F%E6%9B%B4%E6%96%B0%E8%B7%B3%E8%A1%A8%E7%9A%84level%0A%0A%20%20%20%20if(k%3E(sl-%3Elevel))%0A%0A%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20for(int%20i%3Dsl-%3Elevel%3B%20i%20%3C%20k%3B%20i%2B%2B)%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20update%5Bi%5D%20%3D%20sl-%3Eheader%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20sl-%3Elevel%3Dk%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%0A%0A%20%20%20%20q%3DcreateNode(k%2Ckey%2Cvalue)%3B%0A%0A%20%20%20%20%2F%2F%E9%80%90%E5%B1%82%E6%9B%B4%E6%96%B0%E8%8A%82%E7%82%B9%E7%9A%84%E6%8C%87%E9%92%88%EF%BC%8C%E5%92%8C%E6%99%AE%E9%80%9A%E5%88%97%E8%A1%A8%E6%8F%92%E5%85%A5%E4%B8%80%E6%A0%B7%0A%0A%20%20%20%20for(int%20i%3D0%3Bi%3Ck%3Bi%2B%2B)%0A%0A%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20q-%3Eforward%5Bi%5D%3Dupdate%5Bi%5D-%3Eforward%5Bi%5D%3B%0A%0A%20%20%20%20%20%20%20%20update%5Bi%5D-%3Eforward%5Bi%5D%3Dq%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20true%3B%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">bool</span>&nbsp;insert(skiplist&nbsp;*sl,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;value)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*update[MAX_LEVEL];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*p,&nbsp;*q&nbsp;=&nbsp;NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;p=sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=sl-&gt;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层往下查找需要插入的位置</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//填充update</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=k-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>((q=p-&gt;forward[i])&amp;&amp;(q-&gt;key&lt;key))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]=p;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//不能插入相同的key</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(q&amp;&amp;q-&gt;key==key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">false</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//产生一个随机层数K</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//新建一个待插入节点q</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//一层一层插入</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;k=randomLevel();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//更新跳表的level</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(k&gt;(sl-&gt;level))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=sl-&gt;level;&nbsp;i&nbsp;&lt;&nbsp;k;&nbsp;i++){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]&nbsp;=&nbsp;sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;level=k;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;q=createNode(k,key,value);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//逐层更新节点的指针，和普通列表插入一样</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=0;i&lt;k;i++)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q-&gt;forward[i]=update[i]-&gt;forward[i];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]-&gt;forward[i]=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">true</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</span><p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><span style="white-space:pre;">						</span>&nbsp;红色区域为辅助数组update的内容</p>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"></div>
</div>
<h4 style="font-size:18px;line-height:24px;margin:0px 0px 0.25em;padding:4px 0px 0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#f1f1f1;font-family:Arial, Helvetica, sans-serif;">删除节点</h4>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">删除节点操作和插入差不多，找到每层需要删除的位置，删除时和操作普通链表完全一样。不过需要注意的是，如果该节点的level是最大的，则需要更新跳表的level。</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">&nbsp;</p>
<div class="dp-highlighter" id="" style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=bool%20deleteSL(skiplist%20*sl%2Cint%20key)%0A%7B%0A%0A%20%20%20%20nodeStructure%20*update%5BMAX_LEVEL%5D%3B%0A%0A%20%20%20%20nodeStructure%20*p%2C*q%3DNULL%3B%0A%0A%20%20%20%20p%3Dsl-%3Eheader%3B%0A%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BC%80%E5%A7%8B%E6%90%9C%0A%0A%20%20%20%20int%20k%3Dsl-%3Elevel%3B%0A%0A%20%20%20%20for(int%20i%3Dk-1%3B%20i%20%3E%3D%200%3B%20i--)%7B%0A%0A%20%20%20%20%20%20%20%20while((q%3Dp-%3Eforward%5Bi%5D)%26%26(q-%3Ekey%3Ckey))%0A%0A%20%20%20%20%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20p%3Dq%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20update%5Bi%5D%3Dp%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20if(q%26%26q-%3Ekey%3D%3Dkey)%0A%0A%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%E9%80%90%E5%B1%82%E5%88%A0%E9%99%A4%EF%BC%8C%E5%92%8C%E6%99%AE%E9%80%9A%E5%88%97%E8%A1%A8%E5%88%A0%E9%99%A4%E4%B8%80%E6%A0%B7%0A%0A%20%20%20%20%20%20%20%20for(int%20i%3D0%3B%20i%3Csl-%3Elevel%3B%20i%2B%2B)%7B%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if(update%5Bi%5D-%3Eforward%5Bi%5D%3D%3Dq)%7B%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20update%5Bi%5D-%3Eforward%5Bi%5D%3Dq-%3Eforward%5Bi%5D%3B%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%7D%20%0A%0A%20%20%20%20%20%20%20%20free(q)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9C%E5%88%A0%E9%99%A4%E7%9A%84%E6%98%AF%E6%9C%80%E5%A4%A7%E5%B1%82%E7%9A%84%E8%8A%82%E7%82%B9%EF%BC%8C%E9%82%A3%E4%B9%88%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E7%BB%B4%E6%8A%A4%E8%B7%B3%E8%A1%A8%E7%9A%84%0A%0A%20%20%20%20%20%20%20%20for(int%20i%3Dsl-%3Elevel-1%3B%20i%20%3E%3D%200%3B%20i--)%7B%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if(sl-%3Eheader-%3Eforward%5Bi%5D%3D%3DNULL)%7B%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sl-%3Elevel--%3B%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%0A%0A%20%20%20%20%20%20%20%20%7D%20%20%0A%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20else%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">bool</span>&nbsp;deleteSL(skiplist&nbsp;*sl,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*update[MAX_LEVEL];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*p,*q=NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;p=sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层开始搜</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=sl-&gt;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=k-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>((q=p-&gt;forward[i])&amp;&amp;(q-&gt;key&lt;key))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]=p;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(q&amp;&amp;q-&gt;key==key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//逐层删除，和普通列表删除一样</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=0;&nbsp;i&lt;sl-&gt;level;&nbsp;i++){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(update[i]-&gt;forward[i]==q){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]-&gt;forward[i]=q-&gt;forward[i];&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(q);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//如果删除的是最大层的节点，那么需要重新维护跳表的</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=sl-&gt;level-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(sl-&gt;header-&gt;forward[i]==NULL){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;level--;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">true</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">else</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">false</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</span><p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"></div>
</div>
<h4 style="font-size:18px;line-height:24px;margin:0px 0px 0.25em;padding:4px 0px 0px 20px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#f1f1f1;font-family:Arial, Helvetica, sans-serif;">查找</h4>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;">跳表的优点就是查找比普通链表快，当然查找操作已经包含在在插入和删除过程，实现起来比较简单。</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="white-space:pre;">						</span><img src="http://yilee.info/media/skiplist/4.jpg" alt="跳表,Skip List" style="border:0px;" /></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><span style="white-space:pre;">									</span>&nbsp;搜索key=14的示意图</p>
<div style="font-variant-ligatures:normal;orphans:2;widows:2;font-family:Arial, Helvetica, sans-serif;font-size:16px;line-height:24px;"><div class="syntaxhighlighter notranslate c" style="width:583px;margin:1em 0px !important;overflow:auto !important;font-size:1em !important;"></div>
</div>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<div class="dp-highlighter" id="" style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=int%20search(skiplist%20*sl%2Cint%20key)%0A%7B%0A%0A%20%20%20%20nodeStructure%20*p%2C*q%3DNULL%3B%0A%0A%20%20%20%20p%3Dsl-%3Eheader%3B%0A%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BC%80%E5%A7%8B%E6%90%9C%0A%0A%20%20%20%20int%20k%3Dsl-%3Elevel%3B%0A%0A%20%20%20%20for(int%20i%3Dk-1%3B%20i%20%3E%3D%200%3B%20i--)%7B%0A%0A%20%20%20%20%20%20%20%20while((q%3Dp-%3Eforward%5Bi%5D)%26%26(q-%3Ekey%3C%3Dkey))%0A%0A%20%20%20%20%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if(q-%3Ekey%3D%3Dkey)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20q-%3Evalue%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20p%3Dq%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20NULL%3B%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;search(skiplist&nbsp;*sl,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*p,*q=NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;p=sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层开始搜</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=sl-&gt;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=k-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>((q=p-&gt;forward[i])&amp;&amp;(q-&gt;key&lt;=key))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(q-&gt;key==key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;q-&gt;value;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</span><p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">完整代码如下：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<div class="dp-highlighter" id="" style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">C代码&nbsp;<embed wmode="transparent" src="http://dsqiu.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%23include%3Cstdio.h%3E%0A%23include%3Cstdlib.h%3E%0A%20%20%0A%23define%20MAX_LEVEL%2010%20%2F%2F%E6%9C%80%E5%A4%A7%E5%B1%82%E6%95%B0%0A%20%20%0A%2F%2F%E8%8A%82%E7%82%B9%0Atypedef%20%20struct%20nodeStructure%0A%7B%0A%20%20%20%20int%20key%3B%0A%20%20%20%20int%20value%3B%0A%20%20%20%20struct%20nodeStructure%20*forward%5B1%5D%3B%0A%7DnodeStructure%3B%0A%20%20%0A%2F%2F%E8%B7%B3%E8%A1%A8%0Atypedef%20%20struct%20skiplist%0A%7B%0A%20%20%20%20int%20level%3B%0A%20%20%20%20nodeStructure%20*header%3B%0A%7Dskiplist%3B%0A%20%20%0A%2F%2F%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9%0AnodeStructure*%20createNode(int%20level%2Cint%20key%2Cint%20value)%0A%7B%0A%20%20%20%20nodeStructure%20*ns%3D(nodeStructure%20*)malloc(sizeof(nodeStructure)%2Blevel*sizeof(nodeStructure*))%3B%20%20%0A%20%20%20%20ns-%3Ekey%3Dkey%3B%20%20%0A%20%20%20%20ns-%3Evalue%3Dvalue%3B%20%20%0A%20%20%20%20return%20ns%3B%20%20%0A%7D%0A%20%20%0A%2F%2F%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B7%B3%E8%A1%A8%0Askiplist*%20createSkiplist()%0A%7B%0A%20%20%20%20skiplist%20*sl%3D(skiplist%20*)malloc(sizeof(skiplist))%3B%20%20%0A%20%20%20%20sl-%3Elevel%3D0%3B%20%20%0A%20%20%20%20sl-%3Eheader%3DcreateNode(MAX_LEVEL-1%2C0%2C0)%3B%20%20%0A%20%20%20%20for(int%20i%3D0%3Bi%3CMAX_LEVEL%3Bi%2B%2B)%20%20%0A%20%20%20%20%7B%20%20%0A%20%20%20%20%20%20%20%20sl-%3Eheader-%3Eforward%5Bi%5D%3DNULL%3B%20%20%0A%20%20%20%20%7D%0A%20%20%20%20return%20sl%3B%0A%7D%0A%20%20%0A%2F%2F%E9%9A%8F%E6%9C%BA%E4%BA%A7%E7%94%9F%E5%B1%82%E6%95%B0%0Aint%20randomLevel()%20%20%0A%7B%0A%20%20%20%20int%20k%3D1%3B%0A%20%20%20%20while%20(rand()%252)%20%20%0A%20%20%20%20%20%20%20%20k%2B%2B%3B%20%20%0A%20%20%20%20k%3D(k%3CMAX_LEVEL)%3Fk%3AMAX_LEVEL%3B%0A%20%20%20%20return%20k%3B%20%20%0A%7D%0A%20%20%0A%2F%2F%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9%0Abool%20insert(skiplist%20*sl%2Cint%20key%2Cint%20value)%0A%7B%0A%20%20%20%20nodeStructure%20*update%5BMAX_LEVEL%5D%3B%0A%20%20%20%20nodeStructure%20*p%2C%20*q%20%3D%20NULL%3B%0A%20%20%20%20p%3Dsl-%3Eheader%3B%0A%20%20%20%20int%20k%3Dsl-%3Elevel%3B%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BE%80%E4%B8%8B%E6%9F%A5%E6%89%BE%E9%9C%80%E8%A6%81%E6%8F%92%E5%85%A5%E7%9A%84%E4%BD%8D%E7%BD%AE%0A%20%20%20%20%2F%2F%E5%A1%AB%E5%85%85update%0A%20%20%20%20for(int%20i%3Dk-1%3B%20i%20%3E%3D%200%3B%20i--)%7B%0A%20%20%20%20%20%20%20%20while((q%3Dp-%3Eforward%5Bi%5D)%26%26(q-%3Ekey%3Ckey))%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20p%3Dq%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20update%5Bi%5D%3Dp%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%E4%B8%8D%E8%83%BD%E6%8F%92%E5%85%A5%E7%9B%B8%E5%90%8C%E7%9A%84key%0A%20%20%20%20if(q%26%26q-%3Ekey%3D%3Dkey)%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%0A%20%20%20%20%2F%2F%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E9%9A%8F%E6%9C%BA%E5%B1%82%E6%95%B0K%0A%20%20%20%20%2F%2F%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%BE%85%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9q%0A%20%20%20%20%2F%2F%E4%B8%80%E5%B1%82%E4%B8%80%E5%B1%82%E6%8F%92%E5%85%A5%0A%20%20%20%20k%3DrandomLevel()%3B%0A%20%20%20%20%2F%2F%E6%9B%B4%E6%96%B0%E8%B7%B3%E8%A1%A8%E7%9A%84level%0A%20%20%20%20if(k%3E(sl-%3Elevel))%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20for(int%20i%3Dsl-%3Elevel%3B%20i%20%3C%20k%3B%20i%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20update%5Bi%5D%20%3D%20sl-%3Eheader%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20sl-%3Elevel%3Dk%3B%0A%20%20%20%20%7D%0A%20%20%0A%20%20%20%20q%3DcreateNode(k%2Ckey%2Cvalue)%3B%0A%20%20%20%20%2F%2F%E9%80%90%E5%B1%82%E6%9B%B4%E6%96%B0%E8%8A%82%E7%82%B9%E7%9A%84%E6%8C%87%E9%92%88%EF%BC%8C%E5%92%8C%E6%99%AE%E9%80%9A%E5%88%97%E8%A1%A8%E6%8F%92%E5%85%A5%E4%B8%80%E6%A0%B7%0A%20%20%20%20for(int%20i%3D0%3Bi%3Ck%3Bi%2B%2B)%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20q-%3Eforward%5Bi%5D%3Dupdate%5Bi%5D-%3Eforward%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20update%5Bi%5D-%3Eforward%5Bi%5D%3Dq%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20true%3B%0A%7D%0A%20%20%0A%2F%2F%E6%90%9C%E7%B4%A2%E6%8C%87%E5%AE%9Akey%E7%9A%84value%0Aint%20search(skiplist%20*sl%2Cint%20key)%0A%7B%0A%20%20%20%20nodeStructure%20*p%2C*q%3DNULL%3B%0A%20%20%20%20p%3Dsl-%3Eheader%3B%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BC%80%E5%A7%8B%E6%90%9C%0A%20%20%20%20int%20k%3Dsl-%3Elevel%3B%0A%20%20%20%20for(int%20i%3Dk-1%3B%20i%20%3E%3D%200%3B%20i--)%7B%0A%20%20%20%20%20%20%20%20while((q%3Dp-%3Eforward%5Bi%5D)%26%26(q-%3Ekey%3C%3Dkey))%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(q-%3Ekey%20%3D%3D%20key)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20q-%3Evalue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20p%3Dq%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20NULL%3B%0A%7D%0A%20%20%0A%2F%2F%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E7%9A%84key%0Abool%20deleteSL(skiplist%20*sl%2Cint%20key)%0A%7B%0A%20%20%20%20nodeStructure%20*update%5BMAX_LEVEL%5D%3B%0A%20%20%20%20nodeStructure%20*p%2C*q%3DNULL%3B%0A%20%20%20%20p%3Dsl-%3Eheader%3B%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BC%80%E5%A7%8B%E6%90%9C%0A%20%20%20%20int%20k%3Dsl-%3Elevel%3B%0A%20%20%20%20for(int%20i%3Dk-1%3B%20i%20%3E%3D%200%3B%20i--)%7B%0A%20%20%20%20%20%20%20%20while((q%3Dp-%3Eforward%5Bi%5D)%26%26(q-%3Ekey%3Ckey))%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20p%3Dq%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20update%5Bi%5D%3Dp%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(q%26%26q-%3Ekey%3D%3Dkey)%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%E9%80%90%E5%B1%82%E5%88%A0%E9%99%A4%EF%BC%8C%E5%92%8C%E6%99%AE%E9%80%9A%E5%88%97%E8%A1%A8%E5%88%A0%E9%99%A4%E4%B8%80%E6%A0%B7%0A%20%20%20%20%20%20%20%20for(int%20i%3D0%3B%20i%3Csl-%3Elevel%3B%20i%2B%2B)%7B%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if(update%5Bi%5D-%3Eforward%5Bi%5D%3D%3Dq)%7B%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20update%5Bi%5D-%3Eforward%5Bi%5D%3Dq-%3Eforward%5Bi%5D%3B%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20free(q)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9C%E5%88%A0%E9%99%A4%E7%9A%84%E6%98%AF%E6%9C%80%E5%A4%A7%E5%B1%82%E7%9A%84%E8%8A%82%E7%82%B9%EF%BC%8C%E9%82%A3%E4%B9%88%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E7%BB%B4%E6%8A%A4%E8%B7%B3%E8%A1%A8%E7%9A%84%0A%20%20%20%20%20%20%20%20for(int%20i%3Dsl-%3Elevel%20-%201%3B%20i%20%3E%3D%200%3B%20i--)%7B%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if(sl-%3Eheader-%3Eforward%5Bi%5D%3D%3DNULL)%7B%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sl-%3Elevel--%3B%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%0A%20%20%20%20%20%20%20%20%7D%20%20%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%7D%0A%20%20%0Avoid%20printSL(skiplist%20*sl)%0A%7B%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BC%80%E5%A7%8B%E6%89%93%E5%8D%B0%0A%20%20%20%20nodeStructure%20*p%2C*q%3DNULL%3B%0A%20%20%0A%20%20%20%20%2F%2F%E4%BB%8E%E6%9C%80%E9%AB%98%E5%B1%82%E5%BC%80%E5%A7%8B%E6%90%9C%0A%20%20%20%20int%20k%3Dsl-%3Elevel%3B%0A%20%20%20%20for(int%20i%3Dk-1%3B%20i%20%3E%3D%200%3B%20i--)%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20p%3Dsl-%3Eheader%3B%0A%20%20%20%20%20%20%20%20while(q%3Dp-%3Eforward%5Bi%5D)%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20printf(%22%25d%20-%3E%20%22%2Cp-%3Evalue)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20p%3Dq%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20printf(%22%5Cn%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20printf(%22%5Cn%22)%3B%0A%7D%0Aint%20main()%0A%7B%0A%20%20%20%20skiplist%20*sl%3DcreateSkiplist()%3B%0A%20%20%20%20for(int%20i%3D1%3Bi%3C%3D19%3Bi%2B%2B)%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20insert(sl%2Ci%2Ci*2)%3B%0A%20%20%20%20%7D%0A%20%20%20%20printSL(sl)%3B%0A%20%20%20%20%2F%2F%E6%90%9C%E7%B4%A2%0A%20%20%20%20int%20i%3Dsearch(sl%2C4)%3B%0A%20%20%20%20printf(%22i%3D%25d%5Cn%22%2Ci)%3B%0A%20%20%20%20%2F%2F%E5%88%A0%E9%99%A4%0A%20%20%20%20bool%20b%3DdeleteSL(sl%2C4)%3B%0A%20%20%20%20if(b)%0A%20%20%20%20%20%20%20%20printf(%22%E5%88%A0%E9%99%A4%E6%88%90%E5%8A%9F%5Cn%22)%3B%0A%20%20%20%20printSL(sl)%3B%0A%20%20%20%20system(%22pause%22)%3B%0A%20%20%20%20return%200%3B%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#108ac6;text-decoration:underline;"><img class="star" src="http://dsqiu.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-cpp" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="preprocessor" style="color:gray;">#include&lt;stdio.h&gt;</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="preprocessor" style="color:gray;">#include&lt;stdlib.h&gt;</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="preprocessor" style="color:gray;">#define&nbsp;MAX_LEVEL&nbsp;10&nbsp;//最大层数</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//节点</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">typedef</span>&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">struct</span>&nbsp;nodeStructure&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;value;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">struct</span>&nbsp;nodeStructure&nbsp;*forward[1];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}nodeStructure;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//跳表</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">typedef</span>&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">struct</span>&nbsp;skiplist&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}skiplist;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//创建节点</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">nodeStructure*&nbsp;createNode(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;level,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;value)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*ns=(nodeStructure&nbsp;*)malloc(<span class="keyword" style="color:#7f0055;font-weight:bold;">sizeof</span>(nodeStructure)+level*<span class="keyword" style="color:#7f0055;font-weight:bold;">sizeof</span>(nodeStructure*));&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;ns-&gt;key=key;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;ns-&gt;value=value;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;ns;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//初始化跳表</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">skiplist*&nbsp;createSkiplist()&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;skiplist&nbsp;*sl=(skiplist&nbsp;*)malloc(<span class="keyword" style="color:#7f0055;font-weight:bold;">sizeof</span>(skiplist));&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;level=0;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;header=createNode(MAX_LEVEL-1,0,0);&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=0;i&lt;MAX_LEVEL;i++)&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;header-&gt;forward[i]=NULL;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;sl;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//随机产生层数</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;randomLevel()&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=1;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>&nbsp;(rand()%2)&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k++;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;k=(k&lt;MAX_LEVEL)?k:MAX_LEVEL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;k;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//插入节点</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">bool</span>&nbsp;insert(skiplist&nbsp;*sl,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;value)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*update[MAX_LEVEL];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*p,&nbsp;*q&nbsp;=&nbsp;NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;p=sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=sl-&gt;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层往下查找需要插入的位置</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//填充update</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=k-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>((q=p-&gt;forward[i])&amp;&amp;(q-&gt;key&lt;key))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]=p;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//不能插入相同的key</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(q&amp;&amp;q-&gt;key==key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">false</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//产生一个随机层数K</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//新建一个待插入节点q</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//一层一层插入</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;k=randomLevel();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//更新跳表的level</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(k&gt;(sl-&gt;level))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=sl-&gt;level;&nbsp;i&nbsp;&lt;&nbsp;k;&nbsp;i++){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]&nbsp;=&nbsp;sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;level=k;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;q=createNode(k,key,value);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//逐层更新节点的指针，和普通列表插入一样</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=0;i&lt;k;i++)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q-&gt;forward[i]=update[i]-&gt;forward[i];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]-&gt;forward[i]=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">true</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//搜索指定key的value</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;search(skiplist&nbsp;*sl,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*p,*q=NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;p=sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层开始搜</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=sl-&gt;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=k-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>((q=p-&gt;forward[i])&amp;&amp;(q-&gt;key&lt;=key))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(q-&gt;key&nbsp;==&nbsp;key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;q-&gt;value;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//删除指定的key</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">bool</span>&nbsp;deleteSL(skiplist&nbsp;*sl,<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*update[MAX_LEVEL];&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*p,*q=NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;p=sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层开始搜</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=sl-&gt;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=k-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>((q=p-&gt;forward[i])&amp;&amp;(q-&gt;key&lt;key))&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]=p;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(q&amp;&amp;q-&gt;key==key)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//逐层删除，和普通列表删除一样</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=0;&nbsp;i&lt;sl-&gt;level;&nbsp;i++){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(update[i]-&gt;forward[i]==q){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update[i]-&gt;forward[i]=q-&gt;forward[i];&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(q);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//如果删除的是最大层的节点，那么需要重新维护跳表的</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=sl-&gt;level&nbsp;-&nbsp;1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(sl-&gt;header-&gt;forward[i]==NULL){&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl-&gt;level--;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">true</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">else</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">false</span>;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;printSL(skiplist&nbsp;*sl)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层开始打印</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;nodeStructure&nbsp;*p,*q=NULL;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//从最高层开始搜</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;k=sl-&gt;level;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=k-1;&nbsp;i&nbsp;&gt;=&nbsp;0;&nbsp;i--)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=sl-&gt;header;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">while</span>(q=p-&gt;forward[i])&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string" style="color:blue;">"%d&nbsp;-&gt;&nbsp;"</span>,p-&gt;value);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=q;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string" style="color:blue;">"\n"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string" style="color:blue;">"\n"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;main()&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;skiplist&nbsp;*sl=createSkiplist();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">for</span>(<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=1;i&lt;=19;i++)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert(sl,i,i*2);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;printSL(sl);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//搜索</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">int</span>&nbsp;i=search(sl,4);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string" style="color:blue;">"i=%d\n"</span>,i);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//删除</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="color:#2e8b57;font-weight:bold;">bool</span>&nbsp;b=deleteSL(sl,4);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">if</span>(b)&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string" style="color:blue;">"删除成功\n"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;printSL(sl);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;system(<span class="string" style="color:blue;">"pause"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">return</span>&nbsp;0;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;line-height:14.4px;"><span style="line-height:19.0267px;white-space:pre;"><strong><span style="line-height:25.2px;"><span style="font-size:small;">§4  Skip List 概率分析</span></span></strong></span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><br />
<img src="http://dl.iteye.com/upload/attachment/0075/6320/72bba45d-345e-3803-a9ce-087c4b8d51ec.jpg" alt="" title="点击查看原始大小图片" class="magplus" width="700" height="288" style="border:0px;cursor:url(&quot;/images/magplus.gif&quot;), pointer;" /></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><br />
<img src="http://dl.iteye.com/upload/attachment/0075/6324/77400f12-eafb-33dd-a458-2fd7af71e609.jpg" alt="" title="点击查看原始大小图片" class="magplus" width="700" height="344" style="border:0px;cursor:url(&quot;/images/magplus.gif&quot;), pointer;" /><br />
&nbsp;<br />
<img src="http://dl.iteye.com/upload/attachment/0075/6322/7ee72328-6746-30eb-b807-46eb7f16f360.jpg" alt="" title="点击查看原始大小图片" class="magplus" width="700" height="159" style="border:0px;cursor:url(&quot;/images/magplus.gif&quot;), pointer;" /></p>
<span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</span><p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="white-space:pre;"><strong style="line-height:19.0133px;"><span style="line-height:25.2px;"><span style="font-size:small;">§5  小结</span></span></strong>	</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="white-space:pre;">	</span>本篇博文已经详细讲解了Skip List数据结构的所有内容，应该可以有一个深入的了解。<span style="font-size:14.4px;line-height:25.2px;">如果你有任何建议或者批评和补充，请留言指出，不胜感激，更多参考请移步互联网。</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">参考：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">①Skip List:<span style="white-space:pre;">	</span><a href="http://www.cs.auckland.ac.nz/software/AlgAnim/niemann/s_skl.htm" style="color:#108ac6;">http://www.cs.auckland.ac.nz/software/AlgAnim/niemann/s_skl.htm</a></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">②Songeliu:<span style="white-space:pre;">	</span><a href="http://www.spongeliu.com/63.html" style="color:#108ac6;">http://www.spongeliu.com/63.html</a></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">③<span style="font-family:Arial, Helvetica, sans-serif;font-size:30px;">Shi Kai Lun</span><span style="font-family:Arial, Helvetica, sans-serif;font-size:30px;">&nbsp;：</span><span style="font-family:Arial, Helvetica, sans-serif;font-size:30px;white-space:pre;">	</span><a href="http://yilee.info/skip-list.html" style="color:#108ac6;font-family:Arial, Helvetica, sans-serif;font-size:30px;">http://yilee.info/skip-list.html</a></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">④Michael T. Goodrich Roberto Tamassia Algorithm Design Foundations, Analysis, and Internet Examples</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;">⑤<a href="http://epaperpress.com/sortsearch/skl.html" style="color:#108ac6;">http://epaperpress.com/sortsearch/skl.html</a></p></body></html>