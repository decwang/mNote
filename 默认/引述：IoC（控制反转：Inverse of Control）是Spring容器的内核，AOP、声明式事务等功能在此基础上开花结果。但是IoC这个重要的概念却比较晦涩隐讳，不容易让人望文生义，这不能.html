<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2017-06-29T10:46:32Z"/><meta name="updated" content="2017-06-29T10:46:40Z"/><title>引述：IoC（控制反转：Inverse of Control）是Spring容器的内核，AOP、声明式事务等功能在此基础上开花结果。但是IoC这个重要的概念却比较晦涩隐讳，不容易让人望文生义，这不能</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div id="blog_content" class="blog_content" style="line-height:1.8em;font-family:Helvetica, Tahoma, Arial, sans-serif;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="font-size:xx-large;"><strong>引述</strong></span>：IoC（控制反转：Inverse of Control）是Spring容器的内核，AOP、声明式事务等功能在此基础上开花结果。但是IoC这个重要的概念却比较晦涩隐讳，不容易让人望文生义，这不能不说是一大遗憾。不过IoC确实包括很多内涵，它涉及代码解耦、设计模式、代码优化等问题的考量，我们打算通过一个小例子来说明这个概念。<br />
<br />
<strong><span style="font-size:x-large;">通过实例理解IoC的概念</span></strong>&nbsp;<br />
<br />
&nbsp;&nbsp;&nbsp; 贺岁大片在中国已经形成了一个传统，每到年底总有多部贺岁大片纷至沓来让人应接不暇。在所有贺岁大片中，张之亮的《墨攻》算是比较出彩的一部。该片讲述了战国时期墨家人革离帮助梁国反抗赵国侵略的个人英雄主义故事，恢宏壮阔、浑雄凝重的历史场面相当震撼。其中有一个场景：当刘德华所饰演的墨者革离到达梁国都城下，城上梁国守军问到：“来者何人？”刘德华回答：“墨者革离！”我们不妨通过一个Java类为这个“城门叩问”的场景进行编剧，并借此理解IoC的概念：&nbsp;<br />
代码清单3-1&nbsp; MoAttack：通过演员安排剧本&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20MoAttack%20%7B%0A%20%20%20public%20void%20cityGateAsk()%7B%0A%20%20%20%20%20%20%20%20%2F%2F%E2%91%A0%E6%BC%94%E5%91%98%E7%9B%B4%E6%8E%A5%E4%BE%B5%E5%85%A5%E5%89%A7%E6%9C%AC%0A%09%20%20%20LiuDeHua%20ldh%20%3D%20new%20LiuDeHua()%3B%0A%09%20%20%20ldh.responseAsk(%22%E5%A2%A8%E8%80%85%E9%9D%A9%E7%A6%BB%EF%BC%81%22)%3B%0A%20%20%20%7D%0A%7D%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;MoAttack&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;cityGateAsk(){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//①演员直接侵入剧本</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LiuDeHua&nbsp;ldh&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;LiuDeHua();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ldh.responseAsk(<span class="string" style="color:blue;">"墨者革离！"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp; 我们会发现以上剧本在①处，作为具体角色饰演者的刘德华直接侵入到剧本中，使剧本和演员直接耦合在一起（图3-1）。&nbsp;<br />
<img src="http://dl.iteye.com/upload/attachment/0066/7636/f7676f68-e41e-3883-a37f-046ae379c321.jpg" style="border:0px;" /><br />
&nbsp;&nbsp; 一个明智的编剧在剧情创作时应围绕故事的角色进行，而不应考虑角色的具体饰演者，这样才可能在剧本投拍时自由地遴选任何适合的演员，而非绑定在刘德华一人身上。通过以上的分析，我们知道需要为该剧本主人公革离定义一个接口：&nbsp;<br />
代码清单3-2&nbsp; MoAttack：引入剧本角色&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20MoAttack%20%7B%0A%20%20%20public%20void%20cityGateAsk()%0A%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%E2%91%A0%E5%BC%95%E5%85%A5%E9%9D%A9%E7%A6%BB%E8%A7%92%E8%89%B2%E6%8E%A5%E5%8F%A3%0A%09%20%20%20GeLi%20geli%20%3D%20new%20LiuDeHua()%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%E2%91%A1%E9%80%9A%E8%BF%87%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%B1%95%E5%89%A7%E6%83%85%0A%09%20%20%20geli.responseAsk(%22%E5%A2%A8%E8%80%85%E9%9D%A9%E7%A6%BB%EF%BC%81%22)%3B%20%20%0A%20%20%20%7D%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;MoAttack&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;cityGateAsk()&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//①引入革离角色接口</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeLi&nbsp;geli&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;LiuDeHua();&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//②通过接口开展剧情</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geli.responseAsk(<span class="string" style="color:blue;">"墨者革离！"</span>);&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp; 在①处引入了剧本的角色——革离，剧本的情节通过角色展开，在拍摄时角色由演员饰演，如②处所示。因此墨攻、革离、刘德华三者的类图关系如图 3 2所示：&nbsp;<br />
<img src="http://dl.iteye.com/upload/attachment/0066/7640/14d800d6-3505-3ca3-b21b-01194aaf0a83.jpg" style="border:0px;" />&nbsp;<br />
&nbsp;&nbsp; 可是，从图3 2中，我们可以看出MoAttack同时依赖于GeLi接口和LiuDeHua类，并没有达到我们所期望的剧本仅依赖于角色的目的。但是角色最终必须通过具体的演员才能完成拍摄，如何让LiuDeHua和剧本无关而又能完成GeLi的具体动作呢？当然是在影片投拍时，导演将LiuDeHua安排在GeLi的角色上，导演将剧本、角色、饰演者装配起来（图3-3）。&nbsp;<br />
<img src="http://dl.iteye.com/upload/attachment/0066/7642/24018187-7df1-3657-8464-545eabdf456a.jpg" style="border:0px;" />&nbsp;<br />
通过引入导演，使剧本和具体饰演者解耦了。对应到软件中，导演像是一个装配器，安排演员表演具体的角色。&nbsp;<br />
&nbsp;&nbsp; 现在我们可以反过来讲解IoC的概念了。IoC（Inverse of Control）的字面意思是控制反转，它包括两个内容：&nbsp;<br />
<ul style="margin:0px 0px 1.5em;padding:0px;"><li style="margin:0px 0px 0.25em 30px;padding:0px;">其一是控制</li>
<li style="margin:0px 0px 0.25em 30px;padding:0px;">其二是反转</li>
</ul>
<br />
&nbsp;&nbsp;<strong><span style="color:blue;">那到底是什么东西的“控制”被“反转”了呢</span></strong>？对应到前面的例子，“控制”是指选择GeLi角色扮演者的控制权；“反转”是指这种控制权从《墨攻》剧本中移除，转交到导演的手中。对于软件来说，即是某一接口具体实现类的选择控制权从调用类中移除，转交给第三方决定。&nbsp;<br />
&nbsp;&nbsp; 因为IoC确实不够开门见山，因此业界曾进行了广泛的讨论，最终软件界的泰斗级人物Martin Fowler提出了DI（依赖注入：Dependency Injection）的概念用以代替IoC，即让调用类对某一接口实现类的依赖关系由第三方（容器或协作类）注入，以移除调用类对某一接口实现类的依赖。“依赖注入”这个名词显然比“控制反转”直接明了、易于理解。&nbsp;<br />
<br />
<strong><span style="font-size:x-large;">IoC的类型</span></strong>&nbsp;<br />
<br />
&nbsp; 从注入方法上看，主要可以划分为三种类型：构造函数注入、属性注入和接口注入。Spring支持构造函数注入和属性注入。下面我们继续使用以上的例子说明这三种注入方法的区别。&nbsp;<br />
<br />
<strong><span style="font-size:large;">构造函数注入</span></strong>&nbsp;<br />
<br />
在构造函数注入中，我们通过调用类的构造函数，将接口实现类通过构造函数变量传入，如代码清单3-3所示：&nbsp;<br />
代码清单3-3&nbsp; MoAttack：通过构造函数注入革离扮演者&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20MoAttack%20%7B%0A%20%20%20private%20GeLi%20geli%3B%0A%20%20%20%2F%2F%E2%91%A0%E6%B3%A8%E5%85%A5%E9%9D%A9%E7%A6%BB%E7%9A%84%E5%85%B7%E4%BD%93%E6%89%AE%E6%BC%94%E8%80%85%0A%20%20%20public%20MoAttack(GeLi%20geli)%7B%20%0A%09%20%20%20this.geli%20%3D%20geli%3B%0A%20%20%20%7D%0A%09public%20void%20cityGateAsk()%7B%0A%09%20%20%20geli.responseAsk(%22%E5%A2%A8%E8%80%85%E9%9D%A9%E7%A6%BB%EF%BC%81%22)%3B%0A%20%20%20%7D%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;MoAttack&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">private</span>&nbsp;GeLi&nbsp;geli;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//①注入革离的具体扮演者</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;MoAttack(GeLi&nbsp;geli){&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">this</span>.geli&nbsp;=&nbsp;geli;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;cityGateAsk(){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geli.responseAsk(<span class="string" style="color:blue;">"墨者革离！"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp;&nbsp; MoAttack的构造函数不关心具体是谁扮演革离这个角色，只要在①处传入的扮演者按剧本要求完成相应的表演即可。角色的具体扮演者由导演来安排，如代码清单3-4所示：&nbsp;<br />
代码清单3-4&nbsp; Director：通过构造函数注入革离扮演者&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20Director%20%7B%0A%20%20%20public%20void%20direct()%7B%0A%20%20%20%20%20%20%20%20%2F%2F%E2%91%A0%E6%8C%87%E5%AE%9A%E8%A7%92%E8%89%B2%E7%9A%84%E6%89%AE%E6%BC%94%E8%80%85%0A%09%20%20%20GeLi%20geli%20%3D%20new%20LiuDeHua()%3B%20%20%0A%0A%20%20%20%20%20%20%20%20%2F%2F%E2%91%A1%E6%B3%A8%E5%85%A5%E5%85%B7%E4%BD%93%E6%89%AE%E6%BC%94%E8%80%85%E5%88%B0%E5%89%A7%E6%9C%AC%E4%B8%AD%0A%09%20%20%20MoAttack%20moAttack%20%3D%20new%20MoAttack(geli)%3B%20%0A%09%20%20%20moAttack.cityGateAsk()%3B%0A%20%20%20%7D%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;Director&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;direct(){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//①指定角色的扮演者</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeLi&nbsp;geli&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;LiuDeHua();&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//②注入具体扮演者到剧本中</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MoAttack&nbsp;moAttack&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;MoAttack(geli);&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moAttack.cityGateAsk();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp; 在①处，导演安排刘德华饰演革离的角色，并在②处，将刘德华“注入”到墨攻的剧本中，然后开始“城门叩问”剧情的演出工作。&nbsp;<br />
<br />
<strong><span style="font-size:large;">属性注入</span></strong>&nbsp;<br />
<br />
&nbsp;&nbsp; 有时，导演会发现，虽然革离是影片《墨攻》的第一主角，但并非每个场景都需要革离的出现，在这种情况下通过构造函数注入相当于每时每刻都在革离的饰演者在场，可见并不妥当，这时可以考虑使用属性注入。属性注入可以有选择地通过Setter方法完成调用类所需依赖的注入，更加灵活方便：&nbsp;<br />
代码清单3-5&nbsp; MoAttack：通过Setter方法注入革离扮演者&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20MoAttack%20%7B%0A%09private%20GeLi%20geli%3B%0A%20%20%20%20%20%2F%2F%E2%91%A0%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%E6%96%B9%E6%B3%95%0A%09public%20void%20setGeli(GeLi%20geli)%20%7B%20%20%0A%09%09this.geli%20%3D%20geli%3B%0A%09%7D%0A%09public%20void%20cityGateAsk()%20%7B%0A%09%09geli.responseAsk(%22%E5%A2%A8%E8%80%85%E9%9D%A9%E7%A6%BB%22)%3B%0A%09%7D%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;MoAttack&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">private</span>&nbsp;GeLi&nbsp;geli;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//①属性注入方法</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;setGeli(GeLi&nbsp;geli)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">this</span>.geli&nbsp;=&nbsp;geli;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;cityGateAsk()&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geli.responseAsk(<span class="string" style="color:blue;">"墨者革离"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp; MoAttack在①处为geli属性提供一个Setter方法，以便让导演在需要时注入geli的具体扮演者。&nbsp;<br />
代码清单3-6&nbsp; Director：通过Setter方法注入革离扮演者&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20Director%20%7B%0A%20%20%20public%20void%20direct()%7B%0A%09%20%20%20GeLi%20geli%20%3D%20new%20LiuDeHua()%3B%0A%09%20%20%20MoAttack%20moAttack%20%3D%20new%20MoAttack()%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%E2%91%A0%E8%B0%83%E7%94%A8%E5%B1%9E%E6%80%A7Setter%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5%0A%09%20%20%20moAttack.setGeli(geli)%3B%20%0A%09%20%20%20moAttack.cityGateAsk()%3B%0A%20%20%20%7D%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;Director&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;direct(){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeLi&nbsp;geli&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;LiuDeHua();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MoAttack&nbsp;moAttack&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;MoAttack();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//①调用属性Setter方法注入</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moAttack.setGeli(geli);&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moAttack.cityGateAsk();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp; 和通过构造函数注入革离扮演者不同，在实例化MoAttack剧本时，并未指定任何扮演者，而是在实例化MoAttack后，在需要革离出场时，才调用其setGeli()方法注入扮演者。按照类似的方式，我们还可以分别为剧本中其他诸如梁王、巷淹中等角色提供注入的Setter方法，这样，导演就可以根据所拍剧段的不同，注入相应的角色了。&nbsp;<br />
<br />
<strong><span style="font-size:large;">接口注入</span></strong>&nbsp;<br />
<br />
&nbsp;&nbsp; 将调用类所有依赖注入的方法抽取到一个接口中，调用类通过实现该接口提供相应的注入方法。为了采取接口注入的方式，必须先声明一个ActorArrangable接口：&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20interface%20ActorArrangable%20%7B%0A%20%20%20void%20injectGeli(GeLi%20geli)%3B%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">interface</span>&nbsp;ActorArrangable&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;injectGeli(GeLi&nbsp;geli);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp; 然后，MoAttack实现ActorArrangable接口提供具体的实现：&nbsp;<br />
代码清单3-7&nbsp; MoAttack：通过接口方法注入革离扮演者&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20MoAttack%20implements%20ActorArrangable%20%7B%0A%09private%20GeLi%20geli%3B%0A%20%20%20%20%20%2F%2F%E2%91%A0%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95%0A%09public%20void%20injectGeli%20(GeLi%20geli)%20%7B%20%20%0A%09%09this.geli%20%3D%20geli%3B%09%09%0A%09%7D%0A%09public%20void%20cityGateAsk()%20%7B%0A%09%09geli.responseAsk(%22%E5%A2%A8%E8%80%85%E9%9D%A9%E7%A6%BB%22)%3B%0A%09%7D%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;MoAttack&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">implements</span>&nbsp;ActorArrangable&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">private</span>&nbsp;GeLi&nbsp;geli;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">//①实现接口方法</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;injectGeli&nbsp;(GeLi&nbsp;geli)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">this</span>.geli&nbsp;=&nbsp;geli;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;cityGateAsk()&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geli.responseAsk(<span class="string" style="color:blue;">"墨者革离"</span>);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp;&nbsp;&nbsp; Director通过ActorArrangable的injectGeli()方法完成扮演者的注入工作。&nbsp;<br />
代码清单3-8&nbsp; Director：通过接口方法注入革离扮演者&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Java代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=public%20class%20Director%20%7B%0A%20%20%20public%20void%20direct()%7B%0A%09%20%20%20GeLi%20geli%20%3D%20new%20LiuDeHua()%3B%0A%09%20%20%20MoAttack%20moAttack%20%3D%20new%20MoAttack()%3B%0A%09%20%20%20moAttack.%20injectGeli%20(geli)%3B%0A%09%20%20%20moAttack.cityGateAsk()%3B%0A%20%20%20%7D%0A%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-j" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">class</span>&nbsp;Director&nbsp;{&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">void</span>&nbsp;direct(){&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeLi&nbsp;geli&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;LiuDeHua();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MoAttack&nbsp;moAttack&nbsp;=&nbsp;<span class="keyword" style="color:#7f0055;font-weight:bold;">new</span>&nbsp;MoAttack();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moAttack.&nbsp;injectGeli&nbsp;(geli);&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moAttack.cityGateAsk();&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">}&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp;&nbsp; 由于通过接口注入需要额外声明一个接口，增加了类的数目，而且它的效果和属性注入并无本质区别，因此我们不提倡采用这种方式。&nbsp;<br />
<br />
<strong><span style="font-size:x-large;">通过容器完成依赖关系的注入</span></strong>&nbsp;<br />
<br />
&nbsp;&nbsp; 虽然MoAttack和LiuDeHua实现了解耦，MoAttack无须关注角色实现类的实例化工作，但这些工作在代码中依然存在，只是转移到Director类中而已。假设某一制片人想改变这一局面，在选择某个剧本后，希望通过一个“海选”或者第三中介机构来选择导演、演员，让他们各司其职，那剧本、导演、演员就都实现解耦了。&nbsp;<br />
&nbsp;&nbsp; 所谓媒体“海选”和第三方中介机构在程序领域即是一个第三方的容器，它帮助完成类的初始化与装配工作，让开发者从这些底层实现类的实例化、依赖关系装配等工作中脱离出来，专注于更有意义的业务逻辑开发工作。这无疑是一件令人向往的事情，Spring就是这样的一个容器，它通过配置文件或注解描述类和类之间的依赖关系，自动完成类的初始化和依赖注入的工作。下面是Spring配置文件的对以上实例进行配置的配置文件片断：&nbsp;<br />
<div class="dp-highlighter" id="" style="font-family:Monaco, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;background-color:transparent;width:679px;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div class="bar"><div class="tools" style="padding:3px;margin:0px;font-weight:bold;">Xml代码&nbsp;<embed wmode="transparent" src="http://stamen.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20%3F%3E%0A%3Cbeans%20xmlns%3D%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%22%0A%09xmlns%3Axsi%3D%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%22%0A%09xmlns%3Ap%3D%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fp%22%0A%09xsi%3AschemaLocation%3D%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%20%0A%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans-3.0.xsd%22%3E%0A%20%20%20%20%20%20%20%20%3C!--%E2%91%A0%E5%AE%9E%E7%8E%B0%E7%B1%BB%E5%AE%9E%E4%BE%8B%E5%8C%96--%3E%0A%20%20%20%3Cbean%20id%3D%22geli%22%20class%3D%22LiuDeHua%22%2F%3E%0A%20%20%20%3Cbean%20id%3D%22moAttack%22%20class%3D%22com.baobaotao.ioc.MoAttack%22%20%0A%20%20%20%20%20%20%20%20%20p%3Ageli-ref%3D%22geli%22%2F%3E%3C!--%E2%91%A1%E9%80%9A%E8%BF%87geli-ref%E5%BB%BA%E7%AB%8B%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB--%3E%0A%3C%2Fbeans%3E" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />&nbsp;<a title="收藏这段代码" style="color:#006699;text-decoration:underline;"><img class="star" src="http://stamen.iteye.com/images/icon_star.png" alt="收藏代码" style="border:0px;" /></a></div>
</div>
<ol start="1" class="dp-xml" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid #d1d7dc;list-style-position:initial;list-style-image:initial;color:#2b91af;"><li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="tag" style="color:#006699;font-weight:bold;">&lt;?</span><span class="tag-name" style="color:#006699;font-weight:bold;">xml</span>&nbsp;<span class="attribute" style="color:red;">version</span>=<span class="attribute-value" style="color:blue;">"1.0"</span>&nbsp;<span class="attribute" style="color:red;">encoding</span>=<span class="attribute-value" style="color:blue;">"UTF-8"</span>&nbsp;<span class="tag" style="color:#006699;font-weight:bold;">?&gt;</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="tag" style="color:#006699;font-weight:bold;">&lt;</span><span class="tag-name" style="color:#006699;font-weight:bold;">beans</span>&nbsp;<span class="attribute" style="color:red;">xmlns</span>=<span class="attribute-value" style="color:blue;">"http://www.springframework.org/schema/beans"</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:red;">xmlns:xsi</span>=<span class="attribute-value" style="color:blue;">"http://www.w3.org/2001/XMLSchema-instance"</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:red;">xmlns:p</span>=<span class="attribute-value" style="color:blue;">"http://www.springframework.org/schema/p"</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:red;">xsi:schemaLocation</span>="http://www.springframework.org/schema/beans&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"<span class="tag" style="color:#006699;font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">&lt;!--①实现类实例化--&gt;</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="tag" style="color:#006699;font-weight:bold;">&lt;</span><span class="tag-name" style="color:#006699;font-weight:bold;">bean</span>&nbsp;<span class="attribute" style="color:red;">id</span>=<span class="attribute-value" style="color:blue;">"geli"</span>&nbsp;<span class="attribute" style="color:red;">class</span>=<span class="attribute-value" style="color:blue;">"LiuDeHua"</span><span class="tag" style="color:#006699;font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;<span class="tag" style="color:#006699;font-weight:bold;">&lt;</span><span class="tag-name" style="color:#006699;font-weight:bold;">bean</span>&nbsp;<span class="attribute" style="color:red;">id</span>=<span class="attribute-value" style="color:blue;">"moAttack"</span>&nbsp;<span class="attribute" style="color:red;">class</span>=<span class="attribute-value" style="color:blue;">"com.baobaotao.ioc.MoAttack"</span>&nbsp;&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:red;">p:geli-ref</span>=<span class="attribute-value" style="color:blue;">"geli"</span><span class="tag" style="color:#006699;font-weight:bold;">/&gt;</span><span class="comments" style="color:#008200;padding:0px;margin:0px;width:auto;border:0px;">&lt;!--②通过geli-ref建立依赖关系--&gt;</span>&nbsp;&nbsp;</span></li>
<li style="font-size:1em;margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-left:1px solid #d1d7dc;background-color:#fafafa;line-height:18px;"><span style="color:black;"><span class="tag" style="color:#006699;font-weight:bold;">&lt;/</span><span class="tag-name" style="color:#006699;font-weight:bold;">beans</span><span class="tag" style="color:#006699;font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></li>
</ol>
</div>
<br />
&nbsp;&nbsp; 通过new XmlBeanFactory(“beans.xml”)等方式即可启动容器。在容器启动时，Spring根据配置文件的描述信息，自动实例化Bean并完成依赖关系的装配，从容器中即可返回准备就绪的Bean实例，后续可直接使用之。&nbsp;<br />
&nbsp;&nbsp; Spring为什么会有这种“神奇”的力量，仅凭一个简单的配置文件，就能魔法般地实例化并装配好程序所用的Bean呢？这种“神奇”的力量归功于Java语言本身的类反射功能。&nbsp;<br />
<br />
&nbsp;&nbsp; 这些文章摘自于我的<strong><span style="color:red;">《Spring 3.x企业应用开发实战》</span></strong>的第3章，我将通过连载的方式，陆续在此发出。欢迎大家讨论。</div>
<div class="attachments" style="border-top-width:1px;border-top-style:solid;border-top-color:#999999;margin-top:10px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><ul style="margin:5px;padding:5px;list-style:none;border:1px solid #cccccc;"><li style="margin:0px 0px 0.25em 30px;padding:0px;"><a href="http://stamen.iteye.com/blog/1489223/#" style="color:#006699;">查看图片附件</a></li>
</ul>
</div>
<ins id="aswift_0_expand" style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;display:inline-table;border:none;height:90px;margin:0px;padding:0px;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0px;padding:0px;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" id="aswift_0" name="aswift_0" style="left:0px;position:absolute;top:0px;width:728px;height:90px;"></iframe></ins></ins><div id="bottoms" class="clearfix" style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><div id="share_weibo" style="display:inline-block;float:right;width:160px;height:32px;margin:0px;padding:27px 5px 0px 0px;background-image:none;color:#333333;text-align:right;cursor:auto;font-variant-ligatures:normal !important;font-variant-position:normal !important;font-variant-numeric:normal !important;font-variant-alternates:normal !important;font-variant-east-asian:normal !important;line-height:32px !important;font-family:Arial, Helvetica, sans-serif !important;background-position:initial initial;background-repeat:initial initial;">分享到：&nbsp;<a data-type="sina" title="分享到新浪微博" style="color:#006699;text-decoration:underline;background:transparent;"><img src="http://stamen.iteye.com/images/sina.jpg" style="border:0px;margin:0px 5px;" /></a>&nbsp;<a data-type="qq" title="分享到腾讯微博" style="color:#006699;text-decoration:underline;background:transparent;"><img src="http://stamen.iteye.com/images/tec.jpg" style="border:0px;margin:0px 5px;" /></a></div>
</div>
<div class="blog_nav" style="right:20px;margin-bottom:15px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="pre_next" style="float:right;text-align:right;padding-top:5px;"><a href="http://stamen.iteye.com/blog/1497981" class="next" title="学习Spring必学的Java基础知识(1)----反射" style="color:#006699;padding:0px 15px;background-image:url(file:///images/gray_west_arrow.gif);background-position:0% 50%;background-repeat:no-repeat no-repeat;">学习Spring必学的Java基础知识(1)----反射</a>&nbsp;|&nbsp;<a href="http://stamen.iteye.com/blog/1485837" class="pre" title="单元测试系列之5：使用unitils测试Service层" style="color:#006699;padding:0px 15px;background-image:url(file:///images/gray_east_arrow.gif);background-position:100% 50%;background-repeat:no-repeat no-repeat;">单元测试系列之5：使用unitils测试Servic ...</a></div>
</div>
<div class="blog_bottom" style="padding:15px 0px 5px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><ul style="margin:0px 0px 1.5em;padding:0px;"><li style="margin:0px 10px 0px 0px;padding:0px 10px 0px 0px;list-style:none;display:inline;float:left;border-right:1px solid #006699;color:#006699;">2012-04-18 11:01</li>
<li style="margin:0px 10px 0px 0px;padding:0px 10px 0px 0px;list-style:none;display:inline;float:left;border-right:1px solid #006699;color:#006699;">浏览 65683</li>
<li style="margin:0px 10px 0px 0px;padding:0px 10px 0px 0px;list-style:none;display:inline;float:left;border-right:1px solid #006699;color:#006699;"><a href="http://stamen.iteye.com/blog/1489223/#comments" style="color:#006699;">评论(16)</a></li>
<li style="margin:0px 10px 0px 0px;padding:0px 10px 0px 0px;list-style:none;display:inline;float:left;border-right:1px solid #006699;color:#006699;">论坛回复 /&nbsp;<a href="http://stamen.iteye.com/topic/1122835" style="color:#006699;">浏览</a>&nbsp;(54 / 23888)</li>
<li style="margin:0px 10px 0px 0px;padding:0px 10px 0px 0px;list-style:none;display:inline;float:left;border-right:1px solid #006699;color:#006699;">分类:<a href="http://www.iteye.com/blogs/category/opensource" style="color:#006699;">开源软件</a></li>
<li class="last" style="margin:0px 10px 0px 0px;padding:0px 10px 0px 0px;list-style:none;display:inline;float:left;border-right:none;color:#006699;"><a href="http://www.iteye.com/wiki/blog/1489223" target="_blank" class="more" style="color:#006699;padding-right:50px;background-image:url(file:///images/icon_more.gif);background-position:100% 50%;background-repeat:no-repeat no-repeat;">相关推荐</a></li>
</ul>
</div>
<div class="boutique-curr-box blog_comment" style="margin-top:15px;padding:15px;border-top-width:1px;border-top-style:solid;border-top-color:#006699;width:685px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="boutique-curr clearfix"><h5 class="h3titles" style="font-size:1.1em;line-height:1.3em;margin:0px 0px 0.25em;padding:0px;color:#333333;font-weight:normal;font-family:微软雅黑;">参考知识库</h5>
<dl class="dlnewlist" style="margin:0px 0px 1.5em;padding:18px 0px 0px;line-height:1.4em;float:left;height:60px;overflow:hidden;"><dd style="margin:0px;padding:0px;float:left;width:60px;height:60px;"><a target="_blank" href="http://lib.csdn.net/base/javaee" style="color:#006699;display:block;"><img src="http://img.knowledge.csdn.net/upload/base/1456818035722_722.jpg" width="58" height="58" alt="" style="border:1px solid #f5f5f5;" /></a></dd><dt style="margin:0.25em 0px 0.25em 10px;padding:5px 0px 0px;float:left;width:158px;"><a target="_blank" href="http://lib.csdn.net/base/javaee" classs="title" style="color:#006699;">Java EE知识库</a><span style="display:block;color:#999999;font-size:14px;margin-top:12px;vertical-align:middle;"><span style="color:#64b1cb;vertical-align:middle;">19635</span>&nbsp;&nbsp;关注&nbsp;<span style="font-size:smaller;">|</span>&nbsp;<span style="color:#64b1cb;vertical-align:middle;">1408</span>&nbsp;&nbsp;收录</span></dt></dl></div>
</div>
<div class="blog_comment" style="margin-top:15px;padding:15px;border-top-width:1px;border-top-style:solid;border-top-color:#006699;width:685px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><h5 style="font-size:1.1em;line-height:1.3em;margin:0px 0px 0.25em;padding:0px;">评论</h5>
<a id="comments" name="comments" style="color:#006699;text-decoration:underline;"></a><div id="bc2395130"><div class="comment_title" style="padding:3px;">16 楼&nbsp;<a href="http://duanxiaoyeah.iteye.com/" target="_blank" title="duanxiaoyeah" style="color:#006699;">duanxiaoyeah</a>&nbsp;2016-11-25&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">说实话，把DI讲这么透彻，更可贵的还这么栩栩如生、通俗易懂、循序渐进、条理清晰，由衷的表示：佩服 + 感谢！<img src="http://stamen.iteye.com/images/smiles/icon_idea.gif" style="border:0px;" /></div>
</div>
<div id="bc2391462"><div class="comment_title" style="padding:3px;">15 楼&nbsp;<a href="http://redpersimon.iteye.com/" target="_blank" title="RedPersimon" style="color:#006699;">RedPersimon</a>&nbsp;2016-07-19&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;"><img src="http://stamen.iteye.com/images/smiles/icon_idea.gif" style="border:0px;" /></div>
</div>
<div id="bc2389801"><div class="comment_title" style="padding:3px;">14 楼&nbsp;<a href="http://myweimm.iteye.com/" target="_blank" title="myweimm" style="color:#006699;">myweimm</a>&nbsp;2016-05-23&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">楼主说的相当的好啊，例子相当的不错，最欢看这种把理论，用很通俗的场景或白话讲解出来的文章，这也能说明作者的对理论的理解相当的深入<img src="http://stamen.iteye.com/images/smiles/icon_lol.gif" style="border:0px;" /></div>
</div>
<div id="bc2385442"><div class="comment_title" style="padding:3px;">13 楼&nbsp;<a href="http://xinzhong.iteye.com/" target="_blank" title="xinzhong" style="color:#006699;">xinzhong</a>&nbsp;2016-02-22&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">不明觉厉。但还是进一步加深了理解，可惜我现在不用spring。谢谢分享！</div>
</div>
<div id="bc2377743"><div class="comment_title" style="padding:3px;">12 楼&nbsp;<a href="http://fran-maomao.iteye.com/" target="_blank" title="fran_maomao" style="color:#006699;">fran_maomao</a>&nbsp;2015-09-08&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">感谢楼主分享&nbsp; 受益匪浅</div>
</div>
<div id="bc2376367"><div class="comment_title" style="padding:3px;">11 楼&nbsp;<a href="http://952185837.iteye.com/" target="_blank" title="旋风魔帝" style="color:#006699;">旋风魔帝</a>&nbsp;2015-08-10&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;"><img src="http://stamen.iteye.com/images/smiles/icon_idea.gif" style="border:0px;" /></div>
</div>
<div id="bc2349078"><div class="comment_title" style="padding:3px;">10 楼&nbsp;<a href="http://554610328-qq-com.iteye.com/" target="_blank" title="飞鸟830413" style="color:#006699;">飞鸟830413</a>&nbsp;2014-05-26&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">精通Spring2.x-企业应用开发详解第三章内容。预知下回分解，请买本书看吧。不过楼主应该注明出处。</div>
</div>
<div id="bc2306435"><div class="comment_title" style="padding:3px;">9 楼&nbsp;<a href="http://mengfei1001.iteye.com/" target="_blank" title="mengfei1001" style="color:#006699;">mengfei1001</a>&nbsp;2013-04-03&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;"><img src="http://stamen.iteye.com/images/smiles/icon_idea.gif" style="border:0px;" /></div>
</div>
<div id="bc2283081"><div class="comment_title" style="padding:3px;">8 楼&nbsp;<a href="http://a20071426.iteye.com/" target="_blank" title="a20071426" style="color:#006699;">a20071426</a>&nbsp;2012-09-24&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">good！</div>
</div>
<div id="bc2272380"><div class="comment_title" style="padding:3px;">7 楼&nbsp;<a href="http://xiaoji123pt.iteye.com/" target="_blank" title="xiaoji123pt" style="color:#006699;">xiaoji123pt</a>&nbsp;2012-07-26&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;"><img src="http://stamen.iteye.com/images/smiles/icon_arrow.gif" style="border:0px;" />&nbsp;<img src="http://stamen.iteye.com/images/smiles/icon_arrow.gif" style="border:0px;" /></div>
</div>
<div id="bc2268166"><div class="comment_title" style="padding:3px;">6 楼&nbsp;<a href="http://zlf3865072.iteye.com/" target="_blank" title="zlf3865072" style="color:#006699;">zlf3865072</a>&nbsp;2012-07-05&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;"><strong>23432</strong></div>
</div>
<div id="bc2264316"><div class="comment_title" style="padding:3px;">5 楼&nbsp;<a href="http://shanliangdesishen9.iteye.com/" target="_blank" title="shanliangdesishen9" style="color:#006699;">shanliangdesishen9</a>&nbsp;2012-06-13&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">谢谢分享<img src="http://stamen.iteye.com/images/smiles/icon_biggrin.gif" style="border:0px;" />&nbsp; 感觉受益匪浅</div>
</div>
<div id="bc2263440"><div class="comment_title" style="padding:3px;">4 楼&nbsp;<a href="http://gouerli.iteye.com/" target="_blank" title="gouerli" style="color:#006699;">gouerli</a>&nbsp;2012-06-08&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">写的很不错，对于ioc的原理介绍的很清晰，比spring官方文档中好理解多了，对于接口注入的方式我倒是第一次听说，谢谢博主的分享！</div>
</div>
<div id="bc2258997"><div class="comment_title" style="padding:3px;">3 楼&nbsp;<a href="http://wh2006xtt.iteye.com/" target="_blank" title="wh2006xtt" style="color:#006699;">wh2006xtt</a>&nbsp;2012-05-16&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">用到Spring的依赖注入的项目都完成了，对其原理还是晕的，读了此文明白些了。&nbsp;<br />
O(∩_∩)O谢谢分享</div>
</div>
<div id="bc2255691"><div class="comment_title" style="padding:3px;">2 楼&nbsp;<a href="http://xautjzd.iteye.com/" target="_blank" title="xautjzd" style="color:#006699;">xautjzd</a>&nbsp;2012-04-28&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">最近初学spring，看IoC看了半天没看懂，晕乎乎的，对其流程依然不解，但是看了此文章后便清楚多了，虽然还是没完全消化，但是起码有了一个大致的了解，感谢您的无私奉献！</div>
</div>
<div id="bc2255674"><div class="comment_title" style="padding:3px;">1 楼&nbsp;<a href="http://fount.iteye.com/" target="_blank" title="fount" style="color:#006699;">fount</a>&nbsp;2012-04-28&nbsp;&nbsp;</div>
<div class="comment_content" style="padding:3px;margin-bottom:10px;">spring使用有一段时间了，看看这系列的文章真是受益匪浅啊，谢谢分享。</div>
</div>
</div></body></html>