<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2016-11-30T02:35:18Z"/><meta name="updated" content="2016-11-30T02:35:20Z"/><title>ios中图片拉伸的几种方式   收藏    余成海     发表于 1年前   阅读 5692   收藏 3   点赞 2   评论 1             1. UIImageView整体拉伸</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div class="blog-heading" style="box-sizing:inherit;color:#333333;font-family:'Pingfang SC', STHeiti, 'Lantinghei SC', 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, sans-serif;font-size:16px;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#f8f8f8;"><div class="title" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;font-size:28px;word-break:break-all;">ios中图片拉伸的几种方式</div>
<div class="info-opr layout" style="box-sizing:inherit;width:800px;color:#666666;margin-top:8px;padding-bottom:20px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#cccccc;"><div class="layout-right" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;float:right;"><div class="opr-btn-blog btn-favor-blog favor hover" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;position:relative;"><a class="btn btn-black-blog " data-blogid="514371" data-blogtype="3" data-userid="" data-thispage="https://my.oschina.net/iq19900204/blog/514371" style="box-sizing:inherit;border:1px solid #5b5c5f;outline:0px;transition:color 0.3s;-webkit-transition:color 0.3s;color:#5b5c5f;display:inline-block;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;padding:0.4rem 0.8rem;margin:0px;background-color:#ffffff;font-size:1.4rem;cursor:pointer;width:88px;text-align:center;background-position:initial initial;background-repeat:initial initial;">&nbsp;<span id="" class="operate_title" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;">收藏</span></a></div>
</div>
<div class="layout-column" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;width:1200px;display:table-cell;"><div class="user-info" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;display:inline-block;"><div class="name" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#000000;display:inline-block;margin:10px 3px;"><a href="https://my.oschina.net/iq19900204/home" target="_blank" style="box-sizing:inherit;border:none;outline:0px;transition:color 0.3s;-webkit-transition:color 0.3s;text-decoration:none;color:#4466bb;">余成海</a></div>
</div>
&nbsp;<div class="data-info text-gary" style="box-sizing:inherit;padding:10px 0px;display:inline-block;"><ul style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;list-style-type:none;margin:0px;padding:0px;"><li class="time" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin:0px 8px;padding:0px;display:inline-block;">发表于&nbsp;<span id="" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;">1年前</span></li>
&nbsp;<li class="read" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin:0px 8px;padding:0px;display:inline-block;">阅读&nbsp;<span id="read" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;">5692</span></li>
&nbsp;<li class="favor" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin:0px 8px;padding:0px;display:inline-block;">收藏&nbsp;<span id="" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;">3</span></li>
&nbsp;<li class="vote" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin:0px 8px;padding:0px;display:inline-block;">点赞&nbsp;<span id="" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;">2</span></li>
&nbsp;<li class="comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin:0px 8px;padding:0px;display:inline-block;"><a href="https://my.oschina.net/iq19900204/blog/514371#comment-list" data-href="#comment-list" class="link-blue" style="box-sizing:inherit;border:none;outline:0px;transition:color 0.3s;-webkit-transition:color 0.3s;text-decoration:none;color:#4466bb;">评论&nbsp;<span id="comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;">1</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<div class="blog-body" id="blogBody" style="box-sizing:inherit;word-wrap:break-word;font-size:16px;font-family:'Pingfang SC', STHeiti, 'Lantinghei SC', 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, sans-serif;color:#3d464d;line-height:28px;margin-top:30px;position:relative;font-variant-ligatures:normal;orphans:2;widows:2;background-color:#f8f8f8;"><val data-name="blog_content_type" data-value="richtext" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"></val><div class="BlogContent" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"><p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">1. UIImageView整体拉伸</p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">UIImageView-contentMode</p>
<pre class="brush:cpp;toolbar: true; auto-links: false; hljs objectivec" style="box-sizing:inherit;overflow-x:auto;padding:2px;background-color:#3f3f3f;color:#dcdcdc;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;line-height:1.4;word-wrap:normal;font-size:13px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;"><code class="hljs objectivec" style="box-sizing:inherit;display:block;overflow-x:auto;padding:10px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;line-height:1.4;word-wrap:normal;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;"><span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">typedef</span>&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">NS_ENUM</span>(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">NSInteger</span>,&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentMode</span>)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeScaleToFill</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;默认&nbsp;拉伸（会变形）</span> &nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeScaleAspectFit</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;等比例拉伸</span> &nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeScaleAspectFill</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;等比例填充</span> &nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeRedraw</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;redraw&nbsp;on&nbsp;bounds&nbsp;change&nbsp;(这个不清楚)&nbsp;</span> &nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeCenter</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;下面的就是不拉伸按位置显示了</span> &nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeTop</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeBottom</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeLeft</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeRight</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeTopLeft</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeTopRight</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeBottomLeft</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIViewContentModeBottomRight</span>,
};</code></pre><p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">demo：<a href="https://github.com/vitoziv/VICMAImageView" rel="nofollow" style="box-sizing:inherit;border:none;outline:0px;transition:color 0.3s;-webkit-transition:color 0.3s;text-decoration:none;color:#4466bb;">https://github.com/vitoziv/VICMAImageView</a>&nbsp;</p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">2. UIImage局部拉伸</p>
<pre class="brush:cpp;toolbar: true; auto-links: false; hljs objectivec" style="box-sizing:inherit;overflow-x:auto;padding:2px;background-color:#3f3f3f;color:#dcdcdc;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;line-height:1.4;word-wrap:normal;font-size:13px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;"><code class="hljs objectivec" style="box-sizing:inherit;display:block;overflow-x:auto;padding:10px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;line-height:1.4;word-wrap:normal;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;"><span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;按4边间距显示不拉伸的区域</span> -&nbsp;(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImage</span>&nbsp;*)resizableImageWithCapInsets:(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIEdgeInsets</span>)capInsets&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">NS_AVAILABLE_IOS</span>(<span class="hljs-number" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#8cd0d3;">5</span>_0);&nbsp;<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;按2点拉伸</span> -&nbsp;(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImage</span>&nbsp;*)stretchableImageWithLeftCapWidth:(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">NSInteger</span>)leftCapWidth&nbsp;topCapHeight:(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">NSInteger</span>)topCapHeight;</code></pre><pre class="brush:cpp;toolbar: true; auto-links: false; hljs objectivec" style="box-sizing:inherit;overflow-x:auto;padding:2px;background-color:#3f3f3f;color:#dcdcdc;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;line-height:1.4;word-wrap:normal;font-size:13px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;"><code class="hljs objectivec" style="box-sizing:inherit;display:block;overflow-x:auto;padding:10px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;line-height:1.4;word-wrap:normal;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;">-&nbsp;(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImage</span>&nbsp;*)resizableImageWithCapInsets:(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIEdgeInsets</span>)capInsets&nbsp;resizingMode:(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImageResizingMode</span>)resizingMode;<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//&nbsp;拉伸模式</span> <span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">typedef</span>&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">NS_ENUM</span>(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">NSInteger</span>,&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImageResizingMode</span>)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImageResizingModeTile</span>,<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//进行区域复制模式拉伸</span> &nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImageResizingModeStretch</span>,<span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//进行渐变复制模式拉伸</span> };</code></pre><p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">3.UIImage修改大小</p>
<pre class="brush:cpp;toolbar: true; auto-links: false; hljs objectivec" style="box-sizing:inherit;overflow-x:auto;padding:2px;background-color:#3f3f3f;color:#dcdcdc;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;line-height:1.4;word-wrap:normal;font-size:13px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;"><code class="hljs objectivec" style="box-sizing:inherit;display:block;overflow-x:auto;padding:10px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;line-height:1.4;word-wrap:normal;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;background-position:initial initial;background-repeat:initial initial;"><span class="hljs-comment" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#7f9f7f;">//内缩放，一条变等于最长边，另外一条小于等于最长边</span> -&nbsp;(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImage</span>&nbsp;*)scaleToSize:(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGSize</span>)newSize&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGFloat</span>&nbsp;width&nbsp;=&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">self</span>.size.width;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGFloat</span>&nbsp;height=&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">self</span>.size.height;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGFloat</span>&nbsp;newSizeWidth&nbsp;=&nbsp;newSize.width;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGFloat</span>&nbsp;newSizeHeight=&nbsp;newSize.height;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">if</span>&nbsp;(width&nbsp;&lt;=&nbsp;newSizeWidth&nbsp;&amp;&amp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height&nbsp;&lt;=&nbsp;newSizeHeight)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">return</span>&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">self</span>;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">if</span>&nbsp;(width&nbsp;==&nbsp;<span class="hljs-number" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#8cd0d3;">0</span>&nbsp;||&nbsp;height&nbsp;==&nbsp;<span class="hljs-number" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#8cd0d3;">0</span>&nbsp;||&nbsp;newSizeHeight&nbsp;==&nbsp;<span class="hljs-number" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#8cd0d3;">0</span>&nbsp;||&nbsp;newSizeWidth&nbsp;==&nbsp;<span class="hljs-number" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#8cd0d3;">0</span>)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">return</span>&nbsp;<span class="hljs-literal" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#efefaf;">nil</span>;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGSize</span>&nbsp;size;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">if</span>&nbsp;(width&nbsp;/&nbsp;height&nbsp;&gt;&nbsp;newSizeWidth&nbsp;/&nbsp;newSizeHeight)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;=&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGSizeMake</span>(newSizeWidth,&nbsp;newSizeWidth&nbsp;*&nbsp;height&nbsp;/&nbsp;width);
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">else</span>&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;=&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGSizeMake</span>(newSizeHeight&nbsp;*&nbsp;width&nbsp;/&nbsp;height,&nbsp;newSizeHeight);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">return</span>&nbsp;[<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">self</span>&nbsp;drawImageWithSize:size];
}
-&nbsp;(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImage</span>&nbsp;*)drawImageWithSize:&nbsp;(<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGSize</span>)size&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGSize</span>&nbsp;drawSize&nbsp;=&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGSizeMake</span>(floor(size.width),&nbsp;floor(size.height));
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIGraphicsBeginImageContext</span>(drawSize);
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">self</span>&nbsp;drawInRect:<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">CGRectMake</span>(<span class="hljs-number" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#8cd0d3;">0</span>,&nbsp;<span class="hljs-number" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#8cd0d3;">0</span>,&nbsp;drawSize.width,&nbsp;drawSize.height)];
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIImage</span>&nbsp;*newImage&nbsp;=&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIGraphicsGetImageFromCurrentImageContext</span>();
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#cc9393;">UIGraphicsEndImageContext</span>();
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#e3ceab;">return</span>&nbsp;newImage;
}</code></pre><p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">4.images.xcassets</p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;">多亏了Xcode中Asset Catalog的slice和dice，我们不需要代码也能拉伸图片。首先在Xcode中选中图片，然后点击右下角的Show Slicing：</span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;"><img src="http://static.oschina.net/uploads/img/201511/04132816_44sJ.png" width="749" height="320" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;border:none;margin:auto;max-width:80%;height:auto;" /></span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;"><span style="box-sizing:inherit;line-height:28px;">你现在应该能看到slicing 面板和一个按钮"Start Slicing"。</span></span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;"><span style="box-sizing:inherit;line-height:28px;"><img src="http://static.oschina.net/uploads/img/201511/04132816_zYDz.png" width="748" height="384" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;border:none;margin:auto;max-width:80%;height:auto;" /></span></span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;"><span style="box-sizing:inherit;line-height:28px;"><span style="box-sizing:inherit;line-height:28px;">在你点击按钮之后，会显示下面的三个选项：</span></span></span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;"><span style="box-sizing:inherit;line-height:28px;"><span style="box-sizing:inherit;line-height:28px;"><img src="http://static.oschina.net/uploads/img/201511/04132816_CWRc.png" width="467" height="143" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;border:none;margin:auto;max-width:80%;height:auto;" /></span></span></span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;"><span style="box-sizing:inherit;line-height:28px;"><span style="box-sizing:inherit;line-height:28px;"><span style="box-sizing:inherit;line-height:28px;">左边的按钮用于horizontal edge insets，右边的按钮用于vertical edge insets，中间的则是两个都有。在我们的例子中要保留圆角，所以我们按中间的按钮，告诉系统我们想要按钮的中间在水平和垂直方向拉伸。在按下按钮之后，就能看到一些可以拖动的细条，这可以设置从哪里开始拉伸图片。</span></span></span></span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;"><span style="box-sizing:inherit;line-height:28px;"><span style="box-sizing:inherit;line-height:28px;"><span style="box-sizing:inherit;line-height:28px;"><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;" />
<img src="http://static.oschina.net/uploads/img/201511/04132816_oskA.png" width="748" height="383" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;border:none;margin:auto;max-width:80%;height:auto;" /></span></span></span></span></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"></p>
<p style="box-sizing:inherit;margin-bottom:20px;margin-top:0px;padding:0px;color:#252525;font-family:'Helvetica Neue', Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;">系统会保留深紫色的区域，浅紫色的区域会被拉伸。<br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;" />
</p>
<p style="box-sizing:inherit;margin-bottom:20px;margin-top:0px;padding:0px;color:#252525;font-family:'Helvetica Neue', Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;">更厉害的是，Xcode自动找到了圆角，所以我们不需要设置从哪里开始拉伸图片。最后别忘了在Attribtues pane中设置图片是可拉伸的。</p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><img src="http://static.oschina.net/uploads/img/201511/04132816_V27D.png" width="749" height="337" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;border:none;margin:auto;max-width:80%;height:auto;" /></p>
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#252525;font-family:&quot;Helvetica Neue&quot;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif;font-size:14px;line-height:28px;background-color:#fafafa;">如果我是你的话，我就会尝试并习惯这个功能。有了这个无价之宝，你就不用再在resizableImageWithCapInsets方法中填写那些神奇的数字了，也能帮助你分离view逻辑和app逻辑。</span></p>
</div>
</div></body></html>