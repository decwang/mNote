<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2016-10-11T03:46:07Z"/><meta name="updated" content="2016-10-11T03:46:09Z"/><title>一个view上面既有UITapGestureRecognizer 又有其他view的点击响应事件的时候,这时候就可能造成冲突.  我们可以通过获取UITouch点击的view是属于哪个view 来判</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p style="box-sizing:border-box;margin-top:0px;margin-bottom:1.1em;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;font-size:15px;vertical-align:baseline;color:#666666;line-height:26px;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">一个view上面既有UITapGestureRecognizer 又有其他view的点击响应事件的时候,这时候就可能造成冲突.</p>
<p style="box-sizing:border-box;margin-top:0px;margin-bottom:1.1em;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;font-size:15px;vertical-align:baseline;color:#666666;line-height:26px;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">我们可以通过获取UITouch点击的view是属于哪个view 来判断是否屏蔽手势的点击事件,来响应View的点击时间.&nbsp;<br style="box-sizing:border-box;" />
废话不多说,直接上代码.&nbsp;<br style="box-sizing:border-box;" />
我这里以UITapGestureRecognizer与TableViewCell的点击事件冲突为例.</p>
<p style="box-sizing:border-box;margin-top:0px;margin-bottom:1.1em;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;font-size:15px;vertical-align:baseline;color:#666666;line-height:26px;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">其实很简单.我们在view上添加tag手势的时候,并且设置tag事件的代理,然后我们查看UIGestureRecognizerDelegate的API 会发现有这个方法</p>
<pre class="prettyprint" style="box-sizing:border-box;font-family:'Source Code Pro', monospace;white-space:nowrap;padding:5px 5px 5px 60px;margin-top:0px;margin-bottom:1.1em;line-height:1.45;color:#333333;word-break:break-all;word-wrap:break-word;border:1px solid rgba(128, 128, 128, 0.0745098);border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;outline:0px;vertical-align:baseline;position:relative;overflow-y:hidden;overflow-x:auto;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;background-color:rgba(128, 128, 128, 0.0470588);background-position:initial initial;background-repeat:initial initial;"><code class="hljs objectivec has-numbering" style="box-sizing:border-box;font-family:'Source Code Pro', monospace;font-size:inherit;padding:0px;color:inherit;white-space:pre;border-radius:0px;margin:0px;border:0px;outline:0px;vertical-align:baseline;display:block;word-break:break-word;word-wrap:normal;background:transparent;">- (<span class="hljs-built_in" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#660066;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">BOOL</span>)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch;<span class="hljs-comment" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#880000;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">//然后根据具体的业务场景去写逻辑就可以了,比如</span> - (<span class="hljs-built_in" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#660066;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">BOOL</span>)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch {
  <span class="hljs-comment" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#880000;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">//Tip:我们可以通过打印touch.view来看看具体点击的view是具体是什么名称,像点击UITableViewCell时响应的View则是UITableViewCellContentView.</span>     <span class="hljs-keyword" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#000088;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">if</span> ([NSStringFromClass([touch<span class="hljs-variable" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#660066;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">.view</span> class])    isEqualToString:@<span class="hljs-string" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#008800;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">"UITableViewCellContentView"</span>]) {
    <span class="hljs-comment" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#880000;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">//返回为NO则屏蔽手势事件</span>         <span class="hljs-keyword" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#000088;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">return</span> <span class="hljs-literal" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#006666;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">NO</span>;
    }
    <span class="hljs-keyword" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#000088;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">return</span> <span class="hljs-literal" style="box-sizing:border-box;margin:0px;padding:0px;font-family:'Microsoft YaHei';border:0px;outline:0px;vertical-align:baseline;color:#006666;background-color:transparent;background-position:initial initial;background-repeat:initial initial;">YES</span>;
}</code></pre></body></html>