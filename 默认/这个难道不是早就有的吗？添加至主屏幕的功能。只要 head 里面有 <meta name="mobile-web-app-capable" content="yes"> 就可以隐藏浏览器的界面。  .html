<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2017-02-06T07:22:09Z"/><meta name="updated" content="2017-02-06T07:22:11Z"/><title>这个难道不是早就有的吗？添加至主屏幕的功能。只要 head 里面有 <meta name="mobile-web-app-capable" content="yes"> 就可以隐藏浏览器的界面。  </title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div>这个难道不是早就有的吗？添加至主屏幕的功能。只要 head 里面有 &lt;meta name="mobile-web-app-capable" content="yes"&gt; 就可以隐藏浏览器的界面。</div>
<div><br />
</div>
<div>ftp://q:q@dygod18.com:3521/[电影天堂www.dy2018.com]降临BD中英双字.rmvb</div>
<div>thunder://QUFmdHA6Ly9xOnFAZHlnb2QxOC5jb206MzUyMS9bJUU3JTk0JUI1JUU1JUJEJUIxJUU1JUE0JUE5JUU1JUEwJTgyd3d3LmR5MjAxOC5jb21dJUU5JTk5JThEJUU0JUI4JUI0QkQlRTQlQjglQUQlRTglOEIlQjElRTUlOEYlOEMlRTUlQUQlOTcucm12Ylpa</div>
<div>thunder://QUFmdHA6Ly9lOmVAZHguZGwxMjM0LmNvbTo4MDA2LyVFNiU5QyVBOCVFNiU5OCU5RiVFNCVCOCU4QSVFOCVBMSU4Q0JEJUU1JTlCJUJEJUU4JThCJUIxJUU1JThGJThDJUU4JUFGJUFEJUU1JThGJThDJUU1JUFEJTk3WyVFNyU5NCVCNSVFNSVCRCVCMSVFNSVBNCVBOSVFNSVBMCU4Mnd3dy5keTIwMTguY29tXS5ta3ZaWg==</div>
<div>thunder://QUFmdHA6Ly9hOmFAZHlnb2QxOC5jb206MjExMi9bJUU3JTk0JUI1JUU1JUJEJUIxJUU1JUE0JUE5JUU1JUEwJTgyd3d3LmR5MjAxOC5jb21dJUU4JTg3JUFBJUU2JTlEJTgwJUU1JUIwJThGJUU5JTk4JTlGJUU0JUJGJUFFJUU2JUFEJUEzQkQlRTUlOEElQTAlRTklOTUlQkYlRTclODklODglRTQlQjglQUQlRTglOEIlQjElRTUlOEYlOEMlRTUlQUQlOTcucm12Ylpa</div>
<div><br />
</div>
<div><br />
</div>
<div>上映时间：Feb 12</div>
<div>导演：迈克尔·摩尔</div>
<div>这是迈克尔的另一部政治类型的纪录片，这次他又将矛头对准政府，不过是以Comedy的形式涉及到美国的侵略历史以及侵略带给世界的后果等等。2004年他的一部批评布什政府的纪录片《华氏911》曾夺得第57届法国戛纳电影节的金棕榈奖，毫不客气的讨伐了小布什，也因此获得一大批追随者。这部片探讨了美国出兵阿富汗和伊拉克的决定。他02年的《科伦拜恩的保龄》探讨美国枪支管制的纪录片在国际上引起巨大反响，为摩尔赢得一个奥斯卡奖和国际性的声誉，北美票房2000多万。很难想象一部纪录片的票房能如此之多。</div>
<div><br />
</div>
<div>作者：乌有先生</div>
<div>链接：https://www.zhihu.com/question/38483749/answer/77026950</div>
<div>来源：知乎</div>
<div>著作权归作者所有，转载请联系作者获得授权。</div>
<div><br />
</div>
<div>剑身上有这样的铭文:ONLY THE KING CAN TAKE THE SWORD FROM THE STONE.</div>
<div>意思：只有国王才能把剑从坚石中拔出来。</div>
<div>[1]&nbsp;</div>
<div>寓意编辑</div>
<div>石中剑并不仅仅代表着君权神授，它同时代表着一位君王所应具有的品德。正如我们所看到的，当一群贪图地位和财富的井底之蛙妄想着成为英格兰全境之王时，石中剑拒绝了他们；当一位少年为了保护他兄弟的生命和荣誉而奔波时，石中剑祝福那位少年。亚瑟长大成人后上苍决定看看他能否忍辱负重，他辜负了上苍的期盼导致石中剑折断。即使这样上苍依然给了亚瑟王一个机会，梅林带着亚瑟王取得一把湖中剑。当梅林问亚瑟王喜欢剑还是剑鞘时亚瑟王选择了剑，这表明他并未接受伯林诺王带给他的教训，也表明他不是一个重视治国安邦的国王，这个抉择使他失去了上苍的庇佑，也为王朝的衰败埋下了种子。</div>
<div><br />
</div>
<div><br />
</div>
<div>WeiboX 的诞生离不开很多非常棒的开源项目，包括： TwUI, SDWebImage, ASIHttpRequest, JSONKit, RegexKitLite, MASPreferences, FMDB, ShortcurRecorder.</div>
<div><br />
</div>
<div><br />
</div>
<div>&nbsp;SQL Case when 的使用方法 2012-06-21 09:20:01</div>
<div>分类： Linux</div>
<div>Case具有两种格式。简单Case函数和Case搜索函数。</div>
<div>--简单Case函数</div>
<div>CASE sex</div>
<div>WHEN '1' THEN '男'</div>
<div>WHEN '2' THEN '女'</div>
<div>ELSE '其他' END</div>
<div>--Case搜索函数</div>
<div>CASE WHEN sex = '1' THEN '男'</div>
<div>WHEN sex = '2' THEN '女'</div>
<div>ELSE '其他' END</div>
<div><br />
</div>
<div>这两种方式，可以实现相同的功能。简单Case函数的写法相对比较简洁，但是和Case搜索函数相比，功能方面会有些限制，比如写判断式。&nbsp;</div>
<div>还有一个需要注意的问题，Case函数只返回第一个符合条件的值，剩下的Case部分将会被自动忽略。&nbsp;</div>
<div>--比如说，下面这段SQL，你永远无法得到“第二类”这个结果</div>
<div>CASE WHEN col_1 IN ( 'a', 'b') THEN '第一类'</div>
<div>WHEN col_1 IN ('a') &nbsp; &nbsp; &nbsp; THEN '第二类'</div>
<div>ELSE'其他' END</div>
<div><br />
</div>
<div>下面我们来看一下，使用Case函数都能做些什么事情。&nbsp;</div>
<div><br />
</div>
<div>一，已知数据按照另外一种方式进行分组，分析。&nbsp;</div>
<div><br />
</div>
<div>有如下数据:(为了看得更清楚，我并没有使用国家代码，而是直接用国家名作为Primary Key)&nbsp;</div>
<div>国家（country）<span class="Apple-tab-span" style="white-space:pre;">	</span>人口（population）</div>
<div>中国<span class="Apple-tab-span" style="white-space:pre;">	</span>600</div>
<div>美国<span class="Apple-tab-span" style="white-space:pre;">	</span>100</div>
<div>加拿大<span class="Apple-tab-span" style="white-space:pre;">	</span>100</div>
<div>英国<span class="Apple-tab-span" style="white-space:pre;">	</span>200</div>
<div>法国<span class="Apple-tab-span" style="white-space:pre;">	</span>300</div>
<div>日本<span class="Apple-tab-span" style="white-space:pre;">	</span>250</div>
<div>德国<span class="Apple-tab-span" style="white-space:pre;">	</span>200</div>
<div>墨西哥<span class="Apple-tab-span" style="white-space:pre;">	</span>50</div>
<div>印度<span class="Apple-tab-span" style="white-space:pre;">	</span>250</div>
<div><br />
</div>
<div>根据这个国家人口数据，统计亚洲和北美洲的人口数量。应该得到下面这个结果。&nbsp;</div>
<div>洲<span class="Apple-tab-span" style="white-space:pre;">	</span>人口</div>
<div>亚洲<span class="Apple-tab-span" style="white-space:pre;">	</span>1100</div>
<div>北美洲<span class="Apple-tab-span" style="white-space:pre;">	</span>250</div>
<div>其他<span class="Apple-tab-span" style="white-space:pre;">	</span>700</div>
<div><br />
</div>
<div>想要解决这个问题，你会怎么做？生成一个带有洲Code的View，是一个解决方法，但是这样很难动态的改变统计的方式。&nbsp;</div>
<div>如果使用Case函数，SQL代码如下:</div>
<div>SELECT &nbsp;SUM(population),</div>
<div>CASE country</div>
<div>WHEN '中国' &nbsp; &nbsp; THEN '亚洲'</div>
<div>WHEN '印度' &nbsp; &nbsp; THEN '亚洲'</div>
<div>WHEN '日本' &nbsp; &nbsp; THEN '亚洲'</div>
<div>WHEN '美国' &nbsp; &nbsp; THEN '北美洲'</div>
<div>WHEN '加拿大' &nbsp;THEN '北美洲'</div>
<div>WHEN '墨西哥' &nbsp;THEN '北美洲'</div>
<div>ELSE '其他' END</div>
<div>FROM &nbsp; &nbsp;Table_A</div>
<div>GROUP BY CASE country</div>
<div>WHEN '中国' &nbsp; &nbsp; THEN '亚洲'</div>
<div>WHEN '印度' &nbsp; &nbsp; THEN '亚洲'</div>
<div>WHEN '日本' &nbsp; &nbsp; THEN '亚洲'</div>
<div>WHEN '美国' &nbsp; &nbsp; THEN '北美洲'</div>
<div>WHEN '加拿大' &nbsp;THEN '北美洲'</div>
<div>WHEN '墨西哥' &nbsp;THEN '北美洲'</div>
<div>ELSE '其他' END;</div>
<div><br />
</div>
<div>同样的，我们也可以用这个方法来判断工资的等级，并统计每一等级的人数。SQL代码如下；&nbsp;</div>
<div>SELECT</div>
<div>CASE WHEN salary &lt;= 500 THEN '1'</div>
<div>WHEN salary &gt; 500 AND salary &lt;= 600 &nbsp;THEN '2'</div>
<div>WHEN salary &gt; 600 AND salary &lt;= 800 &nbsp;THEN '3'</div>
<div>WHEN salary &gt; 800 AND salary &lt;= 1000 THEN '4'</div>
<div>ELSE NULL END salary_class,</div>
<div>COUNT(*)</div>
<div>FROM &nbsp; &nbsp;Table_A</div>
<div>GROUP BY</div>
<div>CASE WHEN salary &lt;= 500 THEN '1'</div>
<div>WHEN salary &gt; 500 AND salary &lt;= 600 &nbsp;THEN '2'</div>
<div>WHEN salary &gt; 600 AND salary &lt;= 800 &nbsp;THEN '3'</div>
<div>WHEN salary &gt; 800 AND salary &lt;= 1000 THEN '4'</div>
<div>ELSE NULL END;</div>
<div><br />
</div>
<div>二，用一个SQL语句完成不同条件的分组。&nbsp;</div>
<div><br />
</div>
<div>有如下数据&nbsp;</div>
<div>国家（country）<span class="Apple-tab-span" style="white-space:pre;">	</span>性别（sex）<span class="Apple-tab-span" style="white-space:pre;">	</span>人口（population）</div>
<div>中国<span class="Apple-tab-span" style="white-space:pre;">	</span>1<span class="Apple-tab-span" style="white-space:pre;">	</span>340</div>
<div>中国<span class="Apple-tab-span" style="white-space:pre;">	</span>2<span class="Apple-tab-span" style="white-space:pre;">	</span>260</div>
<div>美国<span class="Apple-tab-span" style="white-space:pre;">	</span>1<span class="Apple-tab-span" style="white-space:pre;">	</span>45</div>
<div>美国<span class="Apple-tab-span" style="white-space:pre;">	</span>2<span class="Apple-tab-span" style="white-space:pre;">	</span>55</div>
<div>加拿大<span class="Apple-tab-span" style="white-space:pre;">	</span>1<span class="Apple-tab-span" style="white-space:pre;">	</span>51</div>
<div>加拿大<span class="Apple-tab-span" style="white-space:pre;">	</span>2<span class="Apple-tab-span" style="white-space:pre;">	</span>49</div>
<div>英国<span class="Apple-tab-span" style="white-space:pre;">	</span>1<span class="Apple-tab-span" style="white-space:pre;">	</span>40</div>
<div>英国<span class="Apple-tab-span" style="white-space:pre;">	</span>2<span class="Apple-tab-span" style="white-space:pre;">	</span>60</div>
<div><br />
</div>
<div>按照国家和性别进行分组，得出结果如下&nbsp;</div>
<div>国家<span class="Apple-tab-span" style="white-space:pre;">	</span>男<span class="Apple-tab-span" style="white-space:pre;">	</span>女</div>
<div>中国<span class="Apple-tab-span" style="white-space:pre;">	</span>340<span class="Apple-tab-span" style="white-space:pre;">	</span>260</div>
<div>美国<span class="Apple-tab-span" style="white-space:pre;">	</span>45<span class="Apple-tab-span" style="white-space:pre;">	</span>55</div>
<div>加拿大<span class="Apple-tab-span" style="white-space:pre;">	</span>51<span class="Apple-tab-span" style="white-space:pre;">	</span>49</div>
<div>英国<span class="Apple-tab-span" style="white-space:pre;">	</span>40<span class="Apple-tab-span" style="white-space:pre;">	</span>60</div>
<div><br />
</div>
<div>普通情况下，用UNION也可以实现用一条语句进行查询。但是那样增加消耗(两个Select部分)，而且SQL语句会比较长。&nbsp;</div>
<div>下面是一个是用Case函数来完成这个功能的例子&nbsp;</div>
<div>SELECT country,</div>
<div>SUM( CASE WHEN sex = '1' THEN</div>
<div>population ELSE 0 END), &nbsp;--男性人口</div>
<div>SUM( CASE WHEN sex = '2' THEN</div>
<div>population ELSE 0 END) &nbsp; --女性人口</div>
<div>FROM &nbsp;Table_A</div>
<div>GROUP BY country;</div>
<div><br />
</div>
<div>这样我们使用Select，完成对二维表的输出形式，充分显示了Case函数的强大。&nbsp;</div>
<div><br />
</div>
<div>三，在Check中使用Case函数。&nbsp;</div>
<div><br />
</div>
<div>在Check中使用Case函数在很多情况下都是非常不错的解决方法。可能有很多人根本就不用Check，那么我建议你在看过下面的例子之后也尝试一下在SQL中使用Check。&nbsp;</div>
<div>下面我们来举个例子&nbsp;</div>
<div>公司A，这个公司有个规定，女职员的工资必须高于1000块。如果用Check和Case来表现的话，如下所示</div>
<div>CONSTRAINT check_salary CHECK</div>
<div>( CASE WHEN sex = '2'</div>
<div>THEN CASE WHEN salary &gt; 1000</div>
<div>THEN 1 ELSE 0 END</div>
<div>ELSE 1 END = 1 )</div>
<div><br />
</div>
<div>如果单纯使用Check，如下所示&nbsp;</div>
<div>CONSTRAINT check_salary CHECK</div>
<div>( sex = '2' AND salary &gt; 1000 )</div>
<div><br />
</div>
<div>女职员的条件倒是符合了，男职员就无法输入了。</div>
<div><br />
</div>
<div><br />
</div>
<div><br />
</div>
<div><br />
</div>
<div>create table test (id int);</div>
<div>insert into test values(1),(2),(3),(4),(5),(6),(7),(8);</div>
<div>例如：查询id大于4和id=1的统计</div>
<div>一般写法</div>
<div>select count(case when id&gt;4 then id end),count(case when id=1 then id end ) from test;</div>
<div>非主流写法:</div>
<div>select count(id&gt;4 or null),count(id=1 or null) from test;</div>
<div><br />
</div>
<div>#查询指定表内的SYS,USR两类弹幕上报数据</div>
<div>/*</div>
<div>SELECT A.* FROM (</div>
<div>SELECT 'SYS' AS NAME,OS,COUNT(*) AS CNT FROM stat_user_opt_event20170205 WHERE 1=1</div>
<div>AND BTN_ID = 'a_home_danmu'</div>
<div>AND OBJ_ID &lt;= 140</div>
<div>GROUP BY OS</div>
<div>UNION</div>
<div>SELECT 'USR' AS NAME,OS, COUNT(*) AS CNT FROM stat_user_opt_event20170205 A WHERE 1=1</div>
<div>AND BTN_ID = 'a_home_danmu'</div>
<div>AND OBJ_ID &gt; 140</div>
<div>GROUP BY OS</div>
<div>) AS A&nbsp;</div>
<div>ORDER BY A.OS ASC,A.NAME ASC;</div>
<div>*/</div>
<div>#使用SUM,CASE WHEN进行SQL写法简化,但是执行效率下降</div>
<div>SELECT&nbsp;</div>
<div>CASE &nbsp;WHEN OS=0 THEN 'ANDROID' ELSE 'IOS' END AS OSNAME,</div>
<div>A.SYS_CNT,(A.SYS_CNT*100/(A.SYS_CNT+A.USR_CNT+1)) AS SCALE</div>
<div>FROM (&nbsp;</div>
<div>SELECT&nbsp;</div>
<div>COUNT(CASE WHEN OBJ_ID &lt;= 140 &nbsp; THEN obj_id END) AS SYS_CNT,</div>
<div>COUNT(CASE WHEN OBJ_ID &gt; 140 &nbsp;THEN obj_id END) AS USR_CNT,</div>
<div>OS</div>
<div>FROM stat_user_opt_event20170205</div>
<div>WHERE 1=1&nbsp;</div>
<div>AND BTN_ID = 'a_home_danmu'</div>
<div>and memo like '%uid:655%'</div>
<div>GROUP BY OS</div>
<div>)AS A</div>
<div>ORDER BY A.OS ASC</div>
<div>;</div>
<div><br />
</div>
<div>SELECT&nbsp;</div>
<div>COUNT(OBJ_ID &lt;= 140 &nbsp;OR NULL) AS SYS_CNT,</div>
<div>COUNT(OBJ_ID &gt; 140 &nbsp;OR NULL) AS USR_CNT,</div>
<div>OS</div>
<div>FROM stat_user_opt_event20170205</div>
<div>WHERE 1=1&nbsp;</div>
<div>AND BTN_ID = 'a_home_danmu'</div>
<div>and memo like '%uid:655%'</div>
<div>GROUP BY OS;</div></body></html>