<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2017-07-21T12:07:55Z"/><meta name="updated" content="2017-07-21T12:53:40Z"/><title> 数据结构与算法系列----Sunday算法详解    标签： BMKMPSunday字符串搜索  2016-02-29 19:38 2606人阅读 评论(0) 收藏 举报     分类：  ACM</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p><img title="麦库截图20172021204706028.jpg" alt="麦库截图20172021204706028.jpg" src="http://files.note.sdo.com/Z1AG656A95EE84AB3DCA1D4C98E795678696829A" border="0"/>&nbsp;<br/><img title="麦库截图20172021204709339.jpg" alt="麦库截图20172021204709339.jpg" src="http://files.note.sdo.com/Z1AG086D92752CBB08CEBB49B6558742E68B69F7" border="0"/>&nbsp;<br/>&nbsp;</p><h1 style="margin:0px;padding:0px;display:inline-block;vertical-align:middle;font-size:18px;"><span class="link_title"><a href="http://blog.csdn.net/laojiu_/article/details/50767615" style="text-decoration:none;color:#000000;">数据结构与算法系列----Sunday算法详解</a></span></h1><p><span class="link_categories" style="margin:0px 0px 0px 5px;float:left;">标签：&nbsp;<a href="http://www.csdn.net/tag/BM" target="_blank" style="text-decoration:none;display:inline-block;margin-right:10px;color:#33a5ba;">BM</a><a href="http://www.csdn.net/tag/KMP" target="_blank" style="text-decoration:none;display:inline-block;margin-right:10px;color:#33a5ba;">KMP</a><a href="http://www.csdn.net/tag/Sunday" target="_blank" style="text-decoration:none;display:inline-block;margin-right:10px;color:#33a5ba;">Sunday</a><a href="http://www.csdn.net/tag/%e5%ad%97%e7%ac%a6%e4%b8%b2" target="_blank" style="text-decoration:none;display:inline-block;margin-right:10px;color:#33a5ba;">字符串</a><a href="http://www.csdn.net/tag/%e6%90%9c%e7%b4%a2" target="_blank" style="text-decoration:none;display:inline-block;margin-right:10px;color:#33a5ba;">搜索</a></span></p><p><span class="link_postdate" style="margin:0px 16px 0px 0px;">2016-02-29 19:38</span>&nbsp;<span class="link_view" title="阅读次数" style="margin:0px 16px 0px 5px;padding:0px 0px 0px 24px;background:url(&quot;../images/skin-type-icon.png&quot;) 0px -25px no-repeat;display:inline-block;">2606人阅读</span>&nbsp;<span class="link_comments" title="评论次数" style="margin:0px 16px 0px 5px;padding:0px 0px 0px 17px;background:url(&quot;../images/skin-type-icon.png&quot;) 0px -43px no-repeat;display:inline-block;"><a href="http://blog.csdn.net/LaoJiu_/article/details/50767615#comments" style="text-decoration:none;color:#33a5ba;">评论</a>(0)</span>&nbsp;<span class="link_collect tracking-ad" data-mod="popu_171" style="margin:0px 16px 0px 5px;display:inline-block;background-image:url(&quot;../images/skin-type-icon.png&quot;);background-repeat:no-repeat;background-position:0px -62px;padding-left:17px;"><a title="收藏" target="_blank" style="color:#33a5ba;">收藏</a></span>&nbsp;<span class="link_report" style="margin:0px 16px 0px 5px;display:inline-block;background-image:url(&quot;../images/skin-type-icon.png&quot;);background-repeat:no-repeat;background-position:0px -81px;padding-left:17px;"><a href="http://blog.csdn.net/LaoJiu_/article/details/50767615#report" title="举报" style="text-decoration:none;color:#33a5ba;">举报</a></span></p><p><img src="http://static.blog.csdn.net/images/category_icon.jpg" style="border:none;vertical-align:middle;"/>&nbsp;<span style="vertical-align:middle;display:inline-block;">分类：</span></p><p><label style="display:inline-block;margin-left:15px;cursor:pointer;line-height:28px;position:relative;">ACM 与数据结构（36）&nbsp;<img class="arrow-down" src="http://static.blog.csdn.net/images/arrow_triangle%20_down.jpg" style="border:none;display:inline;"/></label></p><p class="copyright_p" style=";;;height:14px;line-height:14px;border-left-width:3px;border-left-style:solid;border-left-color:#e41c1e;color:#666666;font-size:14px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p><pre style="white-space:pre-wrap;word-wrap:normal;margin-top:0px;margin-bottom:0px;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:1.45;padding:16px;overflow:auto;word-break:normal;background-color:#f7f7f7;"><span style="font-weight:bold;color:#a71d5d;line-height:1.45;"><span style="font-size:24px;">一：背景</span></span></pre><p style=";;;"><br/></p><p style=";;;">Sunday算法是Daniel M.Sunday于1990年提出的字符串模式匹配。其效率在匹配随机的字符串时比其他匹配算法还要更快。Sunday算法的实现可比KMP，BM的实现容易太多。</p><p style=";;;"><br/></p><p style=";;;"><br/></p><pre style="white-space:pre-wrap;word-wrap:normal;margin-top:0px;margin-bottom:0px;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:1.45;padding:16px;overflow:auto;word-break:normal;background-color:#f7f7f7;"><span style="color:#a71d5d;"><strong><span style="font-size:24px;">二：分析</span></strong></span></pre><p style=";;;">假设我们有如下字符串：<br/>A = &quot;LESSONS TEARNED IN SOFTWARE TE&quot;;<br/>B = &quot;SOFTWARE&quot;;<br/>Sunday算法的大致原理是：<br/>先从左到右逐个字符比较，以我们的字符串为例：<br/>开始的时候，我们让i = 0, 指向A的第一个字符; j = 0 指向B的第一个字符，分别为&quot;L&quot;和&quot;S&quot;，不等；这个时候，Sunday算法要求，找到位于A字串中位于B字符串后面的第一个字符，即下图中 m所指向的字符&quot;T&quot;，在模式字符串B中<span style="color:#ff0000;">从后向前</span>查找是否存在&quot;T&quot;，</p><p style=";;;"><img src="http://img.blog.csdn.net/20160714221937697" height="300" width="600" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;">可以看到下图中k指向的字符与m指向的字符相等，<br/><img src="http://img.blog.csdn.net/20160714222222080" height="300" width="600" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;">这时就将相等的字符对齐，让j再次指向B字符串的头一个字符，相应地，将i指向主串对应的字符N，</p><p style=";;;"><img src="http://img.blog.csdn.net/20160714222349968" height="300" width="600" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;">再次比较A[i]和B[j]，不等，这时再次寻找主串中在模式串后面的那个字符，</p><p style=";;;"><img src="http://img.blog.csdn.net/20160714222451518" height="300" width="600" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;">我们看到，模式串的最后一个字符与m指向的主串字符相等，因此再次移动子串，</p><p style=";;;"><img src="http://img.blog.csdn.net/20160714222940914" height="300" width="600" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;">这时，主串i对应的字符是S，j对应的子串字符也是S，i++, j++，</p><p style=";;;"><img src="http://img.blog.csdn.net/20160714223051525" height="300" width="600" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;">现在再次不等，m指向字符&quot;D&quot;，</p><p style=";;;"><img src="http://img.blog.csdn.net/20160714223156855" height="320" width="620" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;"><br/></p><p style=";;;"><br/></p><pre style="white-space:pre-wrap;word-wrap:normal;margin-top:0px;margin-bottom:0px;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:1.45;padding:16px;overflow:auto;word-break:normal;background-color:#f7f7f7;"><span style="color:#a71d5d;"><strong><span style="font-size:24px;">三：完整代码</span></strong></span></pre><p><strong>[cpp]</strong>&nbsp;<a href="http://blog.csdn.net/LaoJiu_/article/details/50767615#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;background-image:none;background-color:inherit;border:none;padding:0px;margin:0px 10px 0px 0px;color:#0c89cf;background-position:initial initial;background-repeat:initial initial;">view plain</a><span data-mod="popu_168">&nbsp;<a href="http://blog.csdn.net/LaoJiu_/article/details/50767615#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;background-image:none;background-color:inherit;border:none;padding:0px;margin:0px 10px 0px 0px;color:#0c89cf;background-position:initial initial;background-repeat:initial initial;">copy</a></span></p><p><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="28" height="15" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=28&amp;height=15" wmode="transparent"/></p><p><span data-mod="popu_169">&nbsp;<a href="http://blog.csdn.net/LaoJiu_/article/details/50767615#" class="PrintSource" title="print" target="_blank" style="text-decoration:none;background-image:none;background-color:inherit;border:none;padding:0px;margin:0px 10px 0px 0px;color:#0c89cf;background-position:initial initial;background-repeat:initial initial;">print</a></span><a href="http://blog.csdn.net/LaoJiu_/article/details/50767615#" class="About" title="?" target="_blank" style="text-decoration:none;background-image:none;background-color:inherit;border:none;padding:0px;margin:0px 10px 0px 0px;color:#0c89cf;background-position:initial initial;background-repeat:initial initial;">?</a></p><p></p><ol start="1" class="dp-cpp list-paddingleft-2" style="padding:0px;border:none;list-style-position:initial;list-style-image:initial;background-color:#ffffff;color:#5c5c5c;margin:0px 0px 1px 45px !important;"><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="preprocessor" style="margin:0px;padding:0px;border:none;color:gray;background-color:inherit;">#define&nbsp;_CRT_SECURE_NO_DEPRECATE&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="preprocessor" style="margin:0px;padding:0px;border:none;color:gray;background-color:inherit;">#define&nbsp;_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES&nbsp;1&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="preprocessor" style="margin:0px;padding:0px;border:none;color:gray;background-color:inherit;">#include&lt;iostream&gt;&nbsp;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="preprocessor" style="margin:0px;padding:0px;border:none;color:gray;background-color:inherit;">#include&lt;string&gt;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">using</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">namespace</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;std;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;_next[256];&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">string&nbsp;dest;&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">string&nbsp;pattern;&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">/*</span>&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">因为i位置处的字符可能在pattern中多处出现（如下图所示），而我们需要的是最右边的位置，这样就需要每次循环判断了，非常麻烦，性能差。这里有个小技巧，就是使用字符作为下标而不是位置数字作为下标。这样只需要遍历一遍即可，这貌似是空间换时间的做法，但如果是纯8位字符也只需要256个空间大小，而且对于大模式，可能本身长度就超过了256，所以这样做是值得的（这也是为什么数据越大，BM/Sunday算法越高效的原因之一）。</span>&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">*/</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;GetNext()&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">{&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;len&nbsp;=&nbsp;pattern.size();</span><span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">//get&nbsp;the&nbsp;length</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(</span><span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;256;&nbsp;i++)&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_next[i]&nbsp;=&nbsp;-1;&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(</span><span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;len;&nbsp;i++)&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_next[pattern[i]]&nbsp;=&nbsp;i;&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;SundaySearch()&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">{&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;GetNext();&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;destLen&nbsp;=&nbsp;dest.size();&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;patternLen&nbsp;=&nbsp;pattern.size();&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(destLen&nbsp;==&nbsp;0)&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;-1;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(</span><span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;=&nbsp;destLen&nbsp;-&nbsp;patternLen;)&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;j&nbsp;=&nbsp;i;</span><span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">//dest[j]</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;k&nbsp;=&nbsp;0;</span><span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">//pattern[k]</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(;&nbsp;k&lt;patternLen&amp;&amp;j&nbsp;&lt;&nbsp;destLen&amp;&amp;dest[j]&nbsp;==&nbsp;pattern[k];&nbsp;j++,&nbsp;k++)&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">//do&nbsp;nothing</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(k&nbsp;==&nbsp;patternLen)</span><span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">//great!&nbsp;find&nbsp;it!</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;i;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(i&nbsp;+&nbsp;patternLen&nbsp;&lt;&nbsp;destLen)&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;+=&nbsp;(patternLen&nbsp;-&nbsp;_next[dest[i&nbsp;+&nbsp;patternLen]]);&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;-1;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;-1;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;main()&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">{&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;dest&nbsp;=&nbsp;<span class="string" style="margin:0px;padding:0px;border:none;color:red;background-color:inherit;">&quot;This&nbsp;is&nbsp;a&nbsp;wonderful&nbsp;city&quot;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">//case&nbsp;one(successful&nbsp;locating)</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;pattern&nbsp;=&nbsp;<span class="string" style="margin:0px;padding:0px;border:none;color:red;background-color:inherit;">&quot;wo&quot;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px;padding:0px;border:none;color:#2e8b57;background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;result&nbsp;=&nbsp;SundaySearch();&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(result&nbsp;==&nbsp;-1)&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;<span class="string" style="margin:0px;padding:0px;border:none;color:red;background-color:inherit;">&quot;sorry,you&nbsp;do&nbsp;not&nbsp;find&nbsp;it!\n&quot;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;<span class="string" style="margin:0px;padding:0px;border:none;color:red;background-color:inherit;">&quot;you&nbsp;find&nbsp;it&nbsp;at&nbsp;&quot;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&lt;&lt;&nbsp;result&nbsp;&lt;&lt;&nbsp;endl;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;border:none;color:#008200;background-color:inherit;">//case&nbsp;two(unsuccessful&nbsp;locating)</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;pattern&nbsp;=&nbsp;<span class="string" style="margin:0px;padding:0px;border:none;color:red;background-color:inherit;">&quot;wwe&quot;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;SundaySearch();&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;(result&nbsp;==&nbsp;-1)&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;<span class="string" style="margin:0px;padding:0px;border:none;color:red;background-color:inherit;">&quot;sorry,you&nbsp;do&nbsp;not&nbsp;find&nbsp;it!\n&quot;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;<span class="string" style="margin:0px;padding:0px;border:none;color:red;background-color:inherit;">&quot;you&nbsp;find&nbsp;it&nbsp;at&quot;</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;&lt;&lt;&nbsp;result&nbsp;&lt;&lt;&nbsp;endl;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;</span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;">&nbsp;0;&nbsp;&nbsp;</span></span></p></li><li><p><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}&nbsp;&nbsp;</span></p></li></ol><p><br/>测试：</p><p style=";;;"><br/></p><p style=";;;"><img src="http://img.blog.csdn.net/20160229193528807" alt="" style="border:none;max-width:602px;height:auto;"/></p><p style=";;;"><br/></p><p style=";;;"><br/></p><p style=";;;"><br/></p><p style=";;;"><span style="font-size:24px;"><strong>返回目录----&gt;<a target="_blank" href="http://blog.csdn.net/laojiu_/article/details/51273181" style="text-decoration:none;color:#0c89cf;">数据结构与算法目录</a></strong></span></p><p style=";;;"><br/></p><p style=";;;"><br/></p><p style=";;;"><br/></p><p style=";;;"><br/></p><p style=";;;">参考：&nbsp;</p><p style=";;;"><a target="_blank" href="http://www.cnblogs.com/lbsong/archive/2012/05/25/2518188.html" style="text-decoration:none;color:#0c89cf;"></a>图片资源采集自：符串匹配算法 – Sunday算法-------&gt;<a target="_blank" href="http://www.cnblogs.com/lbsong/archive/2012/05/25/2518188.html" style="text-decoration:none;color:#0c89cf;">http://www.cnblogs.com/lbsong/archive/2012/05/25/2518188.html</a></p><p style=";;;">字符串搜索算法Boyer-Moore由浅入深（比KMP快3-5倍）-----&gt;<a target="_blank" href="http://blog.jobbole.com/52830/" style="text-decoration:none;color:#0c89cf;">http://blog.jobbole.com/52830/</a></p><p style=";;;">字符串匹配的Boyer-Moore算法------&gt;<a target="_blank" href="http://www.ruanyifeng.com/blog/2013/05/boyer-moore_string_search_algorithm.html" style="text-decoration:none;color:#0c89cf;">http://www.ruanyifeng.com/blog/2013/05/boyer-moore_string_search_algorithm.html</a></p><p style=";;;">【模式匹配】之 —— Sunday算法------&gt;<a target="_blank" href="http://blog.csdn.net/sunnianzhong/article/details/8820123" style="text-decoration:none;color:#0c89cf;">http://blog.csdn.net/sunnianzhong/article/details/8820123</a></p></body></html>