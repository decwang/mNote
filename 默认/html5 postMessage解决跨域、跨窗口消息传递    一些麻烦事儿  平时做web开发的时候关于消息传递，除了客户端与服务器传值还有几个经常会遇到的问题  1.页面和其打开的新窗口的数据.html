<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2017-07-31T08:51:11Z"/><meta name="updated" content="2017-07-31T08:51:13Z"/><title>html5 postMessage解决跨域、跨窗口消息传递    一些麻烦事儿  平时做web开发的时候关于消息传递，除了客户端与服务器传值还有几个经常会遇到的问题  1.页面和其打开的新窗口的数据</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div id="post_detail" style="font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:12px;"><div id="topics"><div class="post" style="padding:32px;"><h1 class="postTitle" style="margin:0px;padding:0px 64px 0px 0px;list-style-type:none;list-style-image:none;font-size:30px;font-weight:normal;border-left-style:none;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/dolphinX/p/3464056.html" style="text-decoration:none;color:black;">html5 postMessage解决跨域、跨窗口消息传递</a></h1>
<div class="clear" style="clear:both;"></div>
<div class="postBody" style="clear:both;margin-top:26px;font-size:14px;color:#444444;line-height:1.8;"><div id="cnblogs_post_body" style="margin-bottom:20px;word-break:break-word;"><h3 style="margin:10px 0px;padding:0px;list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;">一些麻烦事儿</h3>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">平时做web开发的时候关于消息传递，除了客户端与服务器传值还有几个经常会遇到的问题</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">1.页面和其打开的新窗口的数据传递</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">2.多窗口之间消息传递</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">3.页面与嵌套的iframe消息传递</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">4.上面三个问题的跨域数据传递</p>
<h3 style="margin:10px 0px;padding:0px;list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;">postMessage()</h3>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">这些问题都有一些解决办法，但html5引入的message的API可以更方便、有效、安全的解决这些难题。postMessage()方法允许来自不同源的脚本采用异步方式进行有限的通信，可以实现跨文本档、多窗口、跨域消息传递。</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">postMessage(data,origin)方法接受两个参数</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;1.<strong>data</strong>:要传递的数据，html5规范中提到该参数可以是JavaScript的任意基本类型或可复制的对象，然而并不是所有浏览器都做到了这点儿，部分浏览器只能处理字符串参数，所以我们在传递参数的时候需要使用JSON.stringify()方法对对象参数序列化，在低版本IE中引用json2.js可以实现类似效果。</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">2.<strong>origin</strong>：字符串参数，指明目标窗口的源，协议+主机+端口号[+URL]，URL会被忽略，所以可以不写，这个参数是为了安全考虑，postMessage()方法只会将message传递给指定窗口，当然如果愿意也可以建参数设置为"*"，这样可以传递给任意窗口，如果要指定和当前窗口同源的话设置为"/"。</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">http://test.com/index.html</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><div class="cnblogs_code_toolbar" style="margin-top:0px;"><span class="cnblogs_code_copy" style="padding-right:5px;line-height:1.5 !important;"><a title="复制代码" style="color:#3399ff;border:none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px;float:left;max-width:650px;border:none !important;" /></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;"><span style="color:#0000ff;line-height:1.5 !important;">&lt;</span><span style="color:#800000;line-height:1.5 !important;">div </span><span style="color:#ff0000;line-height:1.5 !important;">style</span><span style="color:#0000ff;line-height:1.5 !important;">="width:200px; float:left; margin-right:200px;border:solid 1px #333;"</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;</span>         <span style="color:#0000ff;line-height:1.5 !important;">&lt;</span><span style="color:#800000;line-height:1.5 !important;">div </span><span style="color:#ff0000;line-height:1.5 !important;">id</span><span style="color:#0000ff;line-height:1.5 !important;">="color"</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;</span>Frame Color<span style="color:#0000ff;line-height:1.5 !important;">&lt;/</span><span style="color:#800000;line-height:1.5 !important;">div</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;</span>     <span style="color:#0000ff;line-height:1.5 !important;">&lt;/</span><span style="color:#800000;line-height:1.5 !important;">div</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;</span>     <span style="color:#0000ff;line-height:1.5 !important;">&lt;</span><span style="color:#800000;line-height:1.5 !important;">div</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;</span>         <span style="color:#0000ff;line-height:1.5 !important;">&lt;</span><span style="color:#800000;line-height:1.5 !important;">iframe </span><span style="color:#ff0000;line-height:1.5 !important;">id</span><span style="color:#0000ff;line-height:1.5 !important;">="child"</span><span style="color:#ff0000;line-height:1.5 !important;"> src</span><span style="color:#0000ff;line-height:1.5 !important;">="http://lsLib.com/lsLib.html"</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;&lt;/</span><span style="color:#800000;line-height:1.5 !important;">iframe</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;</span>     <span style="color:#0000ff;line-height:1.5 !important;">&lt;/</span><span style="color:#800000;line-height:1.5 !important;">div</span><span style="color:#0000ff;line-height:1.5 !important;">&gt;</span></pre><div class="cnblogs_code_toolbar" style="margin-top:0px;"><span class="cnblogs_code_copy" style="padding-right:5px;line-height:1.5 !important;"><a title="复制代码" style="color:#3399ff;border:none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px;float:left;max-width:650px;border:none !important;" /></a></span></div>
</div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">我们可以在http://test.com/index.html通过postMessage()方法向跨域的iframe页面http://lsLib.com/lsLib.html传递消息</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;">window.onload=<span style="color:#0000ff;line-height:1.5 !important;">function</span><span style="line-height:1.5 !important;">(){
            window.frames[</span>0].postMessage('getcolor','http://lslib.com'<span style="line-height:1.5 !important;">);
        }</span></pre></div>
<h3 style="margin:10px 0px;padding:0px;list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;">接收消息</h3>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">test.com上面的页面向lslib.com发送了消息，那么在lslib.com页面上如何接收消息呢，监听window的message事件就可以</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">http://lslib.com/lslib.html</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;">window.addEventListener('message',<span style="color:#0000ff;line-height:1.5 !important;">function</span><span style="line-height:1.5 !important;">(e){
                </span><span style="color:#0000ff;line-height:1.5 !important;">if</span>(e.source!=window.parent) <span style="color:#0000ff;line-height:1.5 !important;">return</span><span style="line-height:1.5 !important;">;
                </span><span style="color:#0000ff;line-height:1.5 !important;">var</span> color=<span style="line-height:1.5 !important;">container.style.backgroundColor;
                window.parent.postMessage(color,</span>'*'<span style="line-height:1.5 !important;">);
            },</span><span style="color:#0000ff;line-height:1.5 !important;">false</span>);</pre></div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">这样我们就可以接收任何窗口传递来的消息了，为了安全起见，我们利用这时候的MessageEvent对象判断了一下消息源,MessageEvent是一个这样的东东</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;"><img src="http://images.cnitblog.com/blog/349217/201312/08175214-813c8812527d45a9a74a26492584ebea.png" alt="" style="border:none;margin-top:20px;margin-bottom:20px;max-width:650px;" /></p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">有几个重要属性</p>
<ol style="margin:0px 0px 0px 20px;padding:0px 0px 0px 40px;list-style:none;"><li style="margin:0px;padding:0px;list-style-type:decimal;list-style-image:none;"><strong>data</strong>：顾名思义，是传递来的message</li>
<li style="margin:0px;padding:0px;list-style-type:decimal;list-style-image:none;"><strong>source</strong>：发送消息的窗口对象</li>
<li style="margin:0px;padding:0px;list-style-type:decimal;list-style-image:none;"><strong>origin</strong>：发送消息窗口的源（协议+主机+端口号）</li>
</ol>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">这样就可以接收跨域的消息了，我们还可以发送消息回去，方法类似</p>
<h3 style="margin:10px 0px;padding:0px;list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;">简单的demo</h3>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">在这个例子中，左边的div会根据右边iframe内div颜色变化而变化</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;"><img src="http://images.cnitblog.com/blog/349217/201312/08175933-d467e28d3b4e40e08280df47189798f5.png" alt="" width="617" height="175" style="border:1px solid black;margin-top:20px;margin-bottom:20px;max-width:650px;" />&nbsp; &nbsp;<img src="http://images.cnitblog.com/blog/349217/201312/08175957-047bb18e0d9e43a6ad010668e44b13cc.png" alt="" width="588" height="185" style="border:1px solid black;margin-top:20px;margin-bottom:20px;max-width:650px;" /></p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><img id="code_img_closed_e7c30312-f656-43ec-acbc-5b8654656439" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:none;vertical-align:middle;padding-right:5px;margin:0px;float:left;max-width:650px;" /><span class="cnblogs_code_collapse" style="border:1px solid gray;background-color:#ffffff;padding:2px;line-height:1.5 !important;">http://test.com/index.html</span></div>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><img id="code_img_closed_014580cc-ba4c-48dd-b733-a0672bb50e1a" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:none;vertical-align:middle;padding-right:5px;margin:0px;float:left;max-width:650px;" /><span class="cnblogs_code_collapse" style="border:1px solid gray;background-color:#ffffff;padding:2px;line-height:1.5 !important;">http://lslib.com/lslib.html</span></div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">在例子中页面加载的时候主页面向iframe发送’getColor‘ 请求（参数没实际用处）</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;">window.onload=<span style="color:#0000ff;line-height:1.5 !important;">function</span><span style="line-height:1.5 !important;">(){
            window.frames[</span>0].postMessage('getcolor','http://lslib.com'<span style="line-height:1.5 !important;">);
        }</span></pre></div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">iframe接收消息，并把当前颜色发送给主页面呢</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;">window.addEventListener('message',<span style="color:#0000ff;line-height:1.5 !important;">function</span><span style="line-height:1.5 !important;">(e){
                </span><span style="color:#0000ff;line-height:1.5 !important;">if</span>(e.source!=window.parent) <span style="color:#0000ff;line-height:1.5 !important;">return</span><span style="line-height:1.5 !important;">;
                </span><span style="color:#0000ff;line-height:1.5 !important;">var</span> color=<span style="line-height:1.5 !important;">container.style.backgroundColor;
                window.parent.postMessage(color,</span>'*'<span style="line-height:1.5 !important;">);
            },</span><span style="color:#0000ff;line-height:1.5 !important;">false</span>);</pre></div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">主页面接收消息，更改自己div颜色</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;">window.addEventListener('message',<span style="color:#0000ff;line-height:1.5 !important;">function</span><span style="line-height:1.5 !important;">(e){
            </span><span style="color:#0000ff;line-height:1.5 !important;">var</span> color=<span style="line-height:1.5 !important;">e.data;
            document.getElementById(</span>'color').style.backgroundColor=<span style="line-height:1.5 !important;">color;
        },</span><span style="color:#0000ff;line-height:1.5 !important;">false</span>);</pre></div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">当点击iframe事触发其变色方法，把最新颜色发送给主页面</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><div class="cnblogs_code_toolbar" style="margin-top:0px;"><span class="cnblogs_code_copy" style="padding-right:5px;line-height:1.5 !important;"><a title="复制代码" style="color:#3399ff;border:none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px;float:left;max-width:650px;border:none !important;" /></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;"><span style="color:#0000ff;line-height:1.5 !important;">function</span><span style="line-height:1.5 !important;"> changeColor () {            
                </span><span style="color:#0000ff;line-height:1.5 !important;">var</span> color=<span style="line-height:1.5 !important;">container.style.backgroundColor;
                </span><span style="color:#0000ff;line-height:1.5 !important;">if</span>(color=='rgb(204, 102, 0)'<span style="line-height:1.5 !important;">){
                    color</span>='rgb(204, 204, 0)'<span style="line-height:1.5 !important;">;
                }</span><span style="color:#0000ff;line-height:1.5 !important;">else</span><span style="line-height:1.5 !important;">{
                    color</span>='rgb(204,102,0)'<span style="line-height:1.5 !important;">;
                }
                container.style.backgroundColor</span>=<span style="line-height:1.5 !important;">color;
                window.parent.postMessage(color,</span>'*'<span style="line-height:1.5 !important;">);
            }</span></pre><div class="cnblogs_code_toolbar" style="margin-top:0px;"><span class="cnblogs_code_copy" style="padding-right:5px;line-height:1.5 !important;"><a title="复制代码" style="color:#3399ff;border:none !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="margin:0px;float:left;max-width:650px;border:none !important;" /></a></span></div>
</div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">主页面还是利用刚才监听message事件的程序处理自身变色</p>
<div class="cnblogs_code" style="background-color:#f5f5f5;border:1px solid #cccccc;padding:5px;overflow:auto;margin:5px 0px;color:#000000;font-family:'Courier New' !important;font-size:12px !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;padding:0px;list-style-type:none;list-style-image:none;font-family:'Courier New' !important;">window.addEventListener('message',<span style="color:#0000ff;line-height:1.5 !important;">function</span><span style="line-height:1.5 !important;">(e){
            </span><span style="color:#0000ff;line-height:1.5 !important;">var</span> color=<span style="line-height:1.5 !important;">e.data;
            document.getElementById(</span>'color').style.backgroundColor=<span style="line-height:1.5 !important;">color;
        },</span><span style="color:#0000ff;line-height:1.5 !important;">false</span>);</pre></div>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">&nbsp;</p>
<h3 style="margin:10px 0px;padding:0px;list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;">最后</h3>
<p style="margin:10px auto;padding:0px;list-style-type:none;list-style-image:none;">很简单的用法却解决了大问题，据说Facebook已经在使用了，而且这也是html5另一个API——web workers传递消息的方法，那么它的浏览器兼容性怎么样呢？所谓浏览器兼容性几乎变成了IE几开始支持的问题了。。。不过好消息是跟localStorage一样，IE8+都支持了，只不过有些浏览器的低版本（比如FireFox4.0）并不支持window.onmessage=function(){}这种写法，所以我么最好使用事件绑定的写法，为了兼容IE，也要判断是否支持addEventListener。</p>
</div>
<div class="clear" style="clear:both;"></div>
<div id="blog_post_info_block" style="margin-top:20px;"><div id="BlogPostCategory" style="margin-bottom:10px;">分类:&nbsp;<a href="http://www.cnblogs.com/dolphinX/category/530314.html" target="_blank" style="text-decoration:none;color:#3399ff;">HTML</a></div>
<div id="EntryTag" style="margin-top:0px !important;"></div>
<div id="blog_post_info"><div id="green_channel" style="padding:10px 0px;margin-bottom:10px;margin-top:10px;border:1px dashed silver;font-size:12px;width:350px;text-align:center;"><a id="green_channel_digg" style="background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D);background-color:#2daebf;display:inline-block;padding:3px 8px;font-weight:bold;cursor:pointer;margin-right:10px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;-webkit-box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;vertical-align:middle;color:#ffffff !important;border:none !important;background-repeat:repeat no-repeat;">好文要顶</a>&nbsp;<a id="green_channel_follow" style="background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D);background-color:#e33100;display:inline-block;padding:3px 8px;font-weight:bold;cursor:pointer;margin-right:10px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;-webkit-box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;vertical-align:middle;color:#ffffff !important;border:none !important;background-repeat:repeat no-repeat;">关注我</a>&nbsp;<a id="green_channel_favorite" style="background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D);background-color:#ffb515;display:inline-block;padding:3px 8px;font-weight:bold;cursor:pointer;margin-right:10px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;-webkit-box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;vertical-align:middle;color:#ffffff !important;border:none !important;background-repeat:repeat no-repeat;">收藏该文</a>&nbsp;<a id="green_channel_weibo" title="分享至新浪微博" style="background-image:none;display:inline-block;padding:3px 2px;font-weight:bold;cursor:pointer;margin-right:10px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;-webkit-box-shadow:none;text-shadow:none;vertical-align:middle;color:#ffffff !important;border:none !important;"><img src="http://common.cnblogs.com/images/icon_weibo_24.png" alt="" style="border:none;margin-top:0px;margin-bottom:0px;vertical-align:middle;margin-left:5px;box-shadow:none;" /></a>&nbsp;<a id="green_channel_wechat" title="分享至微信" style="background-image:none;display:inline-block;padding:3px 2px;font-weight:bold;cursor:pointer;margin-right:10px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;-webkit-box-shadow:none;text-shadow:none;vertical-align:middle;color:#ffffff !important;border:none !important;"><img src="http://common.cnblogs.com/images/wechat.png" alt="" style="border:medium none;margin-top:0px;margin-bottom:0px;width:24px;height:24px;box-shadow:none;margin-left:5px;vertical-align:middle;" /></a></div>
<div id="author_profile" style="float:left;width:280px;margin-top:0px;margin-bottom:10px;color:#000000;margin-left:0px;font-size:12px;"><div id="author_profile_info" class="author_profile_info" style="float:left;line-height:18px;"><a href="http://home.cnblogs.com/u/dolphinX/" target="_blank" style="text-decoration:none;color:#3399ff;"><img src="http://pic.cnblogs.com/face/349217/20170112205800.png" class="author_avatar" alt="" style="border:0px;vertical-align:top;float:left;margin-right:5px;padding-top:5px;padding-left:2px;margin-top:20px;margin-bottom:20px;" /></a><div id="author_profile_detail" class="author_profile_info" style="float:left;line-height:18px;"><a href="http://home.cnblogs.com/u/dolphinX/" style="text-decoration:none;color:#3399ff;">谦行</a><br />
<a href="http://home.cnblogs.com/u/dolphinX/followees" style="text-decoration:none;color:#3399ff;">关注 - 12</a><br />
<a href="http://home.cnblogs.com/u/dolphinX/followers" style="text-decoration:none;color:#3399ff;">粉丝 - 3040</a></div>
</div>
<div class="clear" style="clear:both;"></div>
<div id="author_profile_honor"></div>
<div id="author_profile_follow"><a style="color:#3399ff;">+加关注</a></div>
</div>
<div id="div_digg" style="float:right;margin-bottom:10px;margin-right:30px;font-size:12px;width:125px;text-align:center;margin-top:10px;"><div class="diggit" style="float:left;width:46px;height:52px;background-image:url(http://static.cnblogs.com/images/upup.gif);cursor:pointer;margin-top:2px;padding-top:5px;background-repeat:no-repeat no-repeat;"><span class="diggnum" id="digg_count" style="font-size:14px;color:#075db3;font-family:Verdana;line-height:1.5em !important;">18</span></div>
<div class="buryit" style="float:right;margin-left:20px;width:46px;height:52px;background-image:url(http://static.cnblogs.com/images/downdown.gif);cursor:pointer;margin-top:2px;padding-top:5px;background-repeat:no-repeat no-repeat;"><span class="burynum" id="bury_count" style="font-size:14px;color:#075db3;font-family:Verdana;line-height:1.5em !important;">1</span></div>
<div class="clear" style="clear:both;"></div>
<div class="diggword" id="digg_tips" style="margin-top:5px;margin-left:0px;color:gray;"></div>
</div>
</div>
<div class="clear" style="clear:both;"></div>
<div id="post_next_prev" style="line-height:1.8;font-size:12px;"><a href="http://www.cnblogs.com/dolphinX/p/3462496.html" class="p_n_p_prefix" style="text-decoration:none;color:#3399ff;">«&nbsp;</a>上一篇：<a href="http://www.cnblogs.com/dolphinX/p/3462496.html" title="发布于2013-12-07 11:47" style="text-decoration:none;color:#3399ff;">C# socket编程实践——支持广播的简单socket服务器</a><br />
<a href="http://www.cnblogs.com/dolphinX/p/3452684.html" class="p_n_p_prefix" style="text-decoration:none;color:#3399ff;">»&nbsp;</a>下一篇：<a href="http://www.cnblogs.com/dolphinX/p/3452684.html" title="发布于2013-12-09 23:22" style="text-decoration:none;color:#3399ff;">html5 Web Workers</a><br />
</div>
</div>
</div>
<div class="postDesc" style="color:#999999;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:#e8e7d0;text-align:right;margin:20px 0px;padding:5px 0px;">posted @&nbsp;<span id="post-date">2013-12-08 18:13</span>&nbsp;<a href="http://www.cnblogs.com/dolphinX/" style="text-decoration:none;color:#3399ff;">谦行</a>&nbsp;阅读(<span id="post_view_count">79437</span>) 评论(<span id="post_comment_count">18</span>)&nbsp;&nbsp;<a href="https://i.cnblogs.com/EditPosts.aspx?postid=3464056" rel="nofollow" style="text-decoration:none;color:#3399ff;">编辑</a>&nbsp;<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#" style="text-decoration:none;color:#3399ff;">收藏</a></div>
</div>
</div>
</div>
<a name="!comments" style="font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:12px;"></a><div id="blog-comments-placeholder" style="padding:0px 32px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:12px;"><div id="comments_pager_top"></div>
<br />
<div class="feedback_area_title">评论列表</div>
<div class="feedbackNoItems"></div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2832841" class="layer" style="text-decoration:none;color:#3399ff;">#1楼</a><a name="2832841" id="comment_anchor_2832841"></a>&nbsp; <span class="comment_date">2013-12-08 19:25</span>&nbsp;<a id="a_comment_author_2832841" href="http://www.cnblogs.com/xuzhiqiang/" target="_blank" style="text-decoration:none;color:#3399ff;">56180825</a>&nbsp;<a href="http://msg.cnblogs.com/send/56180825" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_2832841" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">这和跨域有什么关系吗？</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2832843" class="layer" style="text-decoration:none;color:#3399ff;">#2楼</a><a name="2832843" id="comment_anchor_2832843"></a>[<span class="louzhu">楼主</span>]&nbsp;&nbsp;<span class="comment_date">2013-12-08 19:35</span>&nbsp;<a id="a_comment_author_2832843" href="http://www.cnblogs.com/dolphinX/" target="_blank" style="text-decoration:none;color:#3399ff;">谦行</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E8%B0%A6%E8%A1%8C" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_2832843" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2832841" title="查看所回复的评论" style="text-decoration:none;color:#3399ff;">@</a>&nbsp;56180825<br />
<fieldset class="comment_quote" style="margin:0px;padding:5px;list-style-type:none;list-style-image:none;border:1px solid #cccccc;"><legend style="color:#000000;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2832841" title="查看引用原文" style="text-decoration:none;color:#3399ff;">引用</a></legend>这和跨域有什么关系吗？</fieldset><br />
主页面是http://test.com，iframe是http://lslib.com</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2832959" class="layer" style="text-decoration:none;color:#3399ff;">#3楼</a><a name="2832959" id="comment_anchor_2832959"></a>&nbsp; <span class="comment_date">2013-12-09 01:04</span>&nbsp;<a id="a_comment_author_2832959" href="http://www.cnblogs.com/zbw911/" target="_blank" style="text-decoration:none;color:#3399ff;">张保维</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E5%BC%A0%E4%BF%9D%E7%BB%B4" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_2832959" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">我还是在用window.name 做，Html5 看起则更优雅一些。</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2833191" class="layer" style="text-decoration:none;color:#3399ff;">#4楼</a><a name="2833191" id="comment_anchor_2833191"></a>[<span class="louzhu">楼主</span>]&nbsp;&nbsp;<span class="comment_date">2013-12-09 12:37</span>&nbsp;<a id="a_comment_author_2833191" href="http://www.cnblogs.com/dolphinX/" target="_blank" style="text-decoration:none;color:#3399ff;">谦行</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E8%B0%A6%E8%A1%8C" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_2833191" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2832959" title="查看所回复的评论" style="text-decoration:none;color:#3399ff;">@</a>&nbsp;张保维<br />
<fieldset class="comment_quote" style="margin:0px;padding:5px;list-style-type:none;list-style-image:none;border:1px solid #cccccc;"><legend style="color:#000000;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#2832959" title="查看引用原文" style="text-decoration:none;color:#3399ff;">引用</a></legend>我还是在用window.name 做，Html5 看起则更优雅一些。</fieldset><br />
确实是</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3086549" class="layer" style="text-decoration:none;color:#3399ff;">#5楼</a><a name="3086549" id="comment_anchor_3086549"></a>&nbsp; <span class="comment_date">2014-12-15 17:19</span>&nbsp;<a id="a_comment_author_3086549" href="http://www.cnblogs.com/ctriphire/" target="_blank" style="text-decoration:none;color:#3399ff;">快乐人生，积极进取</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E5%BF%AB%E4%B9%90%E4%BA%BA%E7%94%9F%EF%BC%8C%E7%A7%AF%E6%9E%81%E8%BF%9B%E5%8F%96" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3086549" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">一个简单的demo被你写的那么多，文笔不错！</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3214279" class="layer" style="text-decoration:none;color:#3399ff;">#6楼</a><a name="3214279" id="comment_anchor_3214279"></a>&nbsp; <span class="comment_date">2015-06-24 14:56</span>&nbsp;<a id="a_comment_author_3214279" href="http://www.cnblogs.com/hellolm/" target="_blank" style="text-decoration:none;color:#3399ff;">mikou</a>&nbsp;<a href="http://msg.cnblogs.com/send/mikou" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3214279" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">两年前的了，对于我这个初学者，觉得讲的很详细，不错！</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3226017" class="layer" style="text-decoration:none;color:#3399ff;">#7楼</a><a name="3226017" id="comment_anchor_3226017"></a>&nbsp; <span class="comment_date">2015-07-11 19:33</span>&nbsp;<a id="a_comment_author_3226017" href="http://home.cnblogs.com/u/521049/" target="_blank" style="text-decoration:none;color:#3399ff;">苏生不惑</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E8%8B%8F%E7%94%9F%E4%B8%8D%E6%83%91" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3226017" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">nice</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3289703" class="layer" style="text-decoration:none;color:#3399ff;">#8楼</a><a name="3289703" id="comment_anchor_3289703"></a>&nbsp; <span class="comment_date">2015-10-22 10:41</span>&nbsp;<a id="a_comment_author_3289703" href="http://www.cnblogs.com/bugong/" target="_blank" style="text-decoration:none;color:#3399ff;">bugong</a>&nbsp;<a href="http://msg.cnblogs.com/send/bugong" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3289703" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">mark</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3427617" class="layer" style="text-decoration:none;color:#3399ff;">#9楼</a><a name="3427617" id="comment_anchor_3427617"></a>&nbsp; <span class="comment_date">2016-05-10 13:56</span>&nbsp;<a id="a_comment_author_3427617" href="http://home.cnblogs.com/u/953526/" target="_blank" style="text-decoration:none;color:#3399ff;">Sturrbon</a>&nbsp;<a href="http://msg.cnblogs.com/send/Sturrbon" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3427617" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">Nice,学习了。</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3627203" class="layer" style="text-decoration:none;color:#3399ff;">#10楼</a><a name="3627203" id="comment_anchor_3627203"></a>&nbsp; <span class="comment_date">2017-02-27 10:10</span>&nbsp;<a id="a_comment_author_3627203" href="http://www.cnblogs.com/yaoya/" target="_blank" style="text-decoration:none;color:#3399ff;">红枣味酸奶</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E7%BA%A2%E6%9E%A3%E5%91%B3%E9%85%B8%E5%A5%B6" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3627203" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">如果要传的是方法，是函数可以吗？</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3648350" class="layer" style="text-decoration:none;color:#3399ff;">#11楼</a><a name="3648350" id="comment_anchor_3648350"></a>&nbsp; <span class="comment_date">2017-03-22 14:01</span>&nbsp;<a id="a_comment_author_3648350" href="http://www.cnblogs.com/chenjg/" target="_blank" style="text-decoration:none;color:#3399ff;">陈陈jg</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E9%99%88%E9%99%88jg" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3648350" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3627203" title="查看所回复的评论" style="text-decoration:none;color:#3399ff;">@</a>&nbsp;红枣味酸奶<br />
我觉得可以将一个对象转为字符串传过去，那边通过Json.parse来变回对象就可以了</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3649513" class="layer" style="text-decoration:none;color:#3399ff;">#12楼</a><a name="3649513" id="comment_anchor_3649513"></a>&nbsp; <span class="comment_date">2017-03-23 14:35</span>&nbsp;<a id="a_comment_author_3649513" href="http://www.cnblogs.com/yaoya/" target="_blank" style="text-decoration:none;color:#3399ff;">红枣味酸奶</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E7%BA%A2%E6%9E%A3%E5%91%B3%E9%85%B8%E5%A5%B6" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3649513" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3648350" title="查看所回复的评论" style="text-decoration:none;color:#3399ff;">@</a>&nbsp;陈陈jg<br />
这样穿函数不行</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3649516" class="layer" style="text-decoration:none;color:#3399ff;">#13楼</a><a name="3649516" id="comment_anchor_3649516"></a>&nbsp; <span class="comment_date">2017-03-23 14:37</span>&nbsp;<a id="a_comment_author_3649516" href="http://www.cnblogs.com/chenjg/" target="_blank" style="text-decoration:none;color:#3399ff;">陈陈jg</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E9%99%88%E9%99%88jg" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3649516" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3649513" title="查看所回复的评论" style="text-decoration:none;color:#3399ff;">@</a>&nbsp;红枣味酸奶<br />
你可以把函数作为对象的方法传嘛？</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3649755" class="layer" style="text-decoration:none;color:#3399ff;">#14楼</a><a name="3649755" id="comment_anchor_3649755"></a>&nbsp; <span class="comment_date">2017-03-23 17:51</span>&nbsp;<a id="a_comment_author_3649755" href="http://www.cnblogs.com/yaoya/" target="_blank" style="text-decoration:none;color:#3399ff;">红枣味酸奶</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E7%BA%A2%E6%9E%A3%E5%91%B3%E9%85%B8%E5%A5%B6" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3649755" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3649516" title="查看所回复的评论" style="text-decoration:none;color:#3399ff;">@</a>&nbsp;陈陈jg<br />
是把函数作为一个对象的属性值的意思是吗</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3676723" class="layer" style="text-decoration:none;color:#3399ff;">#15楼</a><a name="3676723" id="comment_anchor_3676723"></a>&nbsp; <span class="comment_date">2017-04-25 15:03</span>&nbsp;<a id="a_comment_author_3676723" href="http://www.cnblogs.com/Theresa/" target="_blank" style="text-decoration:none;color:#3399ff;">Theresa</a>&nbsp;<a href="http://msg.cnblogs.com/send/Theresa" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3676723" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">讲的很详细</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3676728" class="layer" style="text-decoration:none;color:#3399ff;">#16楼</a><a name="3676728" id="comment_anchor_3676728"></a>&nbsp; <span class="comment_date">2017-04-25 15:04</span>&nbsp;<a id="a_comment_author_3676728" href="http://www.cnblogs.com/Theresa/" target="_blank" style="text-decoration:none;color:#3399ff;">Theresa</a>&nbsp;<a href="http://msg.cnblogs.com/send/Theresa" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3676728" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">但是如果不能控制iframe页面，就算传了也没什么用吧</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(1)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3686412" class="layer" style="text-decoration:none;color:#3399ff;">#17楼</a><a name="3686412" id="comment_anchor_3686412"></a>&nbsp; <span class="comment_date">2017-05-08 10:32</span>&nbsp;<a id="a_comment_author_3686412" href="http://www.cnblogs.com/karascanvas/" target="_blank" style="text-decoration:none;color:#3399ff;">绅士熊吉</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E7%BB%85%E5%A3%AB%E7%86%8A%E5%90%89" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3686412" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3676728" title="查看所回复的评论" style="text-decoration:none;color:#3399ff;">@</a>&nbsp;Theresa<br />
<fieldset class="comment_quote" style="margin:0px;padding:5px;list-style-type:none;list-style-image:none;border:1px solid #cccccc;"><legend style="color:#000000;"><a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3676728" title="查看引用原文" style="text-decoration:none;color:#3399ff;">引用</a></legend>但是如果不能控制iframe页面，就算传了也没什么用吧<br />
</fieldset><br />
正是不能控制iframe的dom，所以才允许了跨域，对于被iframe引用的页来说就是把被动接受所有控制，变为主动地处理消息。</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
<div class="feedbackItem" style="border:1px solid #e3e3e3;padding:5px;margin-bottom:10px;background-color:#f6f6f6;"><div class="feedbackListSubtitle"><div class="feedbackManage">&nbsp;&nbsp;</div>
<a href="http://www.cnblogs.com/dolphinX/p/3464056.html#3725748" class="layer" style="text-decoration:none;color:#3399ff;">#18楼</a><a name="3725748" id="comment_anchor_3725748"></a>&nbsp; <span class="comment_date">2017-06-30 08:51</span>&nbsp;<a id="a_comment_author_3725748" href="http://www.cnblogs.com/wayung7/" target="_blank" style="text-decoration:none;color:#3399ff;">掏粪男孩</a>&nbsp;<a href="http://msg.cnblogs.com/send/%E6%8E%8F%E7%B2%AA%E7%94%B7%E5%AD%A9" title="发送站内短消息" class="sendMsg2This" style="text-decoration:none;color:#3399ff;background-image:url(http://www.cnblogs.com/images/icoMsg.gif);padding-left:20px;background-position:left top;background-repeat:no-repeat no-repeat;">&nbsp;</a></div>
<div class="feedbackCon"><div id="comment_body_3725748" class="blog_comment_body" style="word-wrap:break-word;overflow:hidden;color:#929292;padding-top:10px;">赞</div>
<div class="comment_vote" style="text-align:right;"><a class="comment_digg" style="padding-left:10px;color:#3399ff;">支持(0)</a><a class="comment_bury" style="padding-left:10px;color:#3399ff;">反对(0)</a></div>
</div>
</div>
</div></body></html>