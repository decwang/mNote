<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2014-12-24T05:21:00Z"/><meta name="updated" content="2016-10-08T09:09:10Z"/><title>Unity startup orientation handling issue in iOS8 横屏 bug    笔者的项目一直在Unity 4.3下开发，最近，在升级到xcode6以后，在iO</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><h1 class="postTitle" style="margin:0px;padding:0px 100px 10px 5px;font-size:16px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#999999;line-height:1.5em;clear:both;border-left-width:5px;border-left-style:solid;border-left-color:#1fa6e6;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/luxel/p/4155024.html" style="margin:0px;padding:0px;color:#1c7791;text-decoration:none;">Unity startup orientation handling issue in iOS8 横屏 bug</a></h1>
<div class="clear" style="margin:0px;padding:0px;clear:both;"></div>
<div class="postBody" style="margin:0px;padding:5px 2px 5px 5px;line-height:1.8;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#000000;"><div id="cnblogs_post_body" style="margin:0px 0px 20px;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;line-height:21px;"><p style="margin:10px auto;padding:0px;">笔者的项目一直在Unity 4.3下开发，最近，在升级到xcode6以后，在iOS8设备上测试发现一个有趣的现象：</p>
<p style="margin:10px auto;padding:0px;">原本运行正常的横屏游戏，到了iOS8设备上，变成了竖屏运行，并且仍然是横屏的内容，那UI是一个惨不忍睹。Unity和xcode里的Device Orientation设置一直为“Lanscape Left”和"Lanscape Right"</p>
<p style="margin:10px auto;padding:0px;">目前Unity官方已在<strong style="margin:0px;padding:0px;">Release 4.5.3p1</strong>版本解决了该问题，对于4.5版本的童鞋非常方便，直接打上最新Patch就好</p>
<p style="margin:10px auto;padding:0px;">&nbsp;</p>
<p style="margin:10px auto;padding:0px;">可惜的是，对于Unity 4.3版本，目前仍然没有官方解决方案。</p>
<p style="margin:10px auto;padding:0px;">在论坛上几番搜索、尝试，最后我们采取了这样的临时解决方案：</p>
<p style="margin:10px auto;padding:0px;">修改iPhone_OrientationSupport.mm文件，将第10、11行的以下两句 -&nbsp;</p>
<div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:#f5f5f5;border:1px solid #cccccc;overflow:auto;font-family:'Courier New' !important;"><pre style="margin-top:0px;margin-bottom:0px;padding:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New' !important;"><span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">case</span> landscapeLeft:         <span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">return</span><span style="margin:0px;padding:0px;line-height:1.5 !important;"> CGAffineTransformMakeRotation(M_PI_2);</span><span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">case</span> landscapeRight:        <span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">return</span> CGAffineTransformMakeRotation(-M_PI_2);</pre></div>
<p style="margin:10px auto;padding:0px;">替换成 -&nbsp;</p>
<div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:#f5f5f5;border:1px solid #cccccc;overflow:auto;font-family:'Courier New' !important;"><pre style="margin-top:0px;margin-bottom:0px;padding:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New' !important;"><span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">case</span> landscapeLeft:         <span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">return</span><span style="margin:0px;padding:0px;line-height:1.5 !important;"> CGAffineTransformIdentity;</span><span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">case</span> landscapeRight:        <span style="margin:0px;padding:0px;color:#0000ff;line-height:1.5 !important;">return</span> CGAffineTransformIdentity;</pre></div>
<p style="margin:10px auto;padding:0px;">问题暂时得以解决。</p>
<div><br />
</div>
</div>
<div class="clear" style="margin:0px;padding:0px;clear:both;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;line-height:21px;"></div>
<div id="blog_post_info_block" style="margin:20px 0px 0px;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;line-height:21px;"></div>
</div></body></html>