<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2016-07-12T11:03:16Z"/><meta name="updated" content="2016-07-12T11:03:36Z"/><title>UINavigationBar 使用总结</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><h1 class="title" style="margin:10px 0px;font-family:'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.5;color:#555555;text-rendering:optimizelegibility;font-size:32px;word-break:break-all;">UINavigationBar 使用总结</h1>
<div class="meta-top" style="font-family:'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;margin:20px 0px;color:#555555;"><span class="wordage" style="position:relative;top:1px;margin-right:10px;font-size:12px;color:#999999;">字数2242</span>&nbsp;<span class="views-count" style="position:relative;top:1px;margin-right:10px;font-size:12px;color:#999999;">阅读3712</span>&nbsp;<span class="comments-count" style="position:relative;top:1px;margin-right:10px;font-size:12px;color:#999999;">评论13</span>&nbsp;<span class="likes-count" style="position:relative;top:1px;margin-right:10px;font-size:12px;color:#999999;">喜欢66</span></div>
<div class="show-content" style="color:#2f2f2f;font-size:16px;line-height:1.7;font-family:'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;"><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">UINavigationBar是我们在开发过程中经常要用到的一个控件，下面我会为大家介绍一些常用的用法。</p>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">1. 设置导航栏的标题</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">这个不多说，直接上代码<br />
<code style="padding:2px 4px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;color:#657b83;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:#fdf6e3;border:none;white-space:pre-wrap;">self.navigationItem.title = @"UINavigationBar使用总结";</code></p>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">2. 设置导航栏的背景颜色</h2>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-comment" style="color:#93a1a1;">//通过barTintColor来设置背景色</span>  <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span><span class="hljs-variable" style="color:#b58900;">.navigationBar</span><span class="hljs-variable" style="color:#b58900;">.barTintColor</span> = [<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> redColor];</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">得到的效果如下：</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-97239749e8c4d721.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-97239749e8c4d721.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150912_1.png</div>
</div>
<blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:0px;line-height:1.7;text-align:justify;word-break:break-word;">barTintColor: 这个属性需要在iOS7以上才可以使用; 如果要支持iOS6以及以下的系统，可以参考这篇文章：<a href="http://www.saturngod.net/articles/uinavigationbar-background-color/" target="_blank" style="color:#4094c7;text-decoration:none;">UINavigationBar Background Color&nbsp;</a></p>
</blockquote>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">3. 设置导航栏的背景图片</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">除了通过设置背景颜色来改变导航栏的外观外，我们还可以通过背景图片来设置导航栏的外观。</p>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;">[<span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span><span class="hljs-variable" style="color:#b58900;">.navigationBar</span> setBackgroundImage:[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> imageNamed:<span class="hljs-string" style="color:#2aa198;">@"Background"</span>]
                                                  forBarMetrics:<span class="hljs-built_in" style="color:#268bd2;">UIBarMetricsDefault</span>];</code></pre><div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-0a1df5d00c980f4f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-0a1df5d00c980f4f.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150912_2.png</div>
</div>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">在这里得稍微说说UIBarMetrics这个枚举, 它主要是用来控制在不同状态下导航栏的显示。和UIButton的<br />
<code style="padding:2px 4px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;color:#657b83;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:#fdf6e3;border:none;white-space:pre-wrap;">- (void)setBackgroundImage:(nullable UIImage *)image forState:(UIControlState)state</code>这个方法有点类似。</p>
<blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:0px;line-height:1.7;text-align:justify;word-break:break-word;">//表示横屏竖屏都显示<br />
UIBarMetricsDefault,<br />
//表示在只横屏下才显示，和UIBarMetricsLandscapePhone功效一样，不过iOS8已经弃用了<br />
UIBarMetricsCompact,<br />
UIBarMetricsDefaultPrompt和UIBarMetricsCompactPrompt这两个我还没搞清楚是什么意思，有知道的朋友不妨给我们来普及一下。。</p>
</blockquote>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">4. 更改顶部状态栏的颜色</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">从效果图可以看出，我们设置背景色或者背景图之后，状态栏依然还是默认的黑色，这样感觉不好看。好在，系统给我们提供了<strong>UIStatusBarStyleDefault</strong>和<strong>UIStatusBarStyleLightContent</strong>两种样式供我们选择。</p>
<ul style="padding:0px;margin:0px 0px 20px 25px;text-align:justify;word-break:break-word;"><li style="line-height:30px;">UIStatusBarStyleDefault，系统的默认样式，黑色内容，用于浅色的背景（如白色）</li>
<li style="line-height:30px;">UIStatusBarStyleLightContent 白色内容，用于深色的背景（如红色）</li>
</ul>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">下面来看看具体怎么实现，主流的实现方式是分两步：</p>
<ol style="padding:0px;margin:0px 0px 20px 25px;text-align:justify;word-break:break-word;"><li style="line-height:30px;">在工程的Info.plist文件中添加一行<strong>UIViewControllerBasedStatusBarAppearance</strong>，选择Boolean类型，并设置为YES，Xcode会自动把名称变为View controller-based status bar appearance。<br />
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-50f7c92516d33662.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-50f7c92516d33662.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150913_4.png</div>
</div>
</li>
<li style="line-height:30px;">在你的ViewController中添加下面的方法<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;">-(<span class="hljs-built_in" style="color:#268bd2;">UIStatusBarStyle</span>)preferredStatusBarStyle{
 <span class="hljs-keyword" style="color:#859900;">return</span> <span class="hljs-built_in" style="color:#268bd2;">UIStatusBarStyleLightContent</span>;
}</code></pre></li>
</ol>
<blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:25px;line-height:1.7;text-align:justify;word-break:break-word;">想知道更多地方式，可以参考这两个页面：<a href="http://stackoverflow.com/questions/17678881/how-to-change-status-bar-text-color-in-ios-7" target="_blank" style="color:#4094c7;text-decoration:none;">How to change Status Bar text color in iOS 7</a>&nbsp;和&nbsp;<a href="http://www.cnblogs.com/scorpiozj/p/3361162.html" target="_blank" style="color:#4094c7;text-decoration:none;">iOS7下Status Bar字体颜色修改</a></p>
<p style="margin-top:0px;margin-bottom:0px;line-height:1.7;text-align:justify;word-break:break-word;">另外，<strong>特别需要注意的是</strong>，如果你的ViewController是通过navigationController push进来的，还需要加下面一句代码才能生效：<br />
<code style="padding:2px 4px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;color:#657b83;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:#fdf6e3;border:none;white-space:pre-wrap;">self.navigationController.navigationBar.barStyle = UIBarStyleBlack;</code><br />
具体，可参考<a href="http://stackoverflow.com/questions/19108513/uistatusbarstyle-preferredstatusbarstyle-does-not-work-on-ios-7" target="_blank" style="color:#4094c7;text-decoration:none;">UIStatusBarStyle PreferredStatusBarStyle does not work on iOS 7</a></p>
</blockquote>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">恩，我们来看看运行效果。</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-e79f8560574fcfbe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-e79f8560574fcfbe.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150913_5.png</div>
</div>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">5. 设置返回按钮</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">从上面的效果图中我们可以看到返回按钮还是默认的蓝色按钮，下面我将会大家来介绍返回按钮的个性化。</p>
<ul style="padding:0px;margin:0px 0px 20px 25px;text-align:justify;word-break:break-word;"><li style="line-height:30px;">设置返回按钮的颜色<br />
只需要设置tintColor属性即可<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span><span class="hljs-variable" style="color:#b58900;">.navigationBar</span><span class="hljs-variable" style="color:#b58900;">.tintColor</span> = [<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> whiteColor];</code></pre>得到的效果图如下：<br />
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-79a4ebc0c6585360.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-79a4ebc0c6585360.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150915_1.png</div>
</div>
</li>
<li style="line-height:30px;">只设置返回按钮的图片</li>
</ul>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;">- (<span class="hljs-keyword" style="color:#859900;">void</span>)goToBack {
    [<span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span> popViewControllerAnimated:<span class="hljs-literal">YES</span>];
}

- (<span class="hljs-keyword" style="color:#859900;">void</span>)setBackButtonWithImage {
    <span class="hljs-built_in" style="color:#268bd2;">UIImage</span> *leftButtonIcon = [[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> imageNamed:<span class="hljs-string" style="color:#2aa198;">@"LeftButton_back_Icon"</span>]
                               imageWithRenderingMode:<span class="hljs-built_in" style="color:#268bd2;">UIImageRenderingModeAlwaysOriginal</span>];
    <span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> *leftButton = [[<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> alloc] initWithImage:leftButtonIcon
                                                                   style:<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItemStyleBordered</span>                                                                   target:<span class="hljs-keyword" style="color:#859900;">self</span>                                                                   action:<span class="hljs-keyword" style="color:#859900;">@selector</span>(goToBack)];
    <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationItem</span><span class="hljs-variable" style="color:#b58900;">.leftBarButtonItem</span> = leftButton;

    <span class="hljs-comment" style="color:#93a1a1;">//修复navigationController侧滑关闭失效的问题</span>     <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span><span class="hljs-variable" style="color:#b58900;">.interactivePopGestureRecognizer</span><span class="hljs-variable" style="color:#b58900;">.delegate</span> = (<span class="hljs-keyword" style="color:#859900;">id</span>)<span class="hljs-keyword" style="color:#859900;">self</span>;
}</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">得到的效果如下：</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-f208552c7eb72096.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-f208552c7eb72096.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150915_2.png</div>
</div>
<blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:25px;line-height:1.7;text-align:justify;word-break:break-word;">这里需要注意的地方有三点：</p>
<ol style="padding:0px;margin:0px 0px 20px 25px;text-align:justify;word-break:break-word;"><li style="line-height:30px;">需要自己实现返回按钮的事件。</li>
<li style="line-height:30px;">特别的解释下UIImage的<em>imageWithRenderingMode:</em>方法，参数<em>UIImageRenderingModeAlwaysOriginal</em>&nbsp;表示总是用原图渲染，如果不这么设置，返回按钮将会显示tintColor的颜色(默认为蓝色)。UITabbarItem也存在同样地问题。&nbsp;</li>
<li style="line-height:30px;">我们自己设置返回按钮，会导致系统的侧滑关闭效果失效。添加上面代码中最后一句代码即可修复。</li>
</ol>
</blockquote>
<ul style="padding:0px;margin:0px 0px 20px 25px;text-align:justify;word-break:break-word;"><li style="line-height:30px;">仅设置返回按钮的文字</li>
</ul>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;">- (<span class="hljs-keyword" style="color:#859900;">void</span>)setBackButtonTitle {
    <span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> *leftButton = [[<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> alloc] initWithTitle:<span class="hljs-built_in" style="color:#268bd2;">NSLocalizedString</span>(<span class="hljs-string" style="color:#2aa198;">@"取消"</span>, <span class="hljs-literal">nil</span>)
                                                                   style:<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItemStylePlain</span>                                                                   target:<span class="hljs-keyword" style="color:#859900;">self</span> action:<span class="hljs-keyword" style="color:#859900;">@selector</span>(goToBack)];
    leftButton<span class="hljs-variable" style="color:#b58900;">.tintColor</span> = [<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> whiteColor];
    <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationItem</span><span class="hljs-variable" style="color:#b58900;">.leftBarButtonItem</span> = leftButton;
}</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">得到的效果如下：</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-0f9e2f96ce6cd504.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-0f9e2f96ce6cd504.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150915_3.png</div>
</div>
<ul style="padding:0px;margin:0px 0px 20px 25px;text-align:justify;word-break:break-word;"><li style="line-height:30px;">自定义返回按钮<br />
如果上面几种方式还无法满足你的要求（比如，需要同时设置返回按钮文字和图片），就需要用到<em>UIBarButtonItem</em>的<em>initWithCustomView</em>方法。</li>
</ul>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;">- (<span class="hljs-keyword" style="color:#859900;">void</span>)setCustomLeftButton {
    <span class="hljs-built_in" style="color:#268bd2;">UIView</span>* leftButtonView = [[<span class="hljs-built_in" style="color:#268bd2;">UIView</span> alloc]initWithFrame:<span class="hljs-built_in" style="color:#268bd2;">CGRectMake</span>(<span class="hljs-number" style="color:#2aa198;">0</span>, <span class="hljs-number" style="color:#2aa198;">0</span>, <span class="hljs-number" style="color:#2aa198;">60</span>, <span class="hljs-number" style="color:#2aa198;">40</span>)];
    <span class="hljs-built_in" style="color:#268bd2;">UIButton</span>* leftButton = [<span class="hljs-built_in" style="color:#268bd2;">UIButton</span> buttonWithType:<span class="hljs-built_in" style="color:#268bd2;">UIButtonTypeSystem</span>];
    leftButton<span class="hljs-variable" style="color:#b58900;">.backgroundColor</span> = [<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> clearColor];
    leftButton<span class="hljs-variable" style="color:#b58900;">.frame</span> = leftButtonView<span class="hljs-variable" style="color:#b58900;">.frame</span>;
    [leftButton setImage:[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> imageNamed:<span class="hljs-string" style="color:#2aa198;">@"LeftButton_back_Icon"</span>] forState:<span class="hljs-built_in" style="color:#268bd2;">UIControlStateNormal</span>];
    [leftButton setTitle:<span class="hljs-string" style="color:#2aa198;">@"返回"</span> forState:<span class="hljs-built_in" style="color:#268bd2;">UIControlStateNormal</span>];
    leftButton<span class="hljs-variable" style="color:#b58900;">.tintColor</span> = [<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> redColor];
    leftButton<span class="hljs-variable" style="color:#b58900;">.autoresizesSubviews</span> = <span class="hljs-literal">YES</span>;
    leftButton<span class="hljs-variable" style="color:#b58900;">.contentHorizontalAlignment</span> = <span class="hljs-built_in" style="color:#268bd2;">UIControlContentHorizontalAlignmentLeft</span>;
    leftButton<span class="hljs-variable" style="color:#b58900;">.autoresizingMask</span> = <span class="hljs-built_in" style="color:#268bd2;">UIViewAutoresizingFlexibleWidth</span> | <span class="hljs-built_in" style="color:#268bd2;">UIViewAutoresizingFlexibleLeftMargin</span>;
    [leftButton addTarget:<span class="hljs-keyword" style="color:#859900;">self</span> action:<span class="hljs-keyword" style="color:#859900;">@selector</span>(goToBack) forControlEvents:<span class="hljs-built_in" style="color:#268bd2;">UIControlEventTouchUpInside</span>];
    [leftButtonView addSubview:leftButton];
    <span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span>* leftBarButton = [[<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> alloc] initWithCustomView:leftButtonView];
    <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationItem</span><span class="hljs-variable" style="color:#b58900;">.leftBarButtonItem</span> = leftBarButton;
}</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">得到的效果图如下：</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-8b576c44f25d7118.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-8b576c44f25d7118.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150915_5.png</div>
</div>
<blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:0px;line-height:1.7;text-align:justify;word-break:break-word;">设置<em>rightBarButtonItem</em>基本上脱离不了上面的几种方式，大家可以参照上面返回按钮的设置方式。</p>
</blockquote>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">6. 隐藏导航栏底部的线条</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">有时候遇到一些特殊的要求，需要隐藏导航栏底部的线条。<br />
两行代码就可以做到。</p>
<ul style="padding:0px;margin:0px 0px 20px 25px;text-align:justify;word-break:break-word;"><li style="line-height:30px;">设置导航栏的背景图（setBackgroundImage方法）</li>
<li style="line-height:30px;">设置导航栏的shadowImage (setShadowImage方法)</li>
</ul>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-built_in" style="color:#268bd2;">UINavigationBar</span> *navigationBar = <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span><span class="hljs-variable" style="color:#b58900;">.navigationBar</span>;
    <span class="hljs-comment" style="color:#93a1a1;">//设置透明的背景图，便于识别底部线条有没有被隐藏</span>     [navigationBar setBackgroundImage:[[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> alloc] init]
                       forBarPosition:<span class="hljs-built_in" style="color:#268bd2;">UIBarPositionAny</span>                            barMetrics:<span class="hljs-built_in" style="color:#268bd2;">UIBarMetricsDefault</span>];
    <span class="hljs-comment" style="color:#93a1a1;">//此处使底部线条失效</span>     [navigationBar setShadowImage:[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> new]];</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">来看看效果图：</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-917239b652d32e73.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-917239b652d32e73.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150922_1.png</div>
</div>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">另外，还有一种做法，一行代码就可以达到效果，也真是够神奇的。。</p>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-comment" style="color:#93a1a1;">//方法二：</span>     <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span><span class="hljs-variable" style="color:#b58900;">.navigationBar</span><span class="hljs-variable" style="color:#b58900;">.clipsToBounds</span> = <span class="hljs-literal">YES</span>;</code></pre><blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:0px;line-height:1.7;text-align:justify;word-break:break-word;">想要知道更详细的内容可以参考这个页面：<a href="http://stackoverflow.com/questions/19226965/how-to-hide-ios7-uinavigationbar-1px-bottom-line" target="_blank" style="color:#4094c7;text-decoration:none;">How to hide iOS7 UINavigationBar 1px bottom line</a></p>
</blockquote>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">7. 设置导航条底部线条的颜色</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">有了上面的基础，设置导航栏线条的颜色就变得很简单了。<br />
首先，我做了个UIImage的分类：通过颜色转成UIImage；<br />
然后，用上面的方案来设置导航栏底部线条。</p>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">颜色转图片的代码：</p>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-class"><span class="hljs-keyword" style="color:#859900;">@implementation</span> <span class="hljs-title" style="color:#b58900;">UIImage</span> (<span class="hljs-title" style="color:#b58900;">ColorImage</span>)</span> + (<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> *)imageWithColor:(<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> *)color
{
    <span class="hljs-built_in" style="color:#268bd2;">CGRect</span> rect = <span class="hljs-built_in" style="color:#268bd2;">CGRectMake</span>(<span class="hljs-number" style="color:#2aa198;">0.0</span>f, <span class="hljs-number" style="color:#2aa198;">0.0</span>f, <span class="hljs-number" style="color:#2aa198;">1.0</span>f, <span class="hljs-number" style="color:#2aa198;">1.0</span>f);
    <span class="hljs-built_in" style="color:#268bd2;">UIGraphicsBeginImageContext</span>(rect<span class="hljs-variable" style="color:#b58900;">.size</span>);
    <span class="hljs-built_in" style="color:#268bd2;">CGContextRef</span> context = <span class="hljs-built_in" style="color:#268bd2;">UIGraphicsGetCurrentContext</span>();

    <span class="hljs-built_in" style="color:#268bd2;">CGContextSetFillColorWithColor</span>(context, [color <span class="hljs-built_in" style="color:#268bd2;">CGColor</span>]);
    <span class="hljs-built_in" style="color:#268bd2;">CGContextFillRect</span>(context, rect);

    <span class="hljs-built_in" style="color:#268bd2;">UIImage</span> *image = <span class="hljs-built_in" style="color:#268bd2;">UIGraphicsGetImageFromCurrentImageContext</span>();
    <span class="hljs-built_in" style="color:#268bd2;">UIGraphicsEndImageContext</span>();

    <span class="hljs-keyword" style="color:#859900;">return</span> image;
}<span class="hljs-keyword" style="color:#859900;">@end</span></code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">设置导航栏底部线条颜色的代码：</p>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-built_in" style="color:#268bd2;">UINavigationBar</span> *navigationBar = <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationController</span><span class="hljs-variable" style="color:#b58900;">.navigationBar</span>;
    [navigationBar setBackgroundImage:[[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> alloc] init]
                       forBarPosition:<span class="hljs-built_in" style="color:#268bd2;">UIBarPositionAny</span>                            barMetrics:<span class="hljs-built_in" style="color:#268bd2;">UIBarMetricsDefault</span>];
    <span class="hljs-comment" style="color:#93a1a1;">//此处使底部线条颜色为红色</span>     [navigationBar setShadowImage:[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> imageWithColor:[<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> redColor]]];</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">依照惯例，看下效果图：</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-3111c007f74ca168.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-3111c007f74ca168.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">Snip20150923_2.png</div>
</div>
<blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:0px;line-height:1.7;text-align:justify;word-break:break-word;">当然还有其他的方式也可以做到，如addSubview, addSubLayer等。感兴趣的话可以参考下这个页面：<a href="http://stackoverflow.com/questions/19101361/ios7-change-uinavigationbar-border-color" target="_blank" style="color:#4094c7;text-decoration:none;">iOS7 - Change UINavigationBar border color</a></p>
</blockquote>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">8. 在导航栏上添加多个按钮</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">以微信打开网页时的效果为例，效果图如下，有两个按钮：返回和关闭。</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-80aaf5bfd6782e7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-80aaf5bfd6782e7a.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">微信效果图.png</div>
</div>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;"><br />
有下面两种方式可供选择，但是最终还是要用到<em>leftBarButtonItems</em>这个方法。</p>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-preprocessor" style="color:#cb4b16;">#define UserMethod1 0</span>     <span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> *closeItem = [[<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> alloc] initWithTitle:<span class="hljs-string" style="color:#2aa198;">@"关闭"</span> style:<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItemStylePlain</span> target:<span class="hljs-keyword" style="color:#859900;">self</span> action:<span class="hljs-keyword" style="color:#859900;">@selector</span>(closeAction)];
    <span class="hljs-keyword" style="color:#859900;">if</span> (UserMethod1) {
        <span class="hljs-comment" style="color:#93a1a1;">//方法一:</span>         <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationItem</span><span class="hljs-variable" style="color:#b58900;">.leftBarButtonItems</span> = @[closeItem];
        <span class="hljs-comment" style="color:#93a1a1;">//要求显示默认的返回按钮，但是文字会显示默认的Back，暂时还不知道这个文字怎么改</span>         <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationItem</span><span class="hljs-variable" style="color:#b58900;">.leftItemsSupplementBackButton</span> = <span class="hljs-literal">YES</span>;
    }
    <span class="hljs-keyword" style="color:#859900;">else</span> {
        <span class="hljs-comment" style="color:#93a1a1;">//方法二</span>         <span class="hljs-built_in" style="color:#268bd2;">UIButton</span>* leftButton = [<span class="hljs-built_in" style="color:#268bd2;">UIButton</span> buttonWithType:<span class="hljs-built_in" style="color:#268bd2;">UIButtonTypeSystem</span>];
        leftButton<span class="hljs-variable" style="color:#b58900;">.backgroundColor</span> = [<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> clearColor];
        leftButton<span class="hljs-variable" style="color:#b58900;">.frame</span> = <span class="hljs-built_in" style="color:#268bd2;">CGRectMake</span>(<span class="hljs-number" style="color:#2aa198;">0</span>, <span class="hljs-number" style="color:#2aa198;">0</span>, <span class="hljs-number" style="color:#2aa198;">45</span>, <span class="hljs-number" style="color:#2aa198;">40</span>);
        [leftButton setImage:[<span class="hljs-built_in" style="color:#268bd2;">UIImage</span> imageNamed:<span class="hljs-string" style="color:#2aa198;">@"LeftButton_back_Icon"</span>] forState:<span class="hljs-built_in" style="color:#268bd2;">UIControlStateNormal</span>];
        [leftButton setTitle:<span class="hljs-string" style="color:#2aa198;">@"返回"</span> forState:<span class="hljs-built_in" style="color:#268bd2;">UIControlStateNormal</span>];
        leftButton<span class="hljs-variable" style="color:#b58900;">.tintColor</span> = [<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> whiteColor];
        leftButton<span class="hljs-variable" style="color:#b58900;">.autoresizesSubviews</span> = <span class="hljs-literal">YES</span>;
        leftButton<span class="hljs-variable" style="color:#b58900;">.contentHorizontalAlignment</span> = <span class="hljs-built_in" style="color:#268bd2;">UIControlContentHorizontalAlignmentLeft</span>;
        leftButton<span class="hljs-variable" style="color:#b58900;">.autoresizingMask</span> = <span class="hljs-built_in" style="color:#268bd2;">UIViewAutoresizingFlexibleWidth</span> | <span class="hljs-built_in" style="color:#268bd2;">UIViewAutoresizingFlexibleLeftMargin</span>;
        [leftButton addTarget:<span class="hljs-keyword" style="color:#859900;">self</span> action:<span class="hljs-keyword" style="color:#859900;">@selector</span>(goToBack) forControlEvents:<span class="hljs-built_in" style="color:#268bd2;">UIControlEventTouchUpInside</span>];
        <span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span>* backItem = [[<span class="hljs-built_in" style="color:#268bd2;">UIBarButtonItem</span> alloc] initWithCustomView:leftButton];

        <span class="hljs-keyword" style="color:#859900;">self</span><span class="hljs-variable" style="color:#b58900;">.navigationItem</span><span class="hljs-variable" style="color:#b58900;">.leftBarButtonItems</span> = @[backItem,closeItem];
    }</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">然后，运行的效果图如下：</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-1ee39cae2ec10a08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-1ee39cae2ec10a08.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">在导航栏上添加多个按钮.png</div>
</div>
<blockquote style="padding:10px 15px;margin:0px 0px 20px;border-left-width:4px;border-left-style:solid;border-left-color:#999999;background-color:#f5f5f5;word-break:break-word;font-size:15px;line-height:30px;"><p style="margin-top:0px;margin-bottom:0px;line-height:1.7;text-align:justify;word-break:break-word;">方法一用到了<code style="padding:2px 4px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;color:#657b83;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:#fdf6e3;border:none;white-space:pre-wrap;">leftItemsSupplementBackButton</code>&nbsp;这个属性，会显示系统默认的返回按钮，但是文字也是显示默认的Back文字，目前还没找到怎么修改这个文字，如果有谁知道，还请不吝赐教；所以我暂时还是建议大家用方法二。相应的还有&nbsp;<em>rightBarButtonItems</em>这个属性，如果要在导航栏右侧展示多个按钮的话，可以设置这个属性。</p>
</blockquote>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">9. 在导航栏上添加分段控件</h2>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">这次，以QQ为例，代码如下：</p>
<pre class="hljs cpp" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="cpp" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;">UISegmentedControl *segControl = [[UISegmentedControl alloc] initWithItems:@[@<span class="hljs-string" style="color:#2aa198;">"消息"</span>,@<span class="hljs-string" style="color:#2aa198;">"电话"</span>]];
    segControl.tintColor = [UIColor colorWithRed:<span class="hljs-number" style="color:#2aa198;">0.07</span> green:<span class="hljs-number" style="color:#2aa198;">0.72</span> blue:<span class="hljs-number" style="color:#2aa198;">0.96</span> alpha:<span class="hljs-number" style="color:#2aa198;">1</span>];
    [segControl setSelectedSegmentIndex:<span class="hljs-number" style="color:#2aa198;">0</span>];
    self.navigationItem.titleView = segControl;</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">代码很简单，就是设置<code style="padding:2px 4px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;color:#657b83;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:#fdf6e3;border:none;white-space:pre-wrap;">titleView</code>这个属性，当然，你也可以把这个属性设置为你自定义的View。</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="http://upload-images.jianshu.io/upload_images/452998-77c7dc843dc0c96a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/452998-77c7dc843dc0c96a.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">类似于QQ的导航栏.png</div>
</div>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">10. 导航栏全局属性设置</h2>
<pre class="hljs objectivec" style="padding:9.5px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;color:#657b83;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-top:0px;margin-bottom:20px;line-height:20px;word-break:break-all;word-wrap:normal;background-color:#fdf6e3;border:1px solid rgba(0, 0, 0, 0.14902);overflow:auto;"><code class="objectivec" style="padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:12px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:transparent;border:none;"><span class="hljs-comment" style="color:#93a1a1;">//全局设置导航栏主题</span> - (<span class="hljs-keyword" style="color:#859900;">void</span>)setNavigationControllerAppearance {
    [<span class="hljs-built_in" style="color:#268bd2;">UINavigationBar</span> appearance]<span class="hljs-variable" style="color:#b58900;">.barStyle</span>  = <span class="hljs-built_in" style="color:#268bd2;">UIBarStyleBlack</span>;
    [[<span class="hljs-built_in" style="color:#268bd2;">UINavigationBar</span> appearance] setBarTintColor:[<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> colorWithWhite:<span class="hljs-number" style="color:#2aa198;">0.1</span> alpha:<span class="hljs-number" style="color:#2aa198;">0.5</span>]];
    [[<span class="hljs-built_in" style="color:#268bd2;">UINavigationBar</span> appearance] setTintColor:[<span class="hljs-built_in" style="color:#268bd2;">UIColor</span> whiteColor]];
}</code></pre><p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">全局设置导航栏的好处有两个：一是不用对每个NavigationBar进行设置；二是方便做主题管理，切换主题，只需要更改全局设置即可。</p>
<h2 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:24px;">11. 与导航栏相关的一些开源组件</h2>
<h3 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:22px;">11.1&nbsp;<a href="https://github.com/ninjinkun/NJKWebViewProgress" target="_blank" style="color:#4094c7;text-decoration:none;">NJKWebViewProgress</a>&nbsp;- 类似于Safiri加载网页时的进度显示</h3>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="https://camo.githubusercontent.com/082fc708cc461dc53832b7d14d5affdf475dd57b/68747470733a2f2f7261772e6769746875622e636f6d2f6e696e6a696e6b756e2f4e4a4b5765625669657750726f67726573732f6d61737465722f44656d6f4170702f53637265656e73686f742f73637265656e73686f74312e706e67" data-original-src="https://camo.githubusercontent.com/082fc708cc461dc53832b7d14d5affdf475dd57b/68747470733a2f2f7261772e6769746875622e636f6d2f6e696e6a696e6b756e2f4e4a4b5765625669657750726f67726573732f6d61737465722f44656d6f4170702f53637265656e73686f742f73637265656e73686f74312e706e67" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">网页加载进度.png</div>
</div>
<h3 style="margin:0px;font-family:inherit;line-height:1.8;color:inherit;text-rendering:optimizelegibility;font-size:22px;">11.2&nbsp;<a href="https://github.com/forkingdog/FDFullscreenPopGesture" target="_blank" style="color:#4094c7;text-decoration:none;">FDFullscreenPopGesture</a>&nbsp;- 一个丝滑的全屏滑动返回手势</h3>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">对应的文章介绍可以点这个<a href="http://blog.sunnyxx.com/2015/06/07/fullscreen-pop-gesture/" target="_blank" style="color:#4094c7;text-decoration:none;">链接</a>。</p>
<div class="image-package imagebubble" widget="ImageBubble" style="margin:0px auto 20px;text-align:center;"><img src="https://raw.githubusercontent.com/forkingdog/FDFullscreenPopGesture/master/Snapshots/snapshot0.gif" data-original-src="https://raw.githubusercontent.com/forkingdog/FDFullscreenPopGesture/master/Snapshots/snapshot0.gif" class="imagebubble-image" style="height:auto;vertical-align:middle;border:0px;cursor:-webkit-zoom-in;-webkit-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;" /><br />
<div class="image-caption" style="min-width:20%;min-height:22px;display:inline-block;padding:10px;margin:0px auto;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#d9d9d9;font-size:13px;color:#999999;font-style:italic;line-height:1.7;">丝滑的全屏返回手势.png</div>
</div>
<p style="margin-top:0px;margin-bottom:25px;text-align:justify;word-break:break-word;">最后，奉上Demo的地址：<a href="https://github.com/lexiaoyao20/NavigationBarDemo" target="_blank" style="color:#4094c7;text-decoration:none;">NavigationBarDemo</a></p>
</div></body></html>