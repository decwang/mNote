<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2014-04-25T10:48:02Z"/><meta name="updated" content="2014-04-25T10:48:04Z"/><title>         使用CGAffineTransform实现对控件的【旋转】        分类： iphone界面详解  2013-01-14 09:34 524人阅读 评论(0) 收藏 举报  </title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div class="article_title">   
              <h1>
        <span class="link_title"><a href="http://blog.csdn.net/chengyingzhilian/article/details/8499622">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;使用CGAffineTransform实现对控件的【旋转】
        </a></span>     </h1>
</div>
    <div class="article_manage">
        <span class="link_categories">         分类：
            <a href="http://blog.csdn.net/chengyingzhilian/article/category/1219168">iphone界面详解</a> 
        </span>     <span class="link_postdate">2013-01-14 09:34</span>     <span class="link_view" title="阅读次数">524人阅读</span>     <span class="link_comments" title="评论次数"><a href="http://blog.csdn.net/chengyingzhilian/article/details/8499622#comments">评论</a>(0)</span>     <span class="link_collect">收藏</span>     <span class="link_report"><a href="http://blog.csdn.net/chengyingzhilian/article/details/8499622#report" title="举报">举报</a></span>     </div>
    <div id="article_content" class="article_content">

<div class="multicntwrap" style="color:#333333;font-family:Arial,Helvetica,simsun,u5b8bu4f53;">
<div class="multicnt"><span style="line-height:25px;font-family:Verdana;">CGAffineTransform&nbsp;</span><span style="line-height:25px;color:#0055ff;font-family:Verdana;"><span style="color:#5500ff;">rotation</span>=&nbsp;</span><span style="line-height:25px;font-family:Verdana;">CGAffineTransformMakeRot</span><span style="line-height:25px;font-family:Verdana;">ation(<span style="color:#ff0000;">M_PI_2</span>)</span><span style="line-height:25px;color:#0055ff;font-family:Verdana;">;</span></div>
</div>
<div class="bct fc05 fc11 nbw-blog ztag js-fs2" style="line-height:25px;word-wrap:break-word;color:#333333;margin:15px 0px;padding:5px 0px;overflow:hidden;font-family:Arial, Helvetica, simsun, u5b8bu4f53;">
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="color:#0055ff;font-family:Verdana;">[<span style="color:#ffa900;">xxx</span>&nbsp;setTransform:<span style="color:#5500ff;">rotation</span>];</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;">
<span style="font-family:Verdana;color:#0055ff;">xxx为view，image未测试<br style="line-height:normal;" />
</span><span style="font-family:Verdana;color:#323e32;">呵呵就这么简单的两行代码就可以实现了！</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;">顺便记录一些常量，以后用的着！</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;">#define M_E&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;2.718281828459045235360287</span><span style="font-family:Verdana;color:#323e32;">47135266250&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;e</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_LOG2E&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;1.442695040888963407359924</span><span style="font-family:Verdana;color:#323e32;">68100189214&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;log
 2e</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_LOG10E&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;0.434294481903251827651128</span><span style="font-family:Verdana;color:#323e32;">918916605082&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;log
 10e</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_LN2&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;0.693147180559945309417232</span><span style="font-family:Verdana;color:#323e32;">121458176568&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;log
 e2</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_LN10&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;2.302585092994045684017991</span><span style="font-family:Verdana;color:#323e32;">45468436421&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;log
 e10</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_PI&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;3.141592653589793238462643</span><span style="font-family:Verdana;color:#323e32;">38327950288&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;pi</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_PI_2&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;1.570796326794896619231321</span><span style="font-family:Verdana;color:#323e32;">69163975144&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;pi/2</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_PI_4&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;0.785398163397448309615660</span><span style="font-family:Verdana;color:#323e32;">845819875721&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;pi/4</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_1_PI&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;0.318309886183790671537767</span><span style="font-family:Verdana;color:#323e32;">526745028724&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;1/pi</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_2_PI&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;0.636619772367581343075535</span><span style="font-family:Verdana;color:#323e32;">053490057448&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;2/pi</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_2_SQRTPI&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;1.128379167095512573896158</span><span style="font-family:Verdana;color:#323e32;">90312154517&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;2/sqrt(pi)</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_SQRT2&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;1.414213562373095048801688</span><span style="font-family:Verdana;color:#323e32;">72420969808&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;sqrt(2)</span><br />
<span style="font-family:Verdana;color:#323e32;">#define M_SQRT1_2&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;0.707106781186547524400844</span><span style="font-family:Verdana;color:#323e32;">362104849039&nbsp;</span><span style="font-family:Verdana;color:#323e32;">&nbsp;1/sqrt(2)</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;">×××××××××××××××</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;">实例：</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
<span style="font-family:Verdana;color:#323e32;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;">-(IBAction)switchToSecondView:(id)sender{</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
NSLog(@"succeed"); &nbsp;//log输出</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;">secondView=[[SecondView alloc]initWithNibName:@"SecondView" bundle:nil]; &nbsp;//用nib文件初始化</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#0055ff;font-family:Verdana;">CGAffineTransform transform = CGAffineTransformIdentity; &nbsp; //申明旋转量</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#0055ff;font-family:Verdana;">&nbsp;&nbsp; &nbsp;transform = CGAffineTransformMakeRotation(-M_PI/2); &nbsp; &nbsp; //设置旋转量具体值</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#0055ff;font-family:Verdana;">&nbsp;&nbsp; &nbsp;secondView.view.transform = transform; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //导入旋转量，完毕</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="font-family:Verdana;">//【动画设置部分</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
[UIView beginAnimations:nil context:nil]; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
[UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
[UIView setAnimationTransition:UIViewAnimationTransitionCurlUp forView:self.view cache:YES];</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
[UIView setAnimationDuration:1.0]; &nbsp; &nbsp;&nbsp;</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
//动画设置部分】</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;">[self.view addSubview:secondView.view];</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
[UIView commitAnimations]; &nbsp;//动画进入</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;">}</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="font-family:Verdana;">说明：</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#ff0000;font-family:Verdana;">红色部分为必须的</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="font-family:Verdana;">黑色</span><span style="font-family:Verdana;">的</span><span style="font-family:Verdana;">为动画部分</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;font-family:Georgia;color:#323e32;">
<span style="color:#0055ff;font-family:Verdana;">蓝色为旋转部分</span></p>
</div>
</div></body></html>