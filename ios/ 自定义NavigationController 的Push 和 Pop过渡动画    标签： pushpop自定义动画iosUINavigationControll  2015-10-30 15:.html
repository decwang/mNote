<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2017-03-24T09:51:48Z"/><meta name="updated" content="2017-03-24T13:17:58Z"/><title> 自定义NavigationController 的Push 和 Pop过渡动画    标签： pushpop自定义动画iosUINavigationControll  2015-10-30 15:</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div class="article_title" style="margin:5px 0px;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';orphans:2;widows:2;">&nbsp;<h1 style="margin:0px;padding:0px;display:inline;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;font-weight:normal;font-size:20px;line-height:30px;vertical-align:middle;"><span class="link_title"><a href="http://blog.csdn.net/xiaonaiping061/article/details/49512149" style="color:#000000;text-decoration:none;">自定义NavigationController 的Push 和 Pop过渡动画</a></span></h1>
</div>
<div class="article_manage clearfix" style="padding:0px 20px 5px;color:#999999;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;font-size:12px;line-height:22px;font-family:Arial;text-align:right;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#ededed;margin:0px -20px;overflow:hidden;orphans:2;widows:2;"><div class="article_l" style="width:946px;float:left;"><span class="link_categories" style="margin:0px 5px;float:left;">标签：&nbsp;<a href="http://www.csdn.net/tag/push" target="_blank" style="color:#ca0000;text-decoration:none;display:inline-block;margin-right:10px;">push</a><a href="http://www.csdn.net/tag/pop" target="_blank" style="color:#ca0000;text-decoration:none;display:inline-block;margin-right:10px;">pop</a><a href="http://www.csdn.net/tag/%e8%87%aa%e5%ae%9a%e4%b9%89%e5%8a%a8%e7%94%bb" target="_blank" style="color:#ca0000;text-decoration:none;display:inline-block;margin-right:10px;">自定义动画</a><a href="http://www.csdn.net/tag/ios" target="_blank" style="color:#ca0000;text-decoration:none;display:inline-block;margin-right:10px;">ios</a><a href="http://www.csdn.net/tag/UINavigationControll" target="_blank" style="color:#ca0000;text-decoration:none;display:inline-block;margin-right:10px;">UINavigationControll</a></span></div>
<div class="article_r"><span class="link_postdate" style="margin:0px 5px 0px 0px;">2015-10-30 15:43</span>&nbsp;<span class="link_view" title="阅读次数" style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;../../../images/ico_view.png&quot;) left center no-repeat;">1386人阅读</span>&nbsp;<span class="link_comments" title="评论次数" style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;../../../images/ico_comm.png&quot;) left center no-repeat;"><a href="http://blog.csdn.net/xiaonaiping061/article/details/49512149#comments" style="color:#ca0000;text-decoration:none;">评论</a>(0)</span>&nbsp;<span class="link_collect tracking-ad" data-mod="popu_171" style="margin:0px 5px;"><a title="收藏" target="_blank" style="color:#ca0000;">收藏</a></span>&nbsp;<span class="link_report" style="margin:0px 5px;"><a href="http://blog.csdn.net/xiaonaiping061/article/details/49512149#report" title="举报" style="color:#ca0000;text-decoration:none;">举报</a></span></div>
</div>
<div class="category clearfix" style="margin:0px -20px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#ededed;padding:5px 20px;font-family:Arial, Console, Verdana, 'Courier New';font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><div class="category_l" style="display:inline-block;font-size:14px;color:#333333;width:70px;float:left;line-height:28px;"><img src="http://static.blog.csdn.net/images/category_icon.jpg" style="border:none;vertical-align:middle;" />&nbsp;<span style="display:inline-block;vertical-align:middle;">分类：</span></div>
<div class="category_r" style="display:inline-block;font-size:14px;color:#df3434;float:left;width:851.391px;"><label style="display:inline-block;margin-left:15px;cursor:pointer;line-height:28px;position:relative;">iOS技术（33）&nbsp;<img class="arrow-down" src="http://static.blog.csdn.net/images/arrow_triangle%20_down.jpg" style="border:none;display:inline;" /></label></div>
</div>
<div class="bog_copyright" style="padding:20px 0px;font-family:Arial, Console, Verdana, 'Courier New';font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><p class="copyright_p" style="margin-top:0px;margin-bottom:0px;padding:0px 0px 0px 10px;height:14px;line-height:14px;border-left-width:3px;border-left-style:solid;border-left-color:#e41c1e;color:#666666;font-size:14px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<div id="article_content" class="article_content" style="margin:20px 0px 0px;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;line-height:26px;font-family:Arial;orphans:2;widows:2;"><p style="margin-top:0px;margin-bottom:0px;padding:0px;">现在开发ios项目有两种或者可以说三种方式：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;">(1)纯代码</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;">&nbsp; &nbsp; 纯代码加Xib</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;">(2)storyboard</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;">so,自定义过渡动画的方式也有两种，但是动画的实现都是一样的。</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"><span style="background-color:#ffff00;">先说一下过渡动画的实现方式：一共有三种说白了都是控制View的CATransition动画。</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"><span style="color:#cc0000;">第一种：</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;">代码如下：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#4f8187;">NKYellowViewController<span style="color:#000000;">&nbsp;*dst = [[</span>NKYellowViewController<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">alloc</span><span style="color:#000000;">]</span><span style="color:#3d1d81;">init</span><span style="color:#000000;">];</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><span style="color:#000000;">[</span>UIView<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">transitionWithView</span><span style="color:#000000;">:</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span>navigationController<span style="color:#000000;">.</span>view</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">duration</span>:<span style="color:#272ad8;">1</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#3d1d81;"><span style="color:#000000;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>options<span style="color:#000000;">:</span>UIViewAnimationOptionTransitionCrossDissolve</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">animations</span>:^{</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<span style="color:#bb2ca2;">self</span>.<span style="color:#703daa;">navigationController</span>&nbsp;<span style="color:#3d1d81;">pushViewController</span>:dst&nbsp;<span style="color:#3d1d81;">animated</span>:<span style="color:#bb2ca2;">NO</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">completion</span>:<span style="color:#bb2ca2;">nil</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"><span style="color:#ff0000;">注意：第一个参数为<span style="font-family:Menlo;">self</span><span style="font-family:Menlo;">.</span><span style="font-family:Menlo;">navigationController</span><span style="font-family:Menlo;">.</span><span style="font-family:Menlo;">view</span></span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;">第二种：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;">代码如下：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#3d1d81;"><span style="color:#000000;">[</span><span style="color:#703daa;">UIView</span><span style="color:#000000;">&nbsp;</span>transitionFromView<span style="color:#000000;">:</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span><span style="color:#703daa;">view</span><span style="color:#000000;">&nbsp;</span>toView<span style="color:#000000;">:dst.</span><span style="color:#703daa;">view</span><span style="color:#000000;">&nbsp;</span>duration<span style="color:#000000;">:</span><span style="color:#272ad8;">1</span>options<span style="color:#000000;">:</span>UIViewAnimationOptionTransitionFlipFromTop<span style="color:#000000;">&nbsp;</span>completion<span style="color:#000000;">:^(</span><span style="color:#bb2ca2;">BOOL</span><span style="color:#000000;">&nbsp;finished) {</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#3d1d81;"><span style="color:#000000;">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span><span style="color:#703daa;">navigationController</span><span style="color:#000000;">&nbsp;</span>pushViewController<span style="color:#000000;">:dst&nbsp;</span>animated<span style="color:#000000;">:</span><span style="color:#bb2ca2;">NO</span><span style="color:#000000;">];</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; }];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"><span style="color:#ff0000;">注意：第一个参数为</span><span style="color:#ff0000;">self</span><span style="color:#ff0000;">.</span><span style="color:#ff0000;">view</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"><span style="color:#ff0000;"><br />
</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">第三种：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">代码如下：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;">CATransition<span style="color:#000000;">&nbsp;*transition = [</span>CATransition<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">animation</span><span style="color:#000000;">];</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">transition.<span style="color:#703daa;">duration</span>&nbsp;=&nbsp;<span style="color:#272ad8;">1.0f</span>;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><span style="color:#000000;">transition.</span>timingFunction<span style="color:#000000;">&nbsp;= [</span>CAMediaTimingFunction<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">functionWithName</span><span style="color:#000000;">:</span>kCAMediaTimingFunctionEaseIn<span style="color:#000000;">];</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><span style="color:#000000;">transition.</span>type<span style="color:#000000;">&nbsp;=&nbsp;</span>kCATransitionMoveIn<span style="color:#000000;">;</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><span style="color:#000000;">transition.</span>subtype<span style="color:#000000;">&nbsp;=&nbsp;</span>kCATransitionFromTop<span style="color:#000000;">;</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><span style="color:#000000;">[</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span>navigationController<span style="color:#000000;">.</span>view<span style="color:#000000;">.</span>layer<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">addAnimation</span><span style="color:#000000;">:transition&nbsp;</span><span style="color:#3d1d81;">forKey</span><span style="color:#000000;">:</span><span style="color:#bb2ca2;">nil</span><span style="color:#000000;">];</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#3d1d81;"><span style="color:#000000;">[</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span><span style="color:#703daa;">navigationController</span><span style="color:#000000;">&nbsp;</span>pushViewController<span style="color:#000000;">:dst&nbsp;</span>animated<span style="color:#000000;">:</span><span style="color:#bb2ca2;">YES</span><span style="color:#000000;">];</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#3d1d81;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#3d1d81;">动画的类型有一下几种，效果自行尝试</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">/*</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = kCATransitionFade;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = kCATransitionPush;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = kCATransitionReveal;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = kCATransitionMoveIn;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"cube";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"suckEffect";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; //&nbsp;<span style="font-family:&quot;Heiti SC Light&quot;;">页面旋转</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"oglFlip";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; //<span style="font-family:&quot;Heiti SC Light&quot;;">水波纹</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"rippleEffect";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"pageCurl";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"pageUnCurl";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"cameraIrisHollowOpen";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; animation.type = @"cameraIrisHollowClose";</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;min-height:20px;">&nbsp;&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp;&nbsp; &nbsp; */</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"><span style="background-color:#ffff00;">接下来说一下纯代码和storyboard的分别实现</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">（1）纯代码</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">如果用代码实现的话，大部分都是写在事件处理的函数里，如一下代码下载button的事件处理函数里</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">push：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">- (<span style="color:#bb2ca2;">void</span>)pushViewController:(<span style="color:#703daa;">UIButton</span>&nbsp;*)button</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">{</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#4f8187;font-family:Menlo;"><span style="color:#000000;">&nbsp; &nbsp;&nbsp;</span>NKYellowViewController<span style="color:#000000;">&nbsp;*dst = [[</span>NKYellowViewController<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">alloc</span><span style="color:#000000;">]</span><span style="color:#3d1d81;">init</span><span style="color:#000000;">];</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;"><span style="color:#000000;">&nbsp; &nbsp; [</span>UIView<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">transitionWithView</span><span style="color:#000000;">:</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span>navigationController<span style="color:#000000;">.</span>view</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">duration</span>:<span style="color:#272ad8;">1</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#3d1d81;font-family:Menlo;"><span style="color:#000000;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>options<span style="color:#000000;">:</span>UIViewAnimationOptionTransitionCrossDissolve</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">animations</span>:^{</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<span style="color:#bb2ca2;">self</span>.<span style="color:#703daa;">navigationController</span>&nbsp;<span style="color:#3d1d81;">pushViewController</span>:dst&nbsp;<span style="color:#3d1d81;">animated</span>:<span style="color:#bb2ca2;">NO</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">completion</span>:<span style="color:#bb2ca2;">nil</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">}</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#008400;font-family:Menlo;"></p>
<br />
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">pop：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">- (<span style="color:#bb2ca2;">void</span>)back {</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><span style="color:#000000;">&nbsp; &nbsp; [</span>UIView<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">transitionWithView</span><span style="color:#000000;">:</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span>navigationController<span style="color:#000000;">.</span>view</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">duration</span>:<span style="color:#272ad8;">1</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#3d1d81;"><span style="color:#000000;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>options<span style="color:#000000;">:</span>UIViewAnimationOptionTransitionCrossDissolve</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">animations</span>:^{</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<span style="color:#bb2ca2;">self</span>.<span style="color:#703daa;">navigationController</span>&nbsp;<span style="color:#3d1d81;">popViewControllerAnimated</span>:<span style="color:#bb2ca2;">NO</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">completion</span>:<span style="color:#bb2ca2;">nil</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;min-height:20px;">&nbsp; &nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">}</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">***动画代码可以任意替换，push和pop不对应也可以。</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">(2)storyboard</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">界面设计如下：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"><img src="http://img.blog.csdn.net/20151030153229101?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:none;" /></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">具体实现：</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">自定义segue，继承于UIStoryBoardSegue并重写perform方法。</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&lt;1&gt;继承关系</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><span style="color:#bb2ca2;">@interface</span><span style="color:#000000;">&nbsp;NKSegue :&nbsp;</span>UIStoryboardSegue</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;">&lt;2&gt;重写方法</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;"></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">- (<span style="color:#bb2ca2;">void</span>)perform</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">{</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;"><span style="color:#000000;">&nbsp; &nbsp;&nbsp;</span>UIViewController<span style="color:#000000;">&nbsp;*src =&nbsp;</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span>sourceViewController<span style="color:#000000;">;</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;"><span style="color:#000000;">&nbsp; &nbsp;&nbsp;</span>UIViewController<span style="color:#000000;">&nbsp;*dst =&nbsp;</span><span style="color:#bb2ca2;">self</span><span style="color:#000000;">.</span>destinationViewController<span style="color:#000000;">;</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;"><span style="color:#000000;">&nbsp; &nbsp; [</span>UIView<span style="color:#000000;">&nbsp;</span><span style="color:#3d1d81;">transitionWithView</span><span style="color:#000000;">:src.</span>navigationController<span style="color:#000000;">.</span>view</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">duration</span>:<span style="color:#272ad8;">1</span></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#3d1d81;font-family:Menlo;"><span style="color:#000000;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>options<span style="color:#000000;">:</span>UIViewAnimationOptionTransitionCrossDissolve</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">animations</span>:^{</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [src.navigationController&nbsp;<span style="color:#3d1d81;">pushViewController</span>:dst&nbsp;<span style="color:#3d1d81;">animated</span>:<span style="color:#bb2ca2;">NO</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#3d1d81;">completion</span>:<span style="color:#bb2ca2;">nil</span>];</p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;color:#703daa;font-family:Menlo;">}</p>
&lt;3&gt;设置segue，在右侧面板的属性检查器中segue Class设置为自定义的Segue类<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"><img src="http://img.blog.csdn.net/20151030153848151?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:none;" /></p>
<p style="margin-top:0px;margin-bottom:0px;padding:0px;font-family:Menlo;color:#703daa;"></p>
返回同样是在返回函数里实现动画代码就ok了。</div></body></html>