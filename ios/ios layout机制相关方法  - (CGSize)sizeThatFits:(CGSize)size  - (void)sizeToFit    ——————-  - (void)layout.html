<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2016-10-25T10:39:59Z"/><meta name="updated" content="2016-10-25T10:42:17Z"/><title>ios layout机制相关方法  - (CGSize)sizeThatFits:(CGSize)size  - (void)sizeToFit    ——————-  - (void)layout</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;">ios layout机制相关方法</p>
<ol style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin:0px 0px 10px 2em;padding:0px;border:0px;list-style:none;font-family:simsun;line-height:21px;"><li style="margin:0px;padding:0px;border:0px;list-style:decimal;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><a href="http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/sizeThatFits:" style="color:#336699;text-decoration:none;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="color:#333333;">- (CGSize)sizeThatFits:(CGSize)size</span></span></a></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:decimal;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><a href="http://developer.apple.com/library/ios/documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/sizeToFit" style="color:#336699;text-decoration:none;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="color:#333333;">- (void)sizeToFit</span></span></a></span></li>
</ol>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">——————-</span></p>
<ol style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin:0px 0px 10px 2em;padding:0px;border:0px;list-style:none;font-family:simsun;line-height:21px;"><li style="margin:0px;padding:0px;border:0px;list-style:decimal;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><a href="http://developer.apple.com/library/ios/documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/layoutSubviews" style="color:#336699;text-decoration:none;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="color:#333333;">- (void)layoutSubviews</span></span></a></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:decimal;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><a href="http://developer.apple.com/library/ios/documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/layoutIfNeeded" style="color:#336699;text-decoration:none;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="color:#333333;">- (void)layoutIfNeeded</span></span></a></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:decimal;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><a href="http://developer.apple.com/library/ios/documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/setNeedsLayout" style="color:#336699;text-decoration:none;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="color:#333333;">- (void)setNeedsLayout</span></span></a></span></li>
</ol>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">——————–</span></p>
<ol style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin:0px 0px 10px 2em;padding:0px;border:0px;list-style:none;font-family:simsun;line-height:21px;"><li style="margin:0px;padding:0px;border:0px;list-style:decimal;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">- (void)setNeedsD</span></span><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">isplay</span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:decimal;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">- (void)d</span></span><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">rawRect</span></span></li>
</ol>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">layoutSubviews在以下情况下会被调用：</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">1、init初始化不会触发layoutSubviews</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;但是是用initWithFrame&nbsp;进行初始化时，当rect的值不为CGRectZero时,也会触发</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">2、addSubview会触发layoutSubviews</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">3、设置view的Frame会触发layoutSubviews，当然前提是frame的值设置前后发生了变化</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">4、滚动一个UIScrollView会触发layoutSubviews</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">5、旋转Screen会触发父UIView上的layoutSubviews事件</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">6、改变一个UIView大小的时候也会触发父UIView上的layoutSubviews事件</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">在苹果的官方文档中强调:</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">&nbsp;<wbr>&nbsp;&nbsp;<wbr>&nbsp;&nbsp;<wbr>&nbsp;You should override this method only if the autoresizing behaviors of the subviews do not offer the behavior you want.</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">&nbsp;<wbr></span>layoutSubviews, 当我们在某个类的内部调整子视图位置时，需要调用。</p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">反过来的意思就是说：如果你想要在外部设置subviews的位置，就不要重写。</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">&nbsp;<wbr></span>刷新子对象布局</p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">-layoutSubviews方法：这个方法，默认没有做任何事情，需要子类进行重写<br style="margin:0px;padding:0px;" />
-setNeedsLayout方法： 标记为需要重新布局，异步调用layoutIfNeeded刷新布局，不立即刷新，但layoutSubviews一定会被调用<br style="margin:0px;padding:0px;" />
-layoutIfNeeded方法：如果，有需要刷新的标记，立即调用layoutSubviews进行布局（如果没有标记，不会调用layoutSubviews）</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">如果要立即刷新，要先调用[view&nbsp;<wbr>setNeedsLayout]，把标记设为需要布局，然后马上调用[view&nbsp;<wbr>layoutIfNeeded]，实现布局</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">在视图第一次显示之前，标记总是“需要刷新”的，可以直接调用[view layoutIfNeeded]</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">重绘</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">-drawRect:(CGRect)rect方法：重写此方法，执行重绘任务<br style="margin:0px;padding:0px;" />
-setNeedsDisplay方法：标记为需要重绘，异步调用drawRect<br style="margin:0px;padding:0px;" />
-setNeedsDisplayInRect:(CGRect)invalidRect方法：标记为需要局部重绘</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;">&nbsp;<wbr></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">sizeToFit会自动调用sizeThatFits方法；</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">sizeToFit不应该在子类中被重写，应该重写sizeThatFits</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">sizeThatFits传入的参数是receiver当前的size，返回一个适合的size</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">sizeToFit可以被手动直接调用</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">sizeToFit和sizeThatFits方法都没有递归，对subviews也不负责，只负责自己</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">———————————-</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">layoutSubviews对subviews重新布局</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">layoutSubviews方法调用先于drawRect</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">setNeedsLayout在receiver标上一个需要被重新布局的标记，在系统runloop的下一个周期自动调用layoutSubviews</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">layoutIfNeeded方法如其名，UIKit会判断该receiver是否需要layout.根据Apple官方文档,layoutIfNeeded方法应该是这样的</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">&nbsp;<wbr>layoutIfNeeded遍历的不是superview链，应该是subviews链</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">drawRect是对receiver的重绘，能获得context</span></p>
<p style="color:#333333;font-variant-ligatures:normal;font-variant-position:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-variant-east-asian:normal;widows:1;margin-top:0px;margin-bottom:10px;padding-top:0px;padding-bottom:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:21px;font-family:simsun;text-indent:2em;"><span style="word-wrap:normal;word-break:normal;margin:0px;padding:0px;">setNeedDisplay在receiver标上一个需要被重新绘图的标记，在下一个draw周期自动重绘，iphone device的刷新频率是60hz，也就是1/60秒后重绘</span></p></body></html>