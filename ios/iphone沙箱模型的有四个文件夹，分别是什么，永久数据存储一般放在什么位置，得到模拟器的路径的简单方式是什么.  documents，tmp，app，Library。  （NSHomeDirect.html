<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2014-12-07T16:36:18Z"/><meta name="updated" content="2014-12-07T16:36:21Z"/><title>iphone沙箱模型的有四个文件夹，分别是什么，永久数据存储一般放在什么位置，得到模拟器的路径的简单方式是什么.  documents，tmp，app，Library。  （NSHomeDirect</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="color:#362e2b;font-family:simsun;line-height:21px;"><p style="color:#cc0000;margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;">iphone沙箱模型<b style="color:white;background-color:#880000;">的</b>有四个文件夹，分别是什么，永久数据存储一般放在什么位置，得到模拟器<b style="color:white;background-color:#880000;">的</b>路径<b style="color:white;background-color:#880000;">的</b>简单方式是什么.</p>
<p class="p0" style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;">documents，tmp，<a name="baidusnap2" style="color:#6a3906;"></a><b style="color:black;background-color:#99ff99;">app</b>，Library。</p>
<p class="p0" style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;">（NSHomeDirectory()），</p>
<p class="p15" style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;">手动保存<b style="color:white;background-color:#880000;">的</b>文件在documents文件里</p>
<p class="p15" style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;">Nsuserdefaults保存<b style="color:white;background-color:#880000;">的</b>文件在tmp文件夹里</p>
<p class="p15" style="color:#cc0000;margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#cc0000;background-color:#fbfbfb;">1、Documents&nbsp;<b style="color:black;background-color:#ff9999;">目录</b>：</span><span style="color:#555555;background-color:#fbfbfb;">您应该将所有</span><span style="color:black;">de</span><span style="color:#555555;background-color:#fbfbfb;">应用程序数据文件写入到这个<b style="color:black;background-color:#ff9999;">目录</b>下。这个<b style="color:black;background-color:#ff9999;">目录</b>用于存储用户数据或其它应该定期</span><span style="color:#555555;">备份</span><span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span><span style="color:#555555;">信</span><span style="color:#555555;background-color:#fbfbfb;">息。</span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="background-color:#fbfbfb;"><span style="color:#cc0000;">2、AppName.<b style="color:black;background-color:#99ff99;">app</b>&nbsp;<b style="color:black;background-color:#ff9999;">目录</b>：</span><span style="color:#555555;">这是应用程序</span></span><span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span><span style="color:#555555;background-color:#fbfbfb;">程序包<b style="color:black;background-color:#ff9999;">目录</b>，包含应用程序</span><span style="color:#555555;"><span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>本</span><span style="color:#555555;background-color:#fbfbfb;">身。由于应用程序必须经过签名，</span></span><span style="font-family:黑体;font-size:15px;line-height:22px;color:#555555;background-color:#fbfbfb;">所以您在运行时不能对这个<b style="color:black;background-color:#ff9999;">目录</b>中</span><span style="font-family:黑体;font-size:15px;line-height:22px;"><b style="color:white;background-color:#880000;">的</b><span style="color:#555555;"><a name="baidusnap4" style="color:#6a3906;"></a><b style="color:black;background-color:#ff66ff;">内</b>容进行修改，否则可能会使应用程序无法启动。</span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#cc0000;">3、Library&nbsp;<b style="color:black;background-color:#ff9999;">目录</b>：</span><span style="color:#555555;">这个<b style="color:black;background-color:#ff9999;">目录</b>下有两个子<b style="color:black;background-color:#ff9999;">目录</b>：Caches 和 Preferences</span><br />
<span style="color:#cc0000;">Preferences&nbsp;<b style="color:black;background-color:#ff9999;">目录</b>：</span><span style="color:#555555;">包含应用程序</span><span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span><span style="color:#555555;">偏好设置文件。您不应该直接创建偏好设置文件，而是应该使用NSUserDefaults类来取得和设置应用程序</span><span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span><span style="color:#555555;">偏好.</span><br />
<span style="color:#cc0000;">Caches&nbsp;<b style="color:black;background-color:#ff9999;">目录</b>：</span><span style="color:#555555;">用于存放应用程序专用</span><span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span><span style="color:#555555;">支持文件，保存应用程序再次启动过程中需要</span><span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span><span style="color:#555555;">信息。</span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#cc0000;">4、tmp&nbsp;<b style="color:black;background-color:#ff9999;">目录</b>：</span><span style="color:#555555;">这个<b style="color:black;background-color:#ff9999;">目录</b>用于存放临时文件，保存应用程序再次启动过程中不需要<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>信息。</span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#555555;"><br />
<b style="color:black;background-color:#a0ffff;">获取</b>这些<b style="color:black;background-color:#ff9999;">目录</b>路径<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>方法：<br />
1，<b style="color:black;background-color:#a0ffff;">获取</b>家<b style="color:black;background-color:#ff9999;">目录</b>路径<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>函数：<br />
NSString *homeDir = NSHomeDirectory();<br />
2，<b style="color:black;background-color:#a0ffff;">获取</b>Documents<b style="color:black;background-color:#ff9999;">目录</b>路径<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>方法：<br />
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);<br />
NSString *docDir = [paths objectAtIndex:0];<br />
3，<b style="color:black;background-color:#a0ffff;">获取</b>Caches<b style="color:black;background-color:#ff9999;">目录</b>路径<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>方法：<br />
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);<br />
NSString *cachesDir = [paths objectAtIndex:0];<br />
4，<b style="color:black;background-color:#a0ffff;">获取</b>tmp<b style="color:black;background-color:#ff9999;">目录</b>路径<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>方法：<br />
NSString *tmpDir = NSTemporaryDirectory();<br />
5，<b style="color:black;background-color:#a0ffff;">获取</b>应用程序程序包中资源文件路径<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>方法：<br />
例如<b style="color:black;background-color:#a0ffff;">获取</b>程序包中一个<a name="baidusnap6" style="color:#6a3906;"></a><b style="color:white;background-color:#00aa00;">图片</b>资源（apple.png）路径<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>方法：<br />
NSString *imagePath = [[NSBundle mainBundle] pathForResource:@”apple” ofType:@”png”];<br />
UIImage *appleImage = [[UIImage alloc] initWithContentsOfFile:imagePath];<br />
代码中<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>mainBundle类方法用于返回一个代表应用程序包<span style="color:black;"><b style="color:white;background-color:#880000;">的</b></span>对象。</span></span></p>
</div>
<div style="color:#362e2b;font-family:simsun;line-height:21px;"><strong><span style="color:#cc0000;">iphone沙盒(sandbox)中<b style="color:white;background-color:#880000;">的</b>几个<b style="color:black;background-color:#ff9999;">目录</b><b style="color:black;background-color:#a0ffff;">获取</b>方式：</span></strong></div>
<div style="color:#323e32;font-family:simsun;line-height:21px;"><pre name="code" class="cpp" style="white-space:pre-wrap;word-wrap:break-word;">// <b style="color:black;background-color:#a0ffff;">获取</b>沙盒主<b style="color:black;background-color:#ff9999;">目录</b>路径
NSString *homeDir = NSHomeDirectory();
// <b style="color:black;background-color:#a0ffff;">获取</b>Documents<b style="color:black;background-color:#ff9999;">目录</b>路径
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *docDir = [paths objectAtIndex:0];
// <b style="color:black;background-color:#a0ffff;">获取</b>Caches<b style="color:black;background-color:#ff9999;">目录</b>路径
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);
NSString *cachesDir = [paths objectAtIndex:0];
// <b style="color:black;background-color:#a0ffff;">获取</b>tmp<b style="color:black;background-color:#ff9999;">目录</b>路径
NSString *tmpDir =  NSTemporaryDirectory();</pre><pre name="code" class="cpp" style="white-space:pre-wrap;word-wrap:break-word;">// <b style="color:black;background-color:#a0ffff;">获取</b>当前程序包中一个<b style="color:white;background-color:#00aa00;">图片</b>资源（apple.png）路径
NSString *imagePath = [[NSBundle mainBundle] pathForResource:@"apple" ofType:@"png"];
UIImage *appleImage = [[UIImage alloc] initWithContentsOfFile:imagePath];</pre><p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#666666;"><span style="background-color:#fbfbfb;"><span style="color:#555555;">例子：</span></span></span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#666666;"><span style="background-color:#fbfbfb;"><span style="color:#555555;">NSFileManager* fm=[NSFileManager defaultManager];<br />
if(![fm fileExistsAtPath:[self dataFilePath]]){</span></span></span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#666666;"><span style="background-color:#fbfbfb;"><span style="color:#555555;">//下面是对该文件进行制定路径<span style="color:black;background-color:#ff9999;"><b style="color:white;background-color:#880000;">的</b></span>保存<br />
[fm createDirectoryAtPath:[self dataFilePath] withIntermediateDirectories:YES attributes:nil error:nil];</span></span></span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#666666;"><span style="background-color:#fbfbfb;"><span style="color:#555555;">//取得一个<b style="color:black;background-color:#ff9999;">目录</b>下得所有文件名<br />
NSArray *files = [fm subpathsAtPath: [self dataFilePath] ];</span></span></span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#666666;"><span style="background-color:#fbfbfb;"><span style="color:#555555;">//读取某个文件<br />
NSData *data = [fm contentsAtPath:[self dataFilePath]];</span></span></span></span></p>
<p style="margin:10px auto;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.799999237060547px;"><span style="line-height:22px;font-size:15px;font-family:黑体;"><span style="color:#666666;"><span style="background-color:#fbfbfb;"><span style="color:#555555;">//或者<br />
NSData *data = [NSData dataWithContentOfPath:[self dataFilePath]];<br />
}</span></span></span></span></p>
</div></body></html>