<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2013-11-28T02:17:34Z"/><meta name="updated" content="2013-11-28T02:17:35Z"/><title>ios摇动侦测，三轴重力感应器</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div class="multicntwrap"><div class="multicnt"><div><h3 class="title pre fs1"><span class="tcnt">ios摇动侦测，三轴重力感应器</span>&nbsp;&nbsp;<span class="bgc0 fc07 fw0 fs0"></span></h3><p style="LINE-HEIGHT: 20px" class="tdep clearfix nbw-act fc06"><span class="pleft"><span class="blogsep">2013-01-17 16:17:09</span><span class="blogsep">|&nbsp;&nbsp;分类：</span> <a class="fc03 m2a" title="IOS编程学习" href="http://wakan190.blog.163.com/blog/#m=0&amp;t=1&amp;c=fks_084070080083082069086094086095085094082071092095083068080">IOS编程学习</a> <span id="$_blogTagTitle" class="blogsep">|&nbsp;&nbsp;标签：</span><span id="$_blogTagInfo" class="fc03"><a class="fc03 m2a" href="http://wakan190.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E6%91%87%E5%8A%A8">摇动</a>&nbsp;&nbsp;<a class="fc03 m2a" href="http://wakan190.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E9%87%8D%E5%8A%9B%E6%84%9F%E5%BA%94">重力感应</a>&nbsp;&nbsp;</span> </span><span class="pright fc07 ztag"><span class="blogsep">|</span><span id="$_fontswitch" class="zihao fc03">字号</span></span><span id="$_blog_subscribe" class="pright pnt fc03"><span class="iblock icn0 icn0-919">&nbsp;</span><a class="m2a">订阅</a></span> </p></div></div></div><div></div><div class="nbw-blog-start"></div><div class="bct fc05 fc11 nbw-blog ztag js-fs2"><font color="#3366ff">1使用条件：满足&lt;UIAccelerometerDelegate&gt;协议</font><br/><br/><font color="#3366ff">2感知摇动的两种方法</font><br/><font color="#ff0000">a</font>&nbsp;&nbsp; -(void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event//侦测摇动 开始<br/><br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; -(void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event //侦测摇动结束<br/><br/>-(BOOL)canBecomeFirstResponder<br/>{//设置自己微第一接收对象<br/>&nbsp;&nbsp;&nbsp; return YES;<br/>}<br/>在下面viewWillAppear中还要加一句 [[self view] becomeFirstResponder];<br/>//////////////////////////////////////////////////////////////////<br/><br/><font color="#ff0000">b</font>&nbsp;&nbsp; -(void)accelerometer:(UIAccelerometer *)accelerometer didAccelerate:(UIAcceleration *)acceleration<br/>{//可以感知三轴的实时数据<br/>&nbsp;&nbsp;&nbsp; NSLog(@&quot;%.f,%.f,%.f&quot;,[acceleration x],[acceleration y],[acceleration z]);<br/>}<br/>要用到该函数必须先设置<br/>-(void)viewWillAppear:(BOOL)animated<br/>{<br/>&nbsp;&nbsp;&nbsp; [super viewWillAppear:animated];<br/>&nbsp; //设置一个加速器对象<br/>&nbsp;&nbsp;&nbsp; UIAccelerometer *a = [UIAccelerometer sharedAccelerometer];<br/>&nbsp;&nbsp;&nbsp; // 设置接收时间间隔<br/>&nbsp;&nbsp;&nbsp; [a setUpdateInterval:0.1];<br/>&nbsp;&nbsp;&nbsp; [a setDelegate:self];//委托设置为自己<br/>&nbsp;&nbsp;&nbsp; [[self view] becomeFirstResponder];<br/>}<br/><br/>-(void)viewWillDisappear:(BOOL)animated<br/>{&nbsp; //不用的时候就关闭<br/>&nbsp;&nbsp;&nbsp; [super viewWillDisappear:animated];<br/>&nbsp;&nbsp;&nbsp; [[UIAccelerometer sharedAccelerometer] setDelegate:nil];<br/>}</div></body></html>