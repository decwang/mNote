<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2014-12-09T11:24:38Z"/><meta name="updated" content="2015-07-28T03:08:51Z"/><title> <iOS开发兼容问题>关于IOS6和IOS5旋屏问题    分类： 技术2012-12-17 15:24 1792人阅读 评论(0) 收藏 举报  相信大家都知道，ios6并不支持 shouldA</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div class="article_title" style="margin:5px 0px;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';">&nbsp;<h1 style="margin:0px;padding:0px;display:inline;font-weight:normal;font-size:20px;vertical-align:middle;"><span class="link_title"><a href="http://blog.csdn.net/smking/article/details/8307590" style="color:#000000;text-decoration:none;">&lt;iOS开发兼容问题&gt;关于IOS6和IOS5旋屏问题</a></span></h1>
</div>
<div class="article_manage" style="padding:5px 0px;color:#999999;font-size:12px;line-height:24px;font-family:Arial;text-align:right;"><span class="link_categories" style="margin:0px 5px;float:left;">分类：&nbsp;<a href="http://blog.csdn.net/smking/article/category/585876" style="color:#336699;text-decoration:none;">技术</a></span><span class="link_postdate" style="margin:0px 5px 0px 0px;">2012-12-17 15:24</span>&nbsp;<span class="link_view" title="阅读次数" style="margin:0px 5px;padding:0px 0px 0px 14px;background-image:url(http://static.blog.csdn.net/images/ico_view.png);background-position:0% 50%;background-repeat:no-repeat no-repeat;">1792人阅读</span>&nbsp;<span class="link_comments" title="评论次数" style="margin:0px 5px;padding:0px 0px 0px 14px;background-image:url(http://static.blog.csdn.net/images/ico_comm.png);background-position:0% 50%;background-repeat:no-repeat no-repeat;"><a href="http://blog.csdn.net/smking/article/details/8307590#comments" style="color:#336699;text-decoration:none;">评论</a>(0)</span>&nbsp;<span class="link_collect" style="margin:0px 5px;"><a title="收藏" style="color:#336699;">收藏</a></span>&nbsp;<span class="link_report" style="margin:0px 5px;"><a href="http://blog.csdn.net/smking/article/details/8307590#report" title="举报" style="color:#336699;text-decoration:none;">举报</a></span></div>
<div id="article_content" class="article_content" style="margin:20px 0px 0px;line-height:26px;font-family:Arial;color:#333333;"><p><span style="font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;line-height:24px;">相信大家都知道，ios6并不支持&nbsp;shouldAutorotateToInterfaceOrientation 而强制打开项目的所有方向旋屏，会给一部分项目带来不便，</span></p>
<p><span style="font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;line-height:24px;">这个问题源于我以前的程序，都是在</span><span style="font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;line-height:24px;">shouldAutorotateToInterfaceOrientation来判断当前的朝向，从而决定界面的布局，但是由于这个方法在ios6上不再调用，所以会出现ios6上无法旋转，且如果你之前的程序只支持横屏的话，在ios6上运行，会出现只能竖屏，并能以竖屏的方式显示以前横屏的内容。这时你会看到界面被切割，难看得你想骂人（如果你是用户的话）。</span></p>
<p>&nbsp;</p>
<p></p>
<p><span style="font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;line-height:24px;">特别是rootController是横屏的情况下，如果纵向放置会出现明显的错位，这点在ios5会出现，ios6系统自动检测了，这里简单介绍下我的处理方法：</span></p>
<div>当然，在写这个博文时，我也在网上查过一些资料。</div>
第一步：设置plist中的支持可以旋转的朝向。<p><span style="color:#555555;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;line-height:24px;"><span style="font-size:12px;">第二步：</span>在项目的AppDelegate文件加入 （其实我在试验中发现这步可有可无，当然也有可能我没有发现其重要性。）</span></p>
<p></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;color:#555555;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">- (NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window{</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;color:#555555;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">return UIInterfaceOrientationMaskAll;</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;color:#555555;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">}</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;"><span style="color:#555555;">第三步：</span><span style="color:#ff6666;"><strong>在只需要横屏的控制器内添加</strong></span></p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">// ios5下的旋屏</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation&nbsp;{</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">return UIInterfaceOrientationIsLandscape(interfaceOrientation);</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">}</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">// ios6下的旋屏</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">-(BOOL)shouldAutorotate&nbsp;{</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">return YES;</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">}</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">-(NSUInteger)supportedInterfaceOrientations&nbsp;{</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">return UIInterfaceOrientationMaskLandscape;</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">}</p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;"></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;"><strong><span style="color:#cc0000;">在需要全方位旋屏的控制器内添加</span></strong></p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation {</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">return YES;</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">}</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">&nbsp;</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">-(NSUInteger)supportedInterfaceOrientations&nbsp;{</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">return UIInterfaceOrientationMaskAll;</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">}</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">&nbsp;</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">-(BOOL)shouldAutorotate&nbsp;{</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">return YES;</p>
<p style="color:#555555;margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">}</p>
说明：<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;">1。<span style="color:#555555;">如果没有在AppDelegate声明项目方向，在控制器旋屏情况下有时候会卡屏，选不过来，而且会有严重的错位。（但这个问题我目前还没有发现）</span></p>
<p style="margin-top:0px;margin-bottom:10px;padding-top:5px;padding-bottom:5px;line-height:24px;font-family:Arial, Tahoma, 'Century gothic', sans-serif;font-size:13px;"><span style="color:#555555;">2。注意其中shouldAutorotateToInterfaceOrientation（）中的参数是</span><span style="font-family:Menlo;color:#555555;">UIInterfaceOrientationPortrait， 而<span style="font-family:Arial, Tahoma, 'Century gothic', sans-serif;">-(NSUInteger)supportedInterfaceOrientations&nbsp;{}， 返回的参数是</span></span></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:Menlo;color:#3f217c;">UIInterfaceOrientationMaskPortrait类型的，我之前就是因为把这两个类型搞混了，所以才费了半天劲最终找到问题的原因。希望对大家有所帮助。</p>
</div></body></html>