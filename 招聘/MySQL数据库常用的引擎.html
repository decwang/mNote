<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content=mNote Mac 2.5.11"/><meta name="created" content="2017-05-15T02:56:59Z"/><meta name="updated" content="2017-05-15T02:57:14Z"/><title>MySQL数据库常用的引擎</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">在MySQL数据库中，常用的引擎主要就是2个：Innodb和MyIASM。</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">首先：</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="margin:0px;padding:0px;color:#ff00ff;">1.简单介绍这两种引擎，以及该如何去选择。</span><br style="margin:0px;padding:0px;" />
<span style="margin:0px;padding:0px;color:#ff00ff;">2.这两种引擎所使用的数据结构是什么。</span></p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">1.</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="margin:0px;padding:0px;color:#993366;">a.Innodb引擎，Innodb引擎提供了对数据库ACID事务的支持。并且还提供了行级锁和外键的约束。它的设计的目标就是处理大数据容量的数据库系统。它本身实际上是基于Mysql后台的完整的系统。Mysql运行的时候，Innodb会在内存中建立缓冲池，用于缓冲数据和索引。但是，该引擎是不支持全文搜索的。同时，启动也比较的慢，它是不会保存表的行数的。当进行Select count(*) from table指令的时候，需要进行扫描全表。所以当需要使用数据库的事务时，该引擎就是首选。由于锁的粒度小，写操作是不会锁定全表的。所以在并发度较高的场景下使用会提升效率的。</span></p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="margin:0px;padding:0px;color:#0000ff;">b.MyIASM引擎，它是MySql的默认引擎，但不提供事务的支持，也不支持行级锁和外键。因此当执行Insert插入和Update更新语句时，即执行写操作的时候需要锁定这个表。所以会导致效率会降低。不过和Innodb不同的是，MyIASM引擎是保存了表的行数，于是当进行Select count(*) from table语句时，可以直接的读取已经保存的值而不需要进行扫描全表。所以，如果表的读操作远远多于写操作时，并且不需要事务的支持的。可以将MyIASM作为数据库引擎的首先。</span></p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">补充2点：</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="margin:0px;padding:0px;color:#800080;">c.大容量的数据集时趋向于选择Innodb。因为它支持事务处理和故障的恢复。Innodb可以利用数据日志来进行数据的恢复。主键的查询在Innodb也是比较快的。</span></p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;"><span style="margin:0px;padding:0px;color:#ff6600;">d.大批量的插入语句时（这里是INSERT语句）在MyIASM引擎中执行的比较的快，但是UPDATE语句在Innodb下执行的会比较的快，尤其是在并发量大的时候。</span></p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">2.两种引擎所使用的索引的数据结构是什么？</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">答案:都是<span style="margin:0px;padding:0px;color:#ff00ff;">B+树</span>!</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">MyIASM引擎，B+树的数据结构中存储的内容实际上是实际数据的地址值。也就是说它的索引和实际数据是分开的，只不过使用索引指向了实际数据。这种索引的模式被称为<span style="margin:0px;padding:0px;color:#ff0000;">非聚集索引</span>。</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">Innodb引擎的索引的数据结构也是B+树，只不过数据结构中存储的都是实际的数据，这种索引有被称为<span style="margin:0px;padding:0px;color:#ff0000;">聚集索引</span>。</p>
<p style="margin:10px auto;padding:0px;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;font-variant-ligatures:normal;orphans:2;widows:2;">参考：<a href="http://blog.csdn.net/lulei1217/article/details/50954232" target="_blank" style="margin:0px;padding:0px;color:#000000;">http://blog.csdn.net/lulei1217/article/details/50954232</a></p></body></html>